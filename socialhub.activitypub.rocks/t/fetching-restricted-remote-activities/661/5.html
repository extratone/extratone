<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Fetching restricted remote activities - #5 by yvolk - Client to Server - SocialHub</title>
    <meta name="description" content="In ActivityPub you can have activities/actors/objects that need to be authenticated to fetch (to get url-referenced objects in the client, for example actors) and I was wondering how it should be done. 
I can think of tw&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.0.beta2 - https://github.com/discourse/discourse version c39ab6c0ae3803b6a62501954ae40adb6b73d580">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/1X/b7023860b3d7df97ea10ba3c7ab11cb046a77c7a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/1X/8faac84234dc73d074dadaa2bcf24dc746b8647f_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../661.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://socialhub.activitypub.rocks","potentialAction":{"@type":"SearchAction","target":"https://socialhub.activitypub.rocks/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="SocialHub Search">

      <link href="https://socialhub.activitypub.rocks/stylesheets/desktop_caa977791d50efc800b8ef1bcbafb8a15f082761.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop" />
      <link href="https://socialhub.activitypub.rocks/stylesheets/desktop_theme_5_969dd27459c19a0b7620746a3d179b86ef033d7a.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="5"/>
<link href="https://socialhub.activitypub.rocks/stylesheets/desktop_theme_3_f50bf2f225326f482d56e65e93f1f047d48417a9.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3"/>
<link href="https://socialhub.activitypub.rocks/stylesheets/desktop_theme_8_e3f93470fef56ec97b63f77e16779e328baab8ea.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="8"/>
<link href="https://socialhub.activitypub.rocks/stylesheets/desktop_theme_4_8d506fd22b761a15044193a6d4ebda5f6bde2498.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4"/>
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Fetching restricted remote activities&#39;" href="../661.rss" />
    <meta property="og:site_name" content="SocialHub" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://socialhub.activitypub.rocks/uploads/default/original/1X/8faac84234dc73d074dadaa2bcf24dc746b8647f.png" />
<meta property="og:image" content="https://socialhub.activitypub.rocks/uploads/default/original/1X/8faac84234dc73d074dadaa2bcf24dc746b8647f.png" />
<meta property="og:url" content="https://socialhub.activitypub.rocks/t/fetching-restricted-remote-activities/661/5" />
<meta name="twitter:url" content="https://socialhub.activitypub.rocks/t/fetching-restricted-remote-activities/661/5" />
<meta property="og:title" content="Fetching restricted remote activities" />
<meta name="twitter:title" content="Fetching restricted remote activities" />
<meta property="og:description" content="ðŸ™‚ I wrote the whole scenario exactly in order to show that point 4.1. exists. My view is that ability for a client app to request (at least publicâ€¦) resources directly from their sources is a key feature that ActivityPub C2S gives us. Please read also related thread CORS restrictions  @andstatus app actively uses this feature, which allows it to get information from the first hands, without a bottleneck of a server, to which app is logged inâ€¦  Regarding objects with restricted acce..." />
<meta name="twitter:description" content="ðŸ™‚ I wrote the whole scenario exactly in order to show that point 4.1. exists. My view is that ability for a client app to request (at least publicâ€¦) resources directly from their sources is a key feature that ActivityPub C2S gives us. Please read also related thread CORS restrictions  @andstatus app actively uses this feature, which allows it to get information from the first hands, without a bottleneck of a server, to which app is logged inâ€¦  Regarding objects with restricted acce..." />
<meta property="article:published_time" content="2020-05-07T04:56:00+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
<script src="https://socialhub.activitypub.rocks/theme-javascripts/3a68d4ddcab78e923b7c4169708a8f1deb79df66.js?__ws=socialhub.activitypub.rocks"></script>
    <header>
      <a href="https://socialhub.activitypub.rocks/">
          <img src="../../../uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png" alt="SocialHub" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="../661.html">Fetching restricted remote activities</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../../c/activitypub.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #0088CC'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>ActivityPub</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../../c/activitypub/c2s/6.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #ED207B'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Client to Server</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites SingularitÃ©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/lanodan.html'><span itemprop='name'>lanodan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../661.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2020-05-06T10:22:10Z'>
              <time itemprop='dateModified' datetime='2020-05-06T10:24:32Z' class='post-time'>
                May 6, 2020, 10:24am
              </time>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>In ActivityPub you can have activities/actors/objects that need to be authenticated to fetch (to get url-referenced objects in the client, for example actors) and I was wondering how it should be done.</p>
<p>I can think of two ways it could be done:</p>
<ul>
<li>via a proxying endpoint on your own server (not verified but maybe HTTP Proxy could simply be reused)</li>
<li>by fetching on the remote server (not a fan of that) via HTTP Signatures</li>
</ul>
<p>cc: <a class="mention" href="../../../u/yvolk.html">@yvolk</a></p>
        </div>

        <meta itemprop='headline' content='Fetching restricted remote activities'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites SingularitÃ©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/nightpool.html'><span itemprop='name'>nightpool</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../661.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-05-06T13:38:03Z' class='post-time'>
                May 6, 2020,  1:38pm
              </time>
              <meta itemprop='dateModified' content='2020-05-06T13:38:03Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Currently, itâ€™s not safe for servers to expose the private keys they use to sign activities to individual clients or users, so 1. is the only possible solution.</p>
<p>(thereâ€™s a DOS vulnerability if you let individual clients sign their own activitiesâ€”they can create activities with an <code>id</code> on their own domain but matching the <code>id</code> of another userâ€™s activity on the same domain, and prevent other servers from receiving that userâ€™s activity)</p>
        </div>

        <meta itemprop='headline' content='Fetching restricted remote activities'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites SingularitÃ©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/yvolk.html'><span itemprop='name'>yvolk</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../661.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2020-05-06T18:41:41Z'>
              <time itemprop='dateModified' datetime='2020-05-07T05:33:30Z' class='post-time'>
                May 7, 2020,  5:33am
              </time>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a class="mention" href="../../../u/lanodan.html">@lanodan</a> <a class="mention" href="../../../u/nightpool.html">@nightpool</a>  In order for us all to understand the case, letâ€™s start with a usage scenario.<br>
As I understand, we could start with this:</p>
<ol>
<li>
<p>Client app is logged into Server1 as Actor1.</p>
</li>
<li>
<p>Client app receives Activity1 from Server1. Activity1 refers ( inReplyTo ) to Activity2 on Server2 by URL2 (id) of that Activity2.</p>
</li>
<li>
<p>Client app requests Activity2 object from its original URL2 without any authentication.</p>
</li>
</ol>
<p>4.1. If Activity2 is publicly accessible, Server2 responds with the activityâ€™s object.<br>
4.1.1. Success</p>
<p>4.2. If Activity2 is NOT publicly accessible, Server2 responds with HTTP 403 error ?!<br>
4.2.1. Client app needs another way to get Activity2.<br>
4.2.2. ???</p>
<p>Are we talking about this?<br>
â€¦</p>
        </div>

        <meta itemprop='headline' content='Fetching restricted remote activities'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites SingularitÃ©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/lanodan.html'><span itemprop='name'>lanodan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../661.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2020-05-07T00:13:25Z'>
              <time itemprop='dateModified' datetime='2020-05-07T00:14:52Z' class='post-time'>
                May 7, 2020, 12:14am
              </time>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>[2020-05-06 18:51:48+0000] Yuri Volkov via SocialHub:</p>
<blockquote>
<p><a class="mention" href="../../../u/lanodan.html">@lanodan</a> <a class="mention" href="../../../u/nightpool.html">@nightpool</a>  In order for us all to understand the case, letâ€™s start with a usage scenario.<br>
As I understand, we could start with this:</p>
<ol>
<li>
<p>Client app is logged into Server1 as Actor1.</p>
</li>
<li>
<p>Client app receives Activity1 from Server1. Activity1 refers ( inReplyTo ) to Activity2 on Server2 by URL2 (id) of that Activity2.</p>
</li>
<li>
<p>Client app requests Activity2 object from its original URL2 without any authentication.</p>
</li>
</ol>
<p>4.1. If Activity2 is publicly accessible, Server2 responses with the activityâ€™s object.<br>
4.1.1. Success</p>
<p>4.2. If Activity2 is NOT publicly accessible, Server2 responses with HTTP 403 error ?!<br>
4.2.1. Client app needs another way to get Activity2.<br>
4.2.2. ???</p>
<p>Are we talking about this?<br>
â€¦</p>
</blockquote>
<p>Yes, exactly this, with also the thing that I donâ€™t think we should ever fetch from a foreign server so (4.1) shouldnâ€™t be attempted. (privacy concerns but potentially security ones as well because you could use that for essentially turning the network into a http-get botnet, which we already quite have but with few limits)</p>
        </div>

        <meta itemprop='headline' content='Fetching restricted remote activities'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites SingularitÃ©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/yvolk.html'><span itemprop='name'>yvolk</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../661.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-05-07T04:56:00Z' class='post-time'>
                May 7, 2020,  4:56am
              </time>
              <meta itemprop='dateModified' content='2020-05-07T04:56:00Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote group-pleroma" data-username="lanodan" data-post="4" data-topic="661">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/socialhub.activitypub.rocks/lanodan/40/40_2.png" class="avatar"> lanodan:</div>
<blockquote>
<p>I donâ€™t think we should ever fetch from a foreign server so (4.1) shouldnâ€™t be attempted. (</p>
</blockquote>
</aside>
<p><img src="../../../images/emoji/twitter/slight_smile.png@v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"> I wrote the whole scenario exactly in order to show that point 4.1. exists. My view is that ability for a client app to request (at least publicâ€¦) resources directly from their sources is a key feature that ActivityPub C2S gives us. Please read also related thread <a href="../../cors-restrictions/658/3.html" class="inline-onebox">CORS restrictions</a><br>
<a class="mention-group" href="../../../groups/andstatus.html">@andstatus</a> app actively uses this feature, which allows it to get information from the first hands, without a bottleneck of a server, to which app is logged inâ€¦</p>
<p>Regarding objects with restricted access, a client app could (as I see nowâ€¦) also access Server2 directly using OAuth tokens obtained from Server1 (with authenticating Server1 having some trust relation with Server2â€¦ )</p>
        </div>

        <meta itemprop='headline' content='Fetching restricted remote activities'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites SingularitÃ©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/koehn.html'><span itemprop='name'>koehn</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../661.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-05-07T11:59:05Z' class='post-time'>
                May 7, 2020, 11:59am
              </time>
              <meta itemprop='dateModified' content='2020-05-07T11:59:05Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote group-mastodon" data-username="nightpool" data-post="2" data-topic="661">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/socialhub.activitypub.rocks/nightpool/40/36_2.png" class="avatar"> nightpool:</div>
<blockquote>
<p>(thereâ€™s a DOS vulnerability if you let individual clients sign their own activitiesâ€”they can create activities with an <code>id</code> on their own domain but matching the <code>id</code> of another userâ€™s activity on the same domain, and prevent other servers from receiving that userâ€™s activity)</p>
</blockquote>
</aside>
<p>If youâ€™re going to allow users to create IDs, you should isolate them so that they <em>cannot</em> collide. E.g., user <code>bob</code> can create activities with IDs in <code>https://example.com/bob/activities</code> and user <code>alice</code> can create activities with IDs in <code>https://example.com/alice/activities</code>. If <code>alice</code> tries to create an ID in <code>bob</code>'s namespace, she gets <code>Forbidden</code>.</p>
        </div>

        <meta itemprop='headline' content='Fetching restricted remote activities'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites SingularitÃ©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/nightpool.html'><span itemprop='name'>nightpool</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../661.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-05-07T12:50:34Z' class='post-time'>
                May 7, 2020, 12:50pm
              </time>
              <meta itemprop='dateModified' content='2020-05-07T12:50:34Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="koehn" data-post="6" data-topic="661">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../../user_avatar/socialhub.activitypub.rocks/koehn/40/311_2.png" class="avatar"> koehn:</div>
<blockquote>
<p>If youâ€™re going to allow users to create IDs, you should isolate them so that they <em>cannot</em> collide.</p>
</blockquote>
</aside>
<p>correct. that is not, however, a restriction the remote server can currently impose, because it has no knowledge of the origin serverâ€™s URI structure. Therefore, it is not safe to allow individual users access to the private keys tied to their actor on your server, since otherwise they would be able to bypass the ID creation requirements of your server.</p>
        </div>

        <meta itemprop='headline' content='Fetching restricted remote activities'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites SingularitÃ©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/koehn.html'><span itemprop='name'>koehn</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../661.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-05-07T13:20:59Z' class='post-time'>
                May 7, 2020,  1:20pm
              </time>
              <meta itemprop='dateModified' content='2020-05-07T13:20:59Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>OK, I think Iâ€™m caught up now. Youâ€™re imagining a scenario where thereâ€™s an activity with the <code>id</code> <code>https://example.com/bob/123</code> on the <code>example.com</code> server, and that malicious actor Alice can create and sign a message with the same <code>id</code> and send it to another server, thereby corrupting its cache of the Activity with that <code>id</code>.</p>
<p>Since server developers cannot rely on other implementations not leaking private keys (intentionally or not), it would seem that this is a scenario that must be handled in any case. Therefore, servers should not trust the object they receive in the <code>POST</code> request, and should instead <code>GET</code> their own copy from the remote server, using the <code>id</code> of the Activity they received and the recipientâ€™s signing key.</p>
        </div>

        <meta itemprop='headline' content='Fetching restricted remote activities'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites SingularitÃ©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/koehn.html'><span itemprop='name'>koehn</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../661.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-05-07T13:40:21Z' class='post-time'>
                May 7, 2020,  1:40pm
              </time>
              <meta itemprop='dateModified' content='2020-05-07T13:40:21Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>There are a number of weaknesses in the current model that will need to be addressed for this to work in the long term; youâ€™ve identified a good one. I can imagine a resolution where the URL scope of the client key is included in the actor; but there should also be authentication that the message came from the server, so a PKI for servers should also be developed.</p>
<p>Basically weâ€™re solving many of the same problems we have with email, which shouldnâ€™t be very surprising since both systems are distributed, federated message systems.</p>
        </div>

        <meta itemprop='headline' content='Fetching restricted remote activities'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites SingularitÃ©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/schmittlauch.html'><span itemprop='name'>schmittlauch</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../661.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-05-08T21:52:38Z' class='post-time'>
                May 8, 2020,  9:52pm
              </time>
              <meta itemprop='dateModified' content='2020-05-08T21:52:38Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Right now there are some efforts in Mastodon about <em><strong>removing the ability of fetching non-public objects</strong></em> at all, relying fully on getting those pushed: <a href="https://github.com/tootsuite/mastodon/pull/13584" rel="nofollow noopener">https://github.com/tootsuite/mastodon/pull/13584</a></p>
<p>I find stripping those relatively essential parts of ActivityPub away a bit concerning, although I can understand the point of complexity.<br>
But I think before deciding to do so because of the lack of usage <em>right now</em>, it should at least be discussed in the protocol and implementers community.</p>
<p>So should I invite <span class="mention">@ThibG</span> over here?</p>
        </div>

        <meta itemprop='headline' content='Fetching restricted remote activities'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
