<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Improvement to FEDERATION.md convention: Murmurations</title>
    <link>https://socialhub.activitypub.rocks/t/improvement-to-federation-md-convention-murmurations/1573</link>
    <description>## Background

Proposed last year by @darius in https://socialhub.activitypub.rocks/t/documenting-federation-behavior-in-a-semi-standard-way/453 proposed the FEDERATION.md convention, and discussed in [SocialCG 2020-02-08](https://www.w3.org/2020/02/08-social-minutes.html) was the convention to have a FEDERATION.md in the root of code repositories of a federated application project, to describe in what ways the app implements its federated messages.

FEDERATION.md was a concession. With it the interoperability capabilities of a federated apps can be described by:

- [NodeInfo](https://github.com/jhass/nodeinfo): A per-server machine-readable definition, with basic metadata about the server
- FEDERATION.md: Hand-written doc to describe interoperability in detail, side effects, business logic, etc.

Standardizing full capability negotiation in a machine-readable format  was deemed too complex.

Since then [a handful of projects](https://socialhub.activitypub.rocks/t/guide-for-new-activitypub-implementers/479#federation-md) have committed to the convention:

* [gathio ](https://github.com/dariusk/gathio/blob/783a5fbc270452148a6bcc92cb37469e6da349d7/FEDERATION.md)
* [WriteFreely ](https://github.com/writefreely/documentation/blob/63dadbfd3654696f8539b7532f8df54512f2854b/writer/federation.md)
* [Zap](https://framagit.org/zot/zap/blob/master/FEDERATION.md)
* [Tavern](https://gitlab.com/ngerakines/tavern/-/blob/master/FEDERATION.md)
* [Smithereen ](https://github.com/grishka/Smithereen/blob/e1b76b85edb2e5ec7e3d695a3be5e23bade6aaab/FEDERATION.md)
* [gancio](https://github.com/lesion/gancio/blob/9472d8d919face015065209047247d08c18b4895/docs/federation.md)
* [Lemmy ](https://join.lemmy.ml/docs/en/federation/overview.html) (not FEDERATION.md but a page in site docs)

## The Problem

- As fedi developers we need to know how Fediverse evolves, which AS/AP extensions are in use, and preferably adopt them ourselves or even standardize them (using the [Fediverse Enhancement Proposals](https://socialhub.activitypub.rocks/t/about-the-fediverse-enhancement-proposals/1168) process.

- Ideally we want to have a clear overview of all interoperability designs, both standards-based and custom extensions, in use today without having to hop around and search for info across the web.

- Even if there is a FEDERATION.md document, they are all formatted differently, and it is unclear whether they are kept up-to-date at all. This makes maintaining of a directory hard and time-consuming.

- The FEDERATION.md convention is not known by most AP devs, can be streamlined, and provide more incentives to adhere to it.

**Update**: [ActivityPubSchema](https://github.com/redaktor/ActivityPubSchema) by @Sebastian may be usable for the validation of federation profiles.

## The Improvement

A possible solution that goes a step further than informal FEDERATION.md documents, but still stays well away from tackling the complexity of a machine-readable capability negotiation standard, is to use the [Murmurations Protocol](https://murmurations.network/) to describe how federation is implemented in each app.

- Primary goal is to deliver _consistent_ documentation on how interop can be achieved, in the form of a document template.

- Secondary goal is to make it easy to discover this documentation, regardless of where an implementation keeps track of it.

The document template could be set up in such way that it can be read as a checklist by someone implementing a compliant app, describing side-effects, validation and other rules. 

&gt; ## Solution
&gt;
&gt; 1. Define a JSON-LD Murmurations Profile that is **document template** to describe AP interoperability support.
&gt;
&gt; 2. Fediverse projects maintain their own profile, and register it with [The Murmurations Index](https://app.swaggerhub.com/apis-docs/MurmurationsNetwork/IndexAPI/1.0).
&gt;     - They can use it for their own website to generate reference documentation from it.
&gt;
&gt; 3. A SocialHub-affiliated website functions as the Murmurations Aggregator and generates a Directory of docs.

By creating a profile there is assurance that all projects deliver consistent content. There can be a bunch of additional metadata in it, such as &#39;Last updated&#39; or &#39;Release Version&#39; to gauge relevance. And &#39;Issue Tracker&#39;, &#39;Repositories&#39;, &#39;Project lead&#39; and other project metadata to ease inquiries and contributions. Etcetera.

## Side note: Federated Murmurations

This topic has been split, see also: https://socialhub.activitypub.rocks/t/federating-the-murmurations-protocol/1701</description>
    
    <lastBuildDate>Mon, 03 May 2021 16:33:45 +0000</lastBuildDate>
    <category>Fediverse Futures</category>
    <atom:link href="https://socialhub.activitypub.rocks/t/improvement-to-federation-md-convention-murmurations/1573.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Improvement to FEDERATION.md convention: Murmurations</title>
        <dc:creator><![CDATA[aschrijver]]></dc:creator>
        <description><![CDATA[
            <p>2 posts were split to a new topic: <a href="/t/federating-the-murmurations-protocol/1701">Federating the Murmurations Protocol</a></p>
          <p><a href="https://socialhub.activitypub.rocks/t/improvement-to-federation-md-convention-murmurations/1573/3">Read full topic</a></p>
        ]]></description>
        <link>https://socialhub.activitypub.rocks/t/improvement-to-federation-md-convention-murmurations/1573/3</link>
        <pubDate>Wed, 05 May 2021 07:10:46 +0000</pubDate>
        <guid isPermaLink="false">socialhub.activitypub.rocks-post-1573-3</guid>
        <source url="https://socialhub.activitypub.rocks/t/improvement-to-federation-md-convention-murmurations/1573.rss">Improvement to FEDERATION.md convention: Murmurations</source>
      </item>
      <item>
        <title>Improvement to FEDERATION.md convention: Murmurations</title>
        <dc:creator><![CDATA[bengo]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="aschrijver" data-post="1" data-topic="1573">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://socialhub.activitypub.rocks/user_avatar/socialhub.activitypub.rocks/aschrijver/40/278_2.png" class="avatar"> aschrijver:</div>
<blockquote>
<p><a href="https://github.com/redaktor/ActivityPubSchema" rel="noopener nofollow ugc">ActivityPubSchema</a> by <a class="mention" href="/u/sebastian">@Sebastian</a> may be usable for the validation of federation profiles.</p>
</blockquote>
</aside>
<p>I’d also previously made this <a href="https://github.com/gobengo/activitystreams2-spec-scraped" rel="noopener nofollow ugc">package</a> that scraped the HTML specifications to generate an rdfs schema. I find this to be a useful form to consider a schema, since it’s just more linked data.</p>
<p>e.g. if you have npm, run <code>npx actvitystreams2-spec-scraped</code>. Or here is <a href="https://github.com/gobengo/activitystreams2-spec-scraped/blob/16ed216dc576ff9848ef4b9e94e690ef43a4ff11/data/activitystreams-vocabulary/1528589057.json" rel="noopener nofollow ugc">sample output</a>.</p>
<p>It would be harder to scrape the ActivityPub spec html for schemas, but I do think it would be nice to have an rdfs ontology for ActivityPub things, then use that as input to generate json-schema.</p>
<p>Just sharing in case someone else finds it a useful building block. I made it at the time because I saw so many people doing codegen to make as2 libraries in programming languages that benefited from it (e.g. because go’s type system is limited compared to others).</p>
<p>I tried to make <a href="https://github.com/gobengo/activitystreams2-spec-html" rel="noopener nofollow ugc">activitypub-spec-html</a> to use that rdfs Ontology as an input to render it into some human-readable HTML. I wish that more as2, ap, and all kinds of extensions used owl/rdfs as their ‘canonical form’, then we could have reusable sets of tools to generate documentation, test suites, etc.</p>
          <p><a href="https://socialhub.activitypub.rocks/t/improvement-to-federation-md-convention-murmurations/1573/6">Read full topic</a></p>
        ]]></description>
        <link>https://socialhub.activitypub.rocks/t/improvement-to-federation-md-convention-murmurations/1573/6</link>
        <pubDate>Mon, 03 May 2021 16:31:44 +0000</pubDate>
        <guid isPermaLink="false">socialhub.activitypub.rocks-post-1573-6</guid>
        <source url="https://socialhub.activitypub.rocks/t/improvement-to-federation-md-convention-murmurations/1573.rss">Improvement to FEDERATION.md convention: Murmurations</source>
      </item>
      <item>
        <title>Improvement to FEDERATION.md convention: Murmurations</title>
        <dc:creator><![CDATA[aschrijver]]></dc:creator>
        <description><![CDATA[
            <p>Yesterday on fedi <a href="https://mastodon.social/web/statuses/106118670350151161">we discussed</a> <a class="mention" href="/u/grishka">@grishka</a>’s idea to have ‘compliance profiles’. The idea is appealing and goes beyond what is described in this topic.</p>
<p><strong>Note</strong>: Elaboration should be addressed in a separate topic, but I want to make mention of it here.</p>
<p><a class="mention" href="/u/grishka">@grishka</a> wants ‘Per Actor’ compliance profiles:</p>
<blockquote>
<p><em>“[FEDERATION.md / NodeInfo] It’s per-instance. I’m looking for something per-actor, and preferably something that could be combined with privacy settings. Something that, given an actor and activity, could answer the question “can I send this actor this activity”. The answer could be a simple yes/no but also something like “yes but only if they follow you”.”</em></p>
</blockquote>
<p>In addition on FEDERATION.md <a class="mention" href="/u/grishka">@grishka</a> finds that <em>“As with many SocialCG proposals, it’s too theoretical. It’s ideas built upon other ideas with what feels like no code written”</em>.</p>
<p>Here I have to refer to <a href="https://www.w3.org/2020/02/08-social-minutes.html">SocialCG 2020-02-08</a> meeting notes, where the rationale was discussed and the decision was made. Some excerpts:</p>
<blockquote>
<p><a class="mention" href="/u/melody">@melody</a>: […] in a lot of ways just knowing the types isn’t enough, there’s a certain point you need the human intervention to understand the semantics of what the types are and how they’re used… […] I think it makes sense to have something a human can read and interpret.</p>
<p>[…]</p>
<p><a class="mention" href="/u/nightpool">@nightpool</a>: I think it would be very sad if FEDERATION.md was the only way of approaching this, and I think nodeinfo is valuable as a very broad “survey” of what is currently implemented on the fediverse. But notably, and this is why we originally suggested a simple JSON list of types, is that getting this kind of rich granularity is very, very hard. It’s hard to build this kind of contract language that can describe these features well […]</p>
<p><a class="mention" href="/u/melody">@melody</a>: […] I love that FEDERATION.md does not try to be that thing, because there’s so much unspecified side effect behavior and etc, and I’m not sure how to represent in a machine-parasable way […]</p>
<p><a class="mention" href="/u/nightpool">@nightpool</a>: […] One issue I have with nodeinfo is you can’t do two on the same server… one issue with mastodon is our dependency on fediverse has made it hard to deploy on the same domain (eg deploying alongside nextcloud). I think going forward, especially with the way AP was designed, would love to see things happen on the actor level.</p>
</blockquote>
<p>So maybe time has come to elaborate on all this. I think it prudent to keep on 2 tracks: the machine-readable path, and the human-readable one.</p>
<p><a class="mention" href="/u/grishka">@grishka</a> you are most welcome to create a new topic on Capability Negotiation / Compliance Profiles, and cross-ref with this topic.</p>
          <p><a href="https://socialhub.activitypub.rocks/t/improvement-to-federation-md-convention-murmurations/1573/4">Read full topic</a></p>
        ]]></description>
        <link>https://socialhub.activitypub.rocks/t/improvement-to-federation-md-convention-murmurations/1573/4</link>
        <pubDate>Sun, 25 Apr 2021 06:38:08 +0000</pubDate>
        <guid isPermaLink="false">socialhub.activitypub.rocks-post-1573-4</guid>
        <source url="https://socialhub.activitypub.rocks/t/improvement-to-federation-md-convention-murmurations/1573.rss">Improvement to FEDERATION.md convention: Murmurations</source>
      </item>
      <item>
        <title>Improvement to FEDERATION.md convention: Murmurations</title>
        <dc:creator><![CDATA[olisb]]></dc:creator>
        <description><![CDATA[
            <p>Hi <a class="mention" href="/u/aschrijver">@aschrijver</a> et al</p>
<p>Thanks for kicking off this thread - it sounds like a great idea <img src="https://socialhub.activitypub.rocks/images/emoji/twitter/slight_smile.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>We would be happy to jump on a call if you like, to explain more about Murmurations, but essentially what you propose sounds like a solid plan to track how federation is implemented in each app.<br>
All you would need to do is to specify which fields you would like to include, as required and optional, in a custom ‘Fediverse schema’ by <a href="https://github.com/MurmurationsNetwork/MurmurationsLibrary" rel="noopener nofollow ugc">following the instructions here</a>  and submitting it to the Library. We will check it and merge so then Fediverse projects can make Profiles using the <a href="https://mpg.murmurations.network/" rel="noopener nofollow ugc">Profile Generator</a> and publish / self host these as they like. Then you could set up a SocialHub-affiliated website (as per your 3 above) to query the index, collect the info from the profile files, and aggregate this to generate a Directory of docs.</p>
<p>Regarding your question about federating Murmurations servers, it’s an interesting idea which we have further down our roadmap (we don’t want the index to be a single point of failure), so we would be glad to explore it with you when we get there.</p>
          <p><a href="https://socialhub.activitypub.rocks/t/improvement-to-federation-md-convention-murmurations/1573/2">Read full topic</a></p>
        ]]></description>
        <link>https://socialhub.activitypub.rocks/t/improvement-to-federation-md-convention-murmurations/1573/2</link>
        <pubDate>Tue, 20 Apr 2021 12:15:14 +0000</pubDate>
        <guid isPermaLink="false">socialhub.activitypub.rocks-post-1573-2</guid>
        <source url="https://socialhub.activitypub.rocks/t/improvement-to-federation-md-convention-murmurations/1573.rss">Improvement to FEDERATION.md convention: Murmurations</source>
      </item>
      <item>
        <title>Improvement to FEDERATION.md convention: Murmurations</title>
        <dc:creator><![CDATA[aschrijver]]></dc:creator>
        <description><![CDATA[
            <h2>
<a name="background-1" class="anchor" href="#background-1"></a>Background</h2>
<p>Proposed last year by <a class="mention" href="/u/darius">@darius</a> in <a href="https://socialhub.activitypub.rocks/t/documenting-federation-behavior-in-a-semi-standard-way/453" class="inline-onebox">Documenting federation behavior in a semi-standard way?</a> proposed the FEDERATION.md convention, and discussed in <a href="https://www.w3.org/2020/02/08-social-minutes.html">SocialCG 2020-02-08</a> was the convention to have a FEDERATION.md in the root of code repositories of a federated application project, to describe in what ways the app implements its federated messages.</p>
<p>FEDERATION.md was a concession. With it the interoperability capabilities of a federated apps can be described by:</p>
<ul>
<li>
<a href="https://github.com/jhass/nodeinfo">NodeInfo</a>: A per-server machine-readable definition, with basic metadata about the server</li>
<li>FEDERATION.md: Hand-written doc to describe interoperability in detail, side effects, business logic, etc.</li>
</ul>
<p>Standardizing full capability negotiation in a machine-readable format  was deemed too complex.</p>
<p>Since then <a href="https://socialhub.activitypub.rocks/t/guide-for-new-activitypub-implementers/479#federation-md">a handful of projects</a> have committed to the convention:</p>
<ul>
<li><a href="https://github.com/dariusk/gathio/blob/783a5fbc270452148a6bcc92cb37469e6da349d7/FEDERATION.md">gathio </a></li>
<li><a href="https://github.com/writefreely/documentation/blob/63dadbfd3654696f8539b7532f8df54512f2854b/writer/federation.md">WriteFreely </a></li>
<li><a href="https://framagit.org/zot/zap/blob/master/FEDERATION.md">Zap</a></li>
<li><a href="https://gitlab.com/ngerakines/tavern/-/blob/master/FEDERATION.md">Tavern</a></li>
<li><a href="https://github.com/grishka/Smithereen/blob/e1b76b85edb2e5ec7e3d695a3be5e23bade6aaab/FEDERATION.md">Smithereen </a></li>
<li><a href="https://github.com/lesion/gancio/blob/9472d8d919face015065209047247d08c18b4895/docs/federation.md">gancio</a></li>
<li>
<a href="https://join.lemmy.ml/docs/en/federation/overview.html">Lemmy </a> (not FEDERATION.md but a page in site docs)</li>
</ul>
<h2>
<a name="the-problem-2" class="anchor" href="#the-problem-2"></a>The Problem</h2>
<ul>
<li>
<p>As fedi developers we need to know how Fediverse evolves, which AS/AP extensions are in use, and preferably adopt them ourselves or even standardize them (using the <a href="https://socialhub.activitypub.rocks/t/about-the-fediverse-enhancement-proposals/1168">Fediverse Enhancement Proposals</a> process.</p>
</li>
<li>
<p>Ideally we want to have a clear overview of all interoperability designs, both standards-based and custom extensions, in use today without having to hop around and search for info across the web.</p>
</li>
<li>
<p>Even if there is a FEDERATION.md document, they are all formatted differently, and it is unclear whether they are kept up-to-date at all. This makes maintaining of a directory hard and time-consuming.</p>
</li>
<li>
<p>The FEDERATION.md convention is not known by most AP devs, can be streamlined, and provide more incentives to adhere to it.</p>
</li>
</ul>
<p><strong>Update</strong>: <a href="https://github.com/redaktor/ActivityPubSchema">ActivityPubSchema</a> by <a class="mention" href="/u/sebastian">@Sebastian</a> may be usable for the validation of federation profiles.</p>
<h2>
<a name="the-improvement-3" class="anchor" href="#the-improvement-3"></a>The Improvement</h2>
<p>A possible solution that goes a step further than informal FEDERATION.md documents, but still stays well away from tackling the complexity of a machine-readable capability negotiation standard, is to use the <a href="https://murmurations.network/">Murmurations Protocol</a> to describe how federation is implemented in each app.</p>
<ul>
<li>
<p>Primary goal is to deliver <em>consistent</em> documentation on how interop can be achieved, in the form of a document template.</p>
</li>
<li>
<p>Secondary goal is to make it easy to discover this documentation, regardless of where an implementation keeps track of it.</p>
</li>
</ul>
<p>The document template could be set up in such way that it can be read as a checklist by someone implementing a compliant app, describing side-effects, validation and other rules.</p>
<blockquote>
<h2>Solution</h2>
<ol>
<li>
<p>Define a JSON-LD Murmurations Profile that is <strong>document template</strong> to describe AP interoperability support.</p>
</li>
<li>
<p>Fediverse projects maintain their own profile, and register it with <a href="https://app.swaggerhub.com/apis-docs/MurmurationsNetwork/IndexAPI/1.0">The Murmurations Index</a>.</p>
<ul>
<li>They can use it for their own website to generate reference documentation from it.</li>
</ul>
</li>
<li>
<p>A SocialHub-affiliated website functions as the Murmurations Aggregator and generates a Directory of docs.</p>
</li>
</ol>
</blockquote>
<p>By creating a profile there is assurance that all projects deliver consistent content. There can be a bunch of additional metadata in it, such as ‘Last updated’ or ‘Release Version’ to gauge relevance. And ‘Issue Tracker’, ‘Repositories’, ‘Project lead’ and other project metadata to ease inquiries and contributions. Etcetera.</p>
<h2>
<a name="side-note-federated-murmurations-4" class="anchor" href="#side-note-federated-murmurations-4"></a>Side note: Federated Murmurations</h2>
<p>This topic has been split, see also: <a href="https://socialhub.activitypub.rocks/t/federating-the-murmurations-protocol/1701" class="inline-onebox">Federating the Murmurations Protocol</a></p>
          <p><a href="https://socialhub.activitypub.rocks/t/improvement-to-federation-md-convention-murmurations/1573/1">Read full topic</a></p>
        ]]></description>
        <link>https://socialhub.activitypub.rocks/t/improvement-to-federation-md-convention-murmurations/1573/1</link>
        <pubDate>Mon, 12 Apr 2021 09:49:54 +0000</pubDate>
        <guid isPermaLink="false">socialhub.activitypub.rocks-post-1573-1</guid>
        <source url="https://socialhub.activitypub.rocks/t/improvement-to-federation-md-convention-murmurations/1573.rss">Improvement to FEDERATION.md convention: Murmurations</source>
      </item>
  </channel>
</rss>
