<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Testing HttpSignatures (mastodon) - SocialHub</title>
    <meta name="description" content="Hi there, i try to post an activity to mastodon as described here 
But get a ‚Äú401 Unauthorized from POST https://mastodon.social/inbox‚Äù 
I think there are problems with the signature, but have no idea. Does anybody have &amp;hellip;">
    <meta name="generator" content="Discourse 2.8.0.beta2 - https://github.com/discourse/discourse version c39ab6c0ae3803b6a62501954ae40adb6b73d580">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/b7023860b3d7df97ea10ba3c7ab11cb046a77c7a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/8faac84234dc73d074dadaa2bcf24dc746b8647f_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="1760@page=2.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://socialhub.activitypub.rocks","potentialAction":{"@type":"SearchAction","target":"https://socialhub.activitypub.rocks/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="SocialHub Search">

      <link href="https://socialhub.activitypub.rocks/stylesheets/desktop_caa977791d50efc800b8ef1bcbafb8a15f082761.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop" />
      <link href="https://socialhub.activitypub.rocks/stylesheets/desktop_theme_5_969dd27459c19a0b7620746a3d179b86ef033d7a.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="5"/>
<link href="https://socialhub.activitypub.rocks/stylesheets/desktop_theme_3_f50bf2f225326f482d56e65e93f1f047d48417a9.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3"/>
<link href="https://socialhub.activitypub.rocks/stylesheets/desktop_theme_8_e3f93470fef56ec97b63f77e16779e328baab8ea.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="8"/>
<link href="https://socialhub.activitypub.rocks/stylesheets/desktop_theme_4_8d506fd22b761a15044193a6d4ebda5f6bde2498.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4"/>
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Testing HttpSignatures (mastodon)&#39;" href="1760.rss" />
    <meta property="og:site_name" content="SocialHub" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://socialhub.activitypub.rocks/uploads/default/original/1X/8faac84234dc73d074dadaa2bcf24dc746b8647f.png" />
<meta property="og:image" content="https://socialhub.activitypub.rocks/uploads/default/original/1X/8faac84234dc73d074dadaa2bcf24dc746b8647f.png" />
<meta property="og:url" content="https://socialhub.activitypub.rocks/t/testing-httpsignatures-mastodon/1760?page=2" />
<meta name="twitter:url" content="https://socialhub.activitypub.rocks/t/testing-httpsignatures-mastodon/1760?page=2" />
<meta property="og:title" content="Testing HttpSignatures (mastodon)" />
<meta name="twitter:title" content="Testing HttpSignatures (mastodon)" />
<meta property="og:description" content="Yeah exactly as I suspected.     And this isn‚Äôt a public key, it‚Äôs a certificate. You‚Äôre supposed to generate an RSA key pair." />
<meta name="twitter:description" content="Yeah exactly as I suspected.     And this isn‚Äôt a public key, it‚Äôs a certificate. You‚Äôre supposed to generate an RSA key pair." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="3 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="5 ‚ù§" />
<meta property="article:published_time" content="2021-05-16T20:51:33+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="prev" href="1760.html">

    
  </head>
  <body class="crawler">
    
<script src="https://socialhub.activitypub.rocks/theme-javascripts/3a68d4ddcab78e923b7c4169708a8f1deb79df66.js?__ws=socialhub.activitypub.rocks"></script>
    <header>
      <a href="https://socialhub.activitypub.rocks/">
          <img src="../../uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png" alt="SocialHub" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="1760.html">Testing HttpSignatures (mastodon)</a>
    </h1>


  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularit√©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/grishka.html'><span itemprop='name'>grishka</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1760.html">

            <link itemprop="image" href="../../uploads/default/original/2X/4/416133cc53dc917e13958dcc41fb136cb738f857.png">

          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-16T20:51:33Z' class='post-time'>
                May 16, 2021,  8:51pm
              </time>
              <meta itemprop='dateModified' content='2021-05-16T20:51:33Z'>
          <span itemprop='position'>#21</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Yeah exactly as I suspected.</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="../../uploads/default/original/2X/4/416133cc53dc917e13958dcc41fb136cb738f857.png" data-download-href="https://socialhub.activitypub.rocks/uploads/default/416133cc53dc917e13958dcc41fb136cb738f857" title="–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2021-05-16 –≤ 23.48.40"><img src="../../uploads/default/optimized/2X/4/416133cc53dc917e13958dcc41fb136cb738f857_2_491x500.png" alt="–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2021-05-16 –≤ 23.48.40" data-base62-sha1="9kni1a1cwEKhxR6fI3vZMYtxpWv" width="491" height="500" srcset="../../uploads/default/optimized/2X/4/416133cc53dc917e13958dcc41fb136cb738f857_2_491x500.png, ../../uploads/default/original/2X/4/416133cc53dc917e13958dcc41fb136cb738f857.png 1.5x, ../../uploads/default/original/2X/4/416133cc53dc917e13958dcc41fb136cb738f857.png 2x" data-small-upload="https://socialhub.activitypub.rocks/uploads/default/optimized/2X/4/416133cc53dc917e13958dcc41fb136cb738f857_2_10x10.png"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2021-05-16 –≤ 23.48.40</span><span class="informations">519√ó528 86.9 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>And this isn‚Äôt a public key, it‚Äôs a certificate. You‚Äôre supposed to generate an RSA key pair.</p>
        </div>

        <meta itemprop='headline' content='Testing HttpSignatures (mastodon)'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularit√©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/naturzukunft.html'><span itemprop='name'>naturzukunft</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1760.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-17T06:17:52Z' class='post-time'>
                May 17, 2021,  6:17am
              </time>
              <meta itemprop='dateModified' content='2021-05-17T06:17:52Z'>
          <span itemprop='position'>#22</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>good morning,<br>
for this testcase i generate the keyPair in my Controller Class like that:</p>
<pre><code>import java.security.Key;
import java.security.KeyPair;
import java.security.KeyPairGenerator;
import java.security.NoSuchAlgorithmException;
import java.util.Base64;

private static String privateKey;
private static String publicKey;

static {
	try {
		KeyPairGenerator kpg = KeyPairGenerator.getInstance("RSA");
		kpg.initialize(2048);
		KeyPair kp = kpg.generateKeyPair();
		
		Base64.Encoder encoder = Base64.getEncoder();
		StringBuilder sb = new StringBuilder();
		sb.append("-----BEGIN RSA PRIVATE KEY-----\n");
		sb.append(encoder.encodeToString(kp.getPrivate().getEncoded()));
		sb.append("\n-----END RSA PRIVATE KEY-----\n");
		privateKey = sb.toString();
		
		sb = new StringBuilder();
		sb.append("-----BEGIN RSA PUBLIC KEY-----\n");
		sb.append(encoder.encodeToString(kp.getPublic().getEncoded()));
		sb.append("\n-----END RSA PUBLIC KEY-----\n");
		publicKey = sb.toString();
	} catch (NoSuchAlgorithmException e) {
		throw new RuntimeException(e);
	}	
}
</code></pre>
<p> ‚Üí <code>Unhandled exception&lt;/h1&gt;&lt;pre&gt;org.json.JSONException: Unterminated string at 417 [character 0 line 16]</code></p>
<p>I have to switch of the server because of my ressources. Please send me a message, if i should start it.</p>
        </div>

        <meta itemprop='headline' content='Testing HttpSignatures (mastodon)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularit√©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/grishka.html'><span itemprop='name'>grishka</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1760.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-17T10:24:34Z' class='post-time'>
                May 17, 2021, 10:24am
              </time>
              <meta itemprop='dateModified' content='2021-05-17T10:24:34Z'>
          <span itemprop='position'>#23</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>You aren‚Äôt using a json library, are you? So, do <code>publicKey.replace("\n", "\\n")</code> while adding the key to the json string.</p>
        </div>

        <meta itemprop='headline' content='Testing HttpSignatures (mastodon)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularit√©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/naturzukunft.html'><span itemprop='name'>naturzukunft</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1760.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-17T12:35:30Z' class='post-time'>
                May 17, 2021, 12:35pm
              </time>
              <meta itemprop='dateModified' content='2021-05-17T12:35:30Z'>
          <span itemprop='position'>#24</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>ok, now.<br>
<code>Bad request: java.lang.StringIndexOutOfBoundsException: String index out of range: 0</code></p>
        </div>

        <meta itemprop='headline' content='Testing HttpSignatures (mastodon)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularit√©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/grishka.html'><span itemprop='name'>grishka</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1760.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-17T12:38:58Z' class='post-time'>
                May 17, 2021, 12:38pm
              </time>
              <meta itemprop='dateModified' content='2021-05-17T12:38:58Z'>
          <span itemprop='position'>#25</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Show me your signature header. Or I could enable additional logging on my side.</p>
<p>(I need to handle errors better, too)</p>
        </div>

        <meta itemprop='headline' content='Testing HttpSignatures (mastodon)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularit√©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/naturzukunft.html'><span itemprop='name'>naturzukunft</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1760.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-17T13:37:06Z' class='post-time'>
                May 17, 2021,  1:37pm
              </time>
              <meta itemprop='dateModified' content='2021-05-17T13:37:06Z'>
          <span itemprop='position'>#26</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I‚Äôm not sure, if i understand you<br>
Signature - [Qp3j8go0xK2xSeGkBwpfvP3cyjfQACLvemQQTzqyTnM=]<br>
digest - [SHA-256=ANFl5Jso9ixM2+G+KXGz/eRg16ED+3J2ZZz6yDf34vE=]<br>
Host - [<a href="http://friends.grishka.me" rel="noopener nofollow ugc">friends.grishka.me</a>]<br>
Date - [Mon, 17 May 2021 13:34:58 GMT]</p>
        </div>

        <meta itemprop='headline' content='Testing HttpSignatures (mastodon)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularit√©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/grishka.html'><span itemprop='name'>grishka</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1760.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-17T14:32:05Z' class='post-time'>
                May 17, 2021,  2:32pm
              </time>
              <meta itemprop='dateModified' content='2021-05-17T14:32:05Z'>
          <span itemprop='position'>#27</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="naturzukunft" data-post="26" data-topic="1760">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/socialhub.activitypub.rocks/naturzukunft/40/983_2.png" class="avatar"> naturzukunft:</div>
<blockquote>
<p>Signature - [Qp3j8go0xK2xSeGkBwpfvP3cyjfQACLvemQQTzqyTnM=]</p>
</blockquote>
</aside>
<p>It‚Äôs supposed to be a key-value thing, like this</p>
<p><code>Signature: keyId="http://smithereen.local:8080/users/1#main-key",headers="(request-target) host date digest",algorithm="rsa-sha256",signature="hfB6do4LmGgD2Fi7+tNcscy1hYbuC3/AAcRbOpLaBLPq3mv30Vq472Z0eXYVfkptDiP+zB80ZzoKUuv+bATTzUaLJePFCf7rbSekUvbSECoBCIvjoEYVwgPPyoRd+s4m8UJGtewad7u+Ftk9BnEmXduc8lUrxzv0I6H+WfxceN4VUERwgDvDQa31pyeXWRpsK9zZ2eIW4oOR7EQ21MFEt1QvV4OYGj0nQ79r+SXUaJxI7TKcIkyx3qqzgHLUxmLkbyU9wLfTpiKy+J4B6NGjSrOMEa9Na82+rsn0oefIj5cpE7gPH32MBasAbC0+I8m5Hd17HD5xnEm0ELeNjta1NQ=="</code></p>
        </div>

        <meta itemprop='headline' content='Testing HttpSignatures (mastodon)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularit√©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/naturzukunft.html'><span itemprop='name'>naturzukunft</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1760.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-17T15:26:43Z' class='post-time'>
                May 17, 2021,  3:26pm
              </time>
              <meta itemprop='dateModified' content='2021-05-17T15:26:43Z'>
          <span itemprop='position'>#28</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I have no idea! The description of the library says:</p>
<p><strong>"The returned Signature object represents a full HTTP Signature. Simply call toString() on it to get a fully formatted Authorization header value."</strong></p>
<p>There is no mention of a header attribute Signature.<br>
I have adapted this anyway and also filled the Authorization header.</p>
<p>Now it‚Äôs:</p>
<pre><code>Authorization - [Signature keyId="https://naturzukunft.ddnss.de/key",created=1621264456,algorithm="hmac-sha256",headers="digest host date (request-target)",signature="4P0BA77xUg0mwzlaH4Wtf8RaUE3MlfklejiqzecXAsQ="]
Signature - [keyId="https://naturzukunft.ddnss.de/key",created=1621264456,algorithm="hmac-sha256",headers="digest host date (request-target)",signature="4P0BA77xUg0mwzlaH4Wtf8RaUE3MlfklejiqzecXAsQ="]
digest - [SHA-256=ANFl5Jso9ixM2+G+KXGz/eRg16ED+3J2ZZz6yDf34vE=]
Host - [friends.grishka.me]
Date - [Mon, 17 May 2021 15:14:16 GMT]
</code></pre>
<p>Error:</p>
<p><code>&lt;400,Bad request: smithereen.exceptions.ObjectNotFoundException: Can't resolve remote object: https://naturzukunft.ddnss.de,[Server:"nginx/1.16.1", Date:"Mon, 17 May 2021 15:26:23 GMT", Content-Type:"text/html;charset=utf-8", Transfer-Encoding:"chunked", Connection:"keep-alive", Set-Cookie:"JSESSIONID=node086q4ruywoty41ez4s2klfh59a7584.node0;Path=/;HttpOnly", Expires:"Thu, 01 Jan 1970 00:00:00 GMT"]&gt; </code></p>
        </div>

        <meta itemprop='headline' content='Testing HttpSignatures (mastodon)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularit√©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/grishka.html'><span itemprop='name'>grishka</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1760.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-17T16:04:18Z' class='post-time'>
                May 17, 2021,  4:04pm
              </time>
              <meta itemprop='dateModified' content='2021-05-17T16:04:18Z'>
          <span itemprop='position'>#29</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Okay, try changing your keyId to something like <code>https://naturzukunft.ddnss.de/actor#main-key</code>‚Ä¶ That‚Äôs kinda my laziness because I don‚Äôt really support arbitrary key IDs.</p>
        </div>

        <meta itemprop='headline' content='Testing HttpSignatures (mastodon)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularit√©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/naturzukunft.html'><span itemprop='name'>naturzukunft</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1760.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-17T16:22:40Z' class='post-time'>
                May 17, 2021,  4:22pm
              </time>
              <meta itemprop='dateModified' content='2021-05-17T16:22:40Z'>
          <span itemprop='position'>#30</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote group-smithereen" data-username="grishka" data-post="29" data-topic="1760">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/socialhub.activitypub.rocks/grishka/40/196_2.png" class="avatar"> grishka:</div>
<blockquote>
<p><a href="https://naturzukunft.ddnss.de/actor#main-key" rel="noopener nofollow ugc">https://naturzukunft.ddnss.de/actor#main-key</a></p>
</blockquote>
</aside>
<p>I tried to add a second representation, not sure if it is as you like.<br>
Get: <code>400,Bad request: java.lang.IllegalArgumentException: Signature failed to verify</code></p>
        </div>

        <meta itemprop='headline' content='Testing HttpSignatures (mastodon)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularit√©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/grishka.html'><span itemprop='name'>grishka</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1760.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-17T16:26:59Z' class='post-time'>
                May 17, 2021,  4:26pm
              </time>
              <meta itemprop='dateModified' content='2021-05-17T16:26:59Z'>
          <span itemprop='position'>#31</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Okay, you‚Äôve got further this time. I see this in my log:</p>
<p><code>Failed sig: keyId="https://naturzukunft.ddnss.de/actor#main-key",created=1621268496,algorithm="hs2019",headers="digest host date (request-target)",signature="h2AAAX3Eq0qtFG7QTUI2b7sIOZKBqwCSRUDlT4Il7W7YJxtZ3XEo5nuvhcs+hzy7MDBcfYcCxAWQNRkmJGzWoFW2uW5rjBrrD+e6qay+fhQruODkRV9J5FCHtp9WXOu3ACmFcpuz/mtLbvVrk/Ahf2cdV9Ie1DX7Yn5vZSJSw1546igQw6kvHxcomHGGuCO0YGtYbkfq3GfM29hmMTAnryT2W/gZXf2LkYFsGM5d9qoAOP5GUIKVgzz6t9hO18u/823nXEKetqbyQD+3G7TQ8eFuW64Ha+IsfZkRhfDsUevG7f9QmFPH3guchRxpxTU7Z7QKFR0uI6tmVxjnDRJseQ=="</code></p>
<pre><code class="lang-auto">Failed sig string: 'digest: SHA-256=ANFl5Jso9ixM2+G+KXGz/eRg16ED+3J2ZZz6yDf34vE=
host: friends.grishka.me
date: Mon, 17 May 2021 16:21:36 GMT
(request-target): post /activitypub/sharedInbox'
</code></pre>
<blockquote>
<p>algorithm=‚Äúhs2019‚Äù</p>
</blockquote>
<p>I honestly have no idea what this is. It‚Äôs supposed to be ‚Äúrsa-sha256‚Äù. I should really be checking this and returning an appropriate error.</p>
        </div>

        <meta itemprop='headline' content='Testing HttpSignatures (mastodon)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularit√©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/naturzukunft.html'><span itemprop='name'>naturzukunft</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1760.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-17T16:30:17Z' class='post-time'>
                May 17, 2021,  4:30pm
              </time>
              <meta itemprop='dateModified' content='2021-05-17T16:30:17Z'>
          <span itemprop='position'>#32</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote group-smithereen" data-username="grishka" data-post="31" data-topic="1760">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/socialhub.activitypub.rocks/grishka/40/196_2.png" class="avatar"> grishka:</div>
<blockquote>
<p>hs2019</p>
</blockquote>
</aside>
<p>ah, i was changing that, because in the meanwhile i again ‚Äúfired‚Äù against mastodon and they told me, that my algorithm is not supported. so i switched to ‚ÄúRSA_SHA256‚Äù, but there was a still a wrong peace.<br>
I removed that  " <code>hs2019</code> now. can you check again ?</p>
        </div>

        <meta itemprop='headline' content='Testing HttpSignatures (mastodon)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularit√©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/grishka.html'><span itemprop='name'>grishka</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1760.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2021-05-17T16:33:39Z'>
              <time itemprop='dateModified' datetime='2021-05-17T16:33:59Z' class='post-time'>
                May 17, 2021,  4:33pm
              </time>
          <span itemprop='position'>#33</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>It‚Äôs again failed to verify. I suppose you just aren‚Äôt generating it correctly. As there‚Äôs hashing involved, it‚Äôs important that there‚Äôs a bit-exact match between the strings on both sides.</p>
<p>(I added the check for algorithm btw)</p>
        </div>

        <meta itemprop='headline' content='Testing HttpSignatures (mastodon)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularit√©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/grishka.html'><span itemprop='name'>grishka</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1760.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-17T16:35:56Z' class='post-time'>
                May 17, 2021,  4:35pm
              </time>
              <meta itemprop='dateModified' content='2021-05-17T16:35:56Z'>
          <span itemprop='position'>#34</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>The order is also important. The headers in the string you sign have to be in the same order they are in the <code>headers</code> parameter.</p>
        </div>

        <meta itemprop='headline' content='Testing HttpSignatures (mastodon)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularit√©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/naturzukunft.html'><span itemprop='name'>naturzukunft</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1760.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-17T16:49:19Z' class='post-time'>
                May 17, 2021,  4:49pm
              </time>
              <meta itemprop='dateModified' content='2021-05-17T16:49:19Z'>
          <span itemprop='position'>#35</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>‚Äú(request-target)‚Äù should also be a header attribute ?</p>
        </div>

        <meta itemprop='headline' content='Testing HttpSignatures (mastodon)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularit√©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/grishka.html'><span itemprop='name'>grishka</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1760.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-17T16:50:10Z' class='post-time'>
                May 17, 2021,  4:50pm
              </time>
              <meta itemprop='dateModified' content='2021-05-17T16:50:10Z'>
          <span itemprop='position'>#36</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Uh. Could you <em>please</em> read the tutorial, my code that generates valid signatures, or both?</p>
        </div>

        <meta itemprop='headline' content='Testing HttpSignatures (mastodon)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularit√©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/naturzukunft.html'><span itemprop='name'>naturzukunft</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1760.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-17T18:05:40Z' class='post-time'>
                May 17, 2021,  6:05pm
              </time>
              <meta itemprop='dateModified' content='2021-05-17T18:05:40Z'>
          <span itemprop='position'>#37</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>In your <a href="https://github.com/grishka/Smithereen/blob/55abb26c9526b897072f57d0820380b3402436ac/src/main/java/smithereen/activitypub/ActivityPub.java#L123" rel="noopener nofollow ugc">code</a> the <code>host</code> is not in the header right ?</p>
<p>In the tutorial it is:</p>
<pre><code class="lang-auto">HTTP.headers({ 'Host': 'mastodon.social', 'Date': date, 'Signature': header })
    .post('https://mastodon.social/inbox', body: document)
</code></pre>
<p>Isn‚Äôt it necessary ?</p>
        </div>

        <meta itemprop='headline' content='Testing HttpSignatures (mastodon)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularit√©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/naturzukunft.html'><span itemprop='name'>naturzukunft</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1760.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2021-05-17T18:50:58Z'>
              <time itemprop='dateModified' datetime='2021-05-17T18:51:09Z' class='post-time'>
                May 17, 2021,  6:51pm
              </time>
          <span itemprop='position'>#38</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Puh, i replaced now the httpPost and the signing with <a href="https://gitlab.com/naturzukunft.de/public/activitypub/basic-activitypub-server/-/blob/master/src/main/java/de/naturzukunft/activitypub/basicactivitypubserver/Smithereen.java" rel="noopener nofollow ugc">your code</a> with minimum changes.</p>
<p>But still get an error<br>
<code>Bad request: java.lang.IllegalArgumentException: Signature failed to verify</code></p>
<p>The call is <a href="https://gitlab.com/naturzukunft.de/public/activitypub/basic-activitypub-server/-/blob/master/src/main/java/de/naturzukunft/activitypub/basicactivitypubserver/Controller.java#L173" rel="noopener nofollow ugc">here</a></p>
        </div>

        <meta itemprop='headline' content='Testing HttpSignatures (mastodon)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularit√©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/naturzukunft.html'><span itemprop='name'>naturzukunft</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1760.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-17T19:44:51Z' class='post-time'>
                May 17, 2021,  7:44pm
              </time>
              <meta itemprop='dateModified' content='2021-05-17T19:44:51Z'>
          <span itemprop='position'>#39</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I tried to verify the generated request before sending it. This is indeed a very dirty hack. The result is</p>
<p><code>Failed sig string: '(request-target): post https://friends.grishka.me/activitypub/sharedInbox</code></p>
<p>I don‚Äôt understand where the full path comes from, but I think in the request we just write the path <em>/activitypub/sharedInbox.</em></p>
<p>Do you have the same error in the server log?</p>
<p>Fredy</p>
        </div>

        <meta itemprop='headline' content='Testing HttpSignatures (mastodon)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><a rel="prev" itemprop="url" href="1760.html">‚Üê previous page</a></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
