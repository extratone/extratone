<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Making sense of RsaSignature2017 - Server to Server - SocialHub</title>
    <meta name="description" content="All three of the most-popular AP-based servers (Mastodon, Pleroma, Misskey) use this type of signature in addition to HTTP signatures. These are used to sign the message itself, to allow it to be proxied by other instanc&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.0.beta2 - https://github.com/discourse/discourse version c39ab6c0ae3803b6a62501954ae40adb6b73d580">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/b7023860b3d7df97ea10ba3c7ab11cb046a77c7a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/8faac84234dc73d074dadaa2bcf24dc746b8647f_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="347.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://socialhub.activitypub.rocks","potentialAction":{"@type":"SearchAction","target":"https://socialhub.activitypub.rocks/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="SocialHub Search">

      <link href="https://socialhub.activitypub.rocks/stylesheets/desktop_caa977791d50efc800b8ef1bcbafb8a15f082761.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop" />
      <link href="https://socialhub.activitypub.rocks/stylesheets/desktop_theme_5_969dd27459c19a0b7620746a3d179b86ef033d7a.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="5"/>
<link href="https://socialhub.activitypub.rocks/stylesheets/desktop_theme_3_f50bf2f225326f482d56e65e93f1f047d48417a9.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3"/>
<link href="https://socialhub.activitypub.rocks/stylesheets/desktop_theme_8_e3f93470fef56ec97b63f77e16779e328baab8ea.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="8"/>
<link href="https://socialhub.activitypub.rocks/stylesheets/desktop_theme_4_8d506fd22b761a15044193a6d4ebda5f6bde2498.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4"/>
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Making sense of RsaSignature2017&#39;" href="https://socialhub.activitypub.rocks/t/making-sense-of-rsasignature2017/347.rss" />
    <meta property="og:site_name" content="SocialHub" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://socialhub.activitypub.rocks/uploads/default/original/1X/8faac84234dc73d074dadaa2bcf24dc746b8647f.png" />
<meta property="og:image" content="https://socialhub.activitypub.rocks/uploads/default/original/1X/8faac84234dc73d074dadaa2bcf24dc746b8647f.png" />
<meta property="og:url" content="https://socialhub.activitypub.rocks/t/making-sense-of-rsasignature2017/347" />
<meta name="twitter:url" content="https://socialhub.activitypub.rocks/t/making-sense-of-rsasignature2017/347" />
<meta property="og:title" content="Making sense of RsaSignature2017" />
<meta name="twitter:title" content="Making sense of RsaSignature2017" />
<meta property="og:description" content="All three of the most-popular AP-based servers (Mastodon, Pleroma, Misskey) use this type of signature in addition to HTTP signatures. These are used to sign the message itself, to allow it to be proxied by other instances to the instances yours doesn’t know about. Example: you follow Eugen on mastodon.social from your instance. His instance obviously sends you (and signs with HTTP signatures) his own posts and replies made by other users on mastodon.social. But if someone from another instance ..." />
<meta name="twitter:description" content="All three of the most-popular AP-based servers (Mastodon, Pleroma, Misskey) use this type of signature in addition to HTTP signatures. These are used to sign the message itself, to allow it to be proxied by other instances to the instances yours doesn’t know about. Example: you follow Eugen on mastodon.social from your instance. His instance obviously sends you (and signs with HTTP signatures) his own posts and replies made by other users on mastodon.social. But if someone from another instance ..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="3 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="2 ❤" />
<meta property="article:published_time" content="2019-11-26T00:10:13+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
<script src="https://socialhub.activitypub.rocks/theme-javascripts/3a68d4ddcab78e923b7c4169708a8f1deb79df66.js?__ws=socialhub.activitypub.rocks"></script>
    <header>
      <a href="https://socialhub.activitypub.rocks/">
          <img src="../../uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png" alt="SocialHub" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="347.html">Making sense of RsaSignature2017</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/activitypub.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #0088CC'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>ActivityPub</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/activitypub/s2s/7.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #808281'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Server to Server</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/grishka.html'><span itemprop='name'>grishka</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="347.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2019-11-26T00:10:13Z'>
              <time itemprop='dateModified' datetime='2019-11-26T22:17:03Z' class='post-time'>
                November 26, 2019, 10:17pm
              </time>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>All three of the most-popular AP-based servers (Mastodon, Pleroma, Misskey) use this type of signature in addition to HTTP signatures. These are used to sign the message itself, to allow it to be proxied by other instances to the instances yours doesn’t know about. Example: you follow Eugen on mastodon.social from your instance. His instance obviously sends you (and signs with HTTP signatures) his own posts and replies made by other users on mastodon.social. But if someone from another instance replies to one of his posts, their instance has no idea where to send that reply for it to reach all Eugen’s followers. So mastodon.social proxies these to every instance where there are Eugen’s followers. This way every such instance has complete threads for all these posts. Since mastodon.social doesn’t have the private keys of those users from the other instances, and HTTP signatures depend on the request destination so they can’t be proxied, the HTTP signature is done with Eugen’s key, and you’re supposed to verify the LD-signature to authenticate that the reply was created by whoever it was created.</p>
<p>The signature generation process consists of the following steps, as I understood it:</p>
<ol>
<li>
<a href="https://www.w3.org/TR/json-ld-api/#expansion-algorithm" rel="nofollow noopener">Expand</a> the JSON-LD document.</li>
<li>
<a href="https://www.w3.org/TR/json-ld-api/#deserialize-json-ld-to-rdf-algorithm" rel="nofollow noopener">Convert</a> the expanded JSON-LD document to an RDF dataset.</li>
<li>
<a href="https://json-ld.github.io/normalization/spec/" rel="nofollow noopener">Normalize</a> the RDF dataset using the URDNA2015 algorithm.</li>
<li>Create a JSON-LD document with signature options and perform the steps 1-3 for it too.</li>
<li>Hash the options normalized RDF dataset, serialized in turtle format, with newlines between the quad strings, in UTF-8, with SHA-256.</li>
<li>Hash the document normalized RDF dataset same way.</li>
<li>Concatenate the hashes, in <s>binary form</s> lowercase hex, in that order.</li>
<li>Sign that byte array with the private key of the user.</li>
<li>Add the signature to the JSON object like everyone else does that.</li>
<li>Be happy.</li>
</ol>
<p>As is usual with this kind of thing, it’s only easy in the specifications. For 1 and 2, there’s a <a href="https://w3c.github.io/json-ld-api/tests/" rel="nofollow noopener">test suite to go along with the JSON-LD spec</a> I used to generate myself some unit tests. I pass all of the expansion tests and all of the important ones among the to-RDF tests (I ignore some IRI resolving edge cases because there aren’t going to be file URIs and such in real life). I represent my RDF datasets as arrays of subject-predicate-object-graph “quads”. For the purpose of the to-RDF tests, I first assert that the array sizes are equal, and then that my actual output contains each of the quads from the expected output, effectively comparing the arrays disregarding their order.</p>
<p>For URDNA2015, there’s <a href="https://json-ld.github.io/normalization/tests/index.html" rel="nofollow noopener">also a test suite</a>. I pass some tests from it (42 out of 62 at the time of writing). The issue is that <a href="https://w3c-dvcg.github.io/ld-signatures/#create-verify-hash-algorithm" rel="nofollow noopener">the LD-signature generation algorithm</a> I described above hashes the URDNA2015 output as-is, with Mastodon implementation <a href="https://github.com/tootsuite/mastodon/issues/9361" rel="nofollow noopener">joining the Turtle-serialized strings with newlines</a>. Because we’re doing hashes, the order of the strings is obviously important since differently-ordered strings will produce different hashes.</p>
<p>None of the specs say anything about the ordering of the RDF quads. The JSON-LD spec doesn’t mention it but the test suite page tells you that you need to compare them using “RDF isomorphism” which, if I understood all that type theory mumbo-jumbo correctly (gosh, it feels like making a Telegram client from scratch again), means you have to disregard the order which is what I do for my tests. The URDNA2015 spec doesn’t say anything about the ordering either. But <code>For each quad, quad, in input dataset:</code> as the last step, even though you sort things internally, kinda implies that you’re supposed to keep the order of the original dataset. The test suite page doesn’t say anything about ordering either.</p>
<p>Interestingly enough, some of the URDNA2015 tests themselves are like this:</p>
<p>Input:</p>
<pre><code>_:b0 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://example.org/vocab#Foo&gt; .
_:b0 &lt;http://example.org/vocab#embed&gt; &lt;http://example.org/test#example&gt; .
</code></pre>
<p>Output:</p>
<pre><code>_:c14n0 &lt;http://example.org/vocab#embed&gt; &lt;http://example.org/test#example&gt; .
_:c14n0 &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://example.org/vocab#Foo&gt; .
</code></pre>
<p>Notice that not only the blank nodes are relabeled, which is the actual purpose of that normalization algorithm <em>(why do we need this in the first place?!)</em>, but the lines are also swapped.</p>
<p>If I serialize the RDF quads and then sort the strings lexicographically, that seems to dramatically increase the number of tests passed but some still fail. Is that what I’m supposed to do even though it isn’t written anywhere? Could someone enlighten me please?</p>
<p>p.s. I have to add that the algorithm descriptions in the specs are clearly written with a dynamically-typed language in mind. It was a PITA to convert that into Java, and I might’ve made some mistakes which is why not all URDNA2015 tests pass yet.</p>
        </div>

        <meta itemprop='headline' content='Making sense of RsaSignature2017'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://socialhub.activitypub.rocks/t/key-rotation-notification/562/7" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://socialhub.activitypub.rocks/t/key-rotation-notification/562/7'>
                      <span itemprop='name'>Key rotation notification</span>
                    </a>
                    <meta itemprop='position' content='8'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/nightpool.html'><span itemprop='name'>nightpool</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="347.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2019-11-26T01:49:28Z'>
              <time itemprop='dateModified' datetime='2019-11-26T02:00:22Z' class='post-time'>
                November 26, 2019,  2:00am
              </time>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I don’t know the specs super well, but I can at least demystify what Mastodon is doing. We delegate most of this to the <a href="https://github.com/ruby-rdf/json-ld"><code>json-ld</code></a> and <a href="https://github.com/ruby-rdf/rdf-normalize"><code>rdf-normalize</code></a> gems, you can look there for more details of what we’re doing.</p>
<ol>
<li>create an “options” json-ld document with the keys <code>creator</code> and <code>created</code>. When verifying JSON-LD objects, this is the <code>signature</code> object, minus the keys <code>type</code>, <code>id</code>, and <code>signatureValue</code>, plus an appropriate context</li>
<li>take the input json-ld document, and remove the <code>signature</code> property.</li>
<li>for each json-ld document, use the <code>json-ld</code> gem’s <code>toRdf</code> method, and then the <code>rdf-normalize</code> gem’s <code>.dump(:normalize)</code> method.</li>
<li>Take the SHA256 hash of each normalized graph.</li>
<li>concatenate the two hashes in the order <code>options_hash + document_hash</code>, and then sign that using Ruby’s stdlib openssl bindings, using the sha256 algorithm.</li>
<li>Finally, base64 encode the signed value.</li>
</ol>
<p>Here’s a step-by-step example I put together, with lots of intermediate stages:</p>
<aside class="onebox githubgist">
  <header class="source">
      <a href="https://gist.github.com/nightpool/5cb07103a0acfc7fa740f5a811b6fc4c" target="_blank">gist.github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="https://gist.github.com/nightpool/5cb07103a0acfc7fa740f5a811b6fc4c" target="_blank">https://gist.github.com/nightpool/5cb07103a0acfc7fa740f5a811b6fc4c</a></h4>
<h5>00a-unsigned_payload.json</h5>
<pre><code class="JSON">{
  "@context": [
    "https://www.w3.org/ns/activitystreams",
    {
      "ostatus": "http://ostatus.org#",
      "atomUri": "ostatus:atomUri",
      "inReplyToAtomUri": "ostatus:inReplyToAtomUri",
      "conversation": "ostatus:conversation",
      "sensitive": "as:sensitive",
      "toot": "http://joinmastodon.org/ns#",</code></pre>
This file has been truncated. <a href="https://gist.github.com/nightpool/5cb07103a0acfc7fa740f5a811b6fc4c" target="_blank">show original</a>
<h5>00b-options_payload.json</h5>
<pre><code class="JSON">{
  "creator": "https://cybre.space/users/nightpool#main-key",
  "created": "2019-11-26T00:45:40Z",
  "@context": "https://w3id.org/identity/v1"
}</code></pre>

<h5>01a-rdf_activity.rdf</h5>
<pre><code class="XML">&lt;https://cybre.space/users/nightpool/statuses/103162290464035053/activity&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;https://cybre.space/users/nightpool/statuses/103162290464035053/activity&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://cybre.space/users/nightpool&gt; .
&lt;https://cybre.space/users/nightpool/statuses/103162290464035053/activity&gt; &lt;https://www.w3.org/ns/activitystreams#published&gt; "2019-11-19T02:47:09Z"^^&lt;http://www.w3.org/2001/XMLSchema#dateTime&gt; .
&lt;https://cybre.space/users/nightpool/statuses/103162290464035053/activity&gt; &lt;https://www.w3.org/ns/activitystreams#to&gt; &lt;https://www.w3.org/ns/activitystreams#Public&gt; .
&lt;https://cybre.space/users/nightpool/statuses/103162290464035053/activity&gt; &lt;https://www.w3.org/ns/activitystreams#cc&gt; &lt;https://cybre.space/users/nightpool/followers&gt; .
&lt;https://cybre.space/users/nightpool/statuses/103162290464035053&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Note&gt; .
&lt;https://cybre.space/users/nightpool/statuses/103162290464035053&gt; &lt;https://www.w3.org/ns/activitystreams#inReplyTo&gt; &lt;https://cybre.space/users/nightpool/statuses/103162255712086665&gt; .
&lt;https://cybre.space/users/nightpool/statuses/103162290464035053&gt; &lt;https://www.w3.org/ns/activitystreams#published&gt; "2019-11-19T02:47:09Z"^^&lt;http://www.w3.org/2001/XMLSchema#dateTime&gt; .
&lt;https://cybre.space/users/nightpool/statuses/103162290464035053&gt; &lt;https://www.w3.org/ns/activitystreams#url&gt; &lt;https://cybre.space/@nightpool/103162290464035053&gt; .
&lt;https://cybre.space/users/nightpool/statuses/103162290464035053&gt; &lt;https://www.w3.org/ns/activitystreams#attributedTo&gt; &lt;https://cybre.space/users/nightpool&gt; .</code></pre>
This file has been truncated. <a href="https://gist.github.com/nightpool/5cb07103a0acfc7fa740f5a811b6fc4c" target="_blank">show original</a>

<p>
  There are more than three files. <a href="https://gist.github.com/nightpool/5cb07103a0acfc7fa740f5a811b6fc4c" target="_blank">show original</a>
</p>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>To answer your specific question—it does appear that we sort the normalized statements, which I think we can attribute to this part of the rdf-normalize gem:</p>
<aside class="onebox githubblob">
  <header class="source">
      <a href="https://github.com/ruby-rdf/rdf-normalize/blob/d7576ee0e9f141961d00f6ec1c3074713f025013/lib/rdf/normalize/writer.rb#L56-L63" target="_blank">github.com</a>
  </header>
  <article class="onebox-body">
    <h4><a href="https://github.com/ruby-rdf/rdf-normalize/blob/d7576ee0e9f141961d00f6ec1c3074713f025013/lib/rdf/normalize/writer.rb#L56-L63" target="_blank">ruby-rdf/rdf-normalize/blob/d7576ee0e9f141961d00f6ec1c3074713f025013/lib/rdf/normalize/writer.rb#L56-L63</a></h4>
<pre class="onebox"><code class="lang-rb"><ol class="start lines" start="56" style="counter-reset: li-counter 55 ;">
<li>statements = RDF::Normalize.new(@repo, @options).</li>
<li>  statements.</li>
<li>  reject(&amp;:variable?).</li>
<li>  map {|s| format_statement(s)}.</li>
<li>  sort.</li>
<li>  each do |line|</li>
<li>    puts line</li>
<li>  end</li>
</ol></code></pre>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>I don’t know what part of the spec that corresponds to—If I had to take a guess, I think this code exists because the Normalization Algorithm returns a dataset, rather then a string. <a href="https://json-ld.github.io/normalization/spec/#normalization">See the following editor’s note from the RDF normalization spec:</a></p>
<blockquote>
<p>This specification defines a <a href="https://json-ld.github.io/normalization/spec/#dfn-normalized-dataset">normalized dataset</a> to include stable identifiers for blank nodes, but practical uses of this will always generate a canonical serialization of such a dataset</p>
</blockquote>
<p>This seems to be a gap in the JSON-LD signature spec, which is assuming that the normalization spec is producing a canonical <em>value</em>, when instead it is producing a canonical <em>dataset</em>, which then needs to be serialized into a canonical value. This gap is kind of confusing, because both specs have the same authors. I’m going to file a ticket against the ld-signatures spec and try to get to the bottom of this.</p>
        </div>

        <meta itemprop='headline' content='Making sense of RsaSignature2017'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/nightpool.html'><span itemprop='name'>nightpool</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="347.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-11-26T01:57:51Z' class='post-time'>
                November 26, 2019,  1:57am
              </time>
              <meta itemprop='dateModified' content='2019-11-26T01:57:51Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I’ve opened an issue against the LD-Signature spec to get clarification on this topic, you can take a look here: <a href="https://github.com/w3c-dvcg/ld-signatures/issues/28">https://github.com/w3c-dvcg/ld-signatures/issues/28</a></p>
        </div>

        <meta itemprop='headline' content='Making sense of RsaSignature2017'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/grishka.html'><span itemprop='name'>grishka</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="347.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-11-26T02:03:55Z' class='post-time'>
                November 26, 2019,  2:03am
              </time>
              <meta itemprop='dateModified' content='2019-11-26T02:03:55Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thank you very much for your clarifications and example! The example will be invaluable for me to test my code.</p>
        </div>

        <meta itemprop='headline' content='Making sense of RsaSignature2017'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/spider.html'><span itemprop='name'>spider</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="347.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-11-26T05:13:06Z' class='post-time'>
                November 26, 2019,  5:13am
              </time>
              <meta itemprop='dateModified' content='2019-11-26T05:13:06Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>The normalization algorithm <a href="https://json-ld.github.io/normalization/spec/" rel="nofollow noopener">https://json-ld.github.io/normalization/spec/</a> handles ordering. The output nquad list for two JSON documents with completely different ordering should be identical. That’s the primary purpose of the normalization step.</p>
        </div>

        <meta itemprop='headline' content='Making sense of RsaSignature2017'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/lanodan.html'><span itemprop='name'>lanodan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="347.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2019-11-26T06:44:52Z'>
              <time itemprop='dateModified' datetime='2019-11-26T06:45:52Z' class='post-time'>
                November 26, 2019,  6:45am
              </time>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>[2019-11-26 00:20:19+0000] Gregory via SocialHub:</p>
<blockquote>
<p>All three of the most-popular AP-based servers (Mastodon, Pleroma, Misskey) use this type of signature in addition to HTTP signatures. These are used to sign the message itself, to allow it to be proxied by other instances to the instances yours doesn’t know about.</p>
</blockquote>
<p>Actually Pleroma doesn’t do any JSON-LD, external messages are just compatible with so it can federate with others, therefore we do not have JSON-LD Signatures, only HTTP Signatures. And we also considered it to be quite insecure or a breach of privacy as it goes against deniability (and so Mastodon now only uses it for public posts).</p>
        </div>

        <meta itemprop='headline' content='Making sense of RsaSignature2017'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/nightpool.html'><span itemprop='name'>nightpool</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="347.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2019-11-26T13:09:08Z'>
              <time itemprop='dateModified' datetime='2019-11-26T13:09:56Z' class='post-time'>
                November 26, 2019,  1:09pm
              </time>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="5" data-topic="347">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/socialhub.activitypub.rocks/spider/40/97_2.png" class="avatar"> spider:</div>
<blockquote>
<p>The output nquad list for two JSON documents with completely different ordering should be identical</p>
</blockquote>
</aside>
<p>can you point to where in the spec this ordering is defined? As far as I can tell, while the normalization algorithm talks a lot about doing things in a specific lexicographical order, the actual output dataset has no inherent order.</p>
        </div>

        <meta itemprop='headline' content='Making sense of RsaSignature2017'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/grishka.html'><span itemprop='name'>grishka</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="347.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-11-26T15:08:03Z' class='post-time'>
                November 26, 2019,  3:08pm
              </time>
              <meta itemprop='dateModified' content='2019-11-26T15:08:03Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote group-mastodon" data-post="7" data-topic="347">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/socialhub.activitypub.rocks/nightpool/40/36_2.png" class="avatar"> nightpool:</div>
<blockquote>
<p>As far as I can tell, while the normalization algorithm talks a lot about doing things in a specific lexicographical order, the actual output dataset has no inherent order.</p>
</blockquote>
</aside>
<p>Yes. The final step is to just iterate through the input quads, <em>with unspecified order</em>, and replace all the blank node identifiers with other blank node identifiers.</p>
        </div>

        <meta itemprop='headline' content='Making sense of RsaSignature2017'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/grishka.html'><span itemprop='name'>grishka</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="347.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-11-26T19:31:04Z' class='post-time'>
                November 26, 2019,  7:31pm
              </time>
              <meta itemprop='dateModified' content='2019-11-26T19:31:04Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>So, I did ultimately get it to pass all the tests. A summary for anyone else brave enough to implement that themselves:</p>
<ul>
<li>The normalization spec doesn’t say that but when doing “Hash First Degree Quads” you need to join the strings with newlines and add a trailing newline, then hash that (in UTF-8). My hashes weren’t right and it ended up giving wrong blank node ids sometimes.</li>
<li>After normalization, serialize the quads into an array of strings and sort those lexicographically. Then do the same thing – join with newlines, add a trailing newline, hash.</li>
</ul>
<p>Now on to the interesting part: testing if I’m actually able to verify the signatures generated by a real Mastodon instance!</p>
        </div>

        <meta itemprop='headline' content='Making sense of RsaSignature2017'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/grishka.html'><span itemprop='name'>grishka</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="347.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-11-26T19:42:33Z' class='post-time'>
                November 26, 2019,  7:42pm
              </time>
              <meta itemprop='dateModified' content='2019-11-26T19:42:33Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote group-pleroma" data-post="6" data-topic="347">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/socialhub.activitypub.rocks/lanodan/40/40_2.png" class="avatar"> lanodan:</div>
<blockquote>
<p>Actually Pleroma doesn’t do any JSON-LD, external messages are just compatible with so it can federate with others, therefore we do not have JSON-LD Signatures, only HTTP Signatures.</p>
</blockquote>
</aside>
<p>And so how do you verify these proxied posts? Do you just drop them or do you fetch them upon receiving such an activity? Does Pleroma itself proxy replies like Mastodon does?</p>
        </div>

        <meta itemprop='headline' content='Making sense of RsaSignature2017'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/grishka.html'><span itemprop='name'>grishka</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="347.html">

            <link itemprop="image" href="https://socialhub.activitypub.rocks/uploads/default/original/1X/86f31c05fd8de9c77186bea2873ac61f220f5e3a.jpeg">

          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-11-26T21:05:54Z' class='post-time'>
                November 26, 2019,  9:05pm
              </time>
              <meta itemprop='dateModified' content='2019-11-26T21:05:54Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Again, something the specs don’t make obvious: even if your language does have a distinction between doubles and integers and you do know which is which after parsing JSON, you still do have to convert doubles to integers if they lack a fractional part. No, “if <em>value</em> is a number with no non-zero fractional part” isn’t a fancy way of saying “if value is an integer”, it’s literally what it is.</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://socialhub.activitypub.rocks/uploads/default/original/1X/86f31c05fd8de9c77186bea2873ac61f220f5e3a.jpeg" data-download-href="https://socialhub.activitypub.rocks/uploads/default/86f31c05fd8de9c77186bea2873ac61f220f5e3a" title="00a-unsigned_payload_json____Documents_dev_smithereen_src_test_resources_ld-signature__-VIM%D0%B8_Comparison_Failure__testCanonicalization1____%D0%B8_ld-signature"><img src="../../uploads/default/optimized/1X/86f31c05fd8de9c77186bea2873ac61f220f5e3a_2_690x203.jpeg" alt="00a-unsigned_payload_json____Documents_dev_smithereen_src_test_resources_ld-signature__-VIM%D0%B8_Comparison_Failure__testCanonicalization1____%D0%B8_ld-signature" data-base62-sha1="jfOQ7x90eFzrmhqewwj7hs3x8Mi" width="690" height="203" srcset="../../uploads/default/optimized/1X/86f31c05fd8de9c77186bea2873ac61f220f5e3a_2_690x203.jpeg, ../../uploads/default/optimized/1X/86f31c05fd8de9c77186bea2873ac61f220f5e3a_2_1035x304.jpeg 1.5x, ../../uploads/default/optimized/1X/86f31c05fd8de9c77186bea2873ac61f220f5e3a_2_1380x406.jpeg 2x" data-small-upload="https://socialhub.activitypub.rocks/uploads/default/optimized/1X/86f31c05fd8de9c77186bea2873ac61f220f5e3a_2_10x10.png"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">00a-unsigned_payload_json____Documents_dev_smithereen_src_test_resources_ld-signature__-VIM%D0%B8_Comparison_Failure__testCanonicalization1____%D0%B8_ld-signature</span><span class="informations">2020×595 307 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>Strangely, the JSON-LD test suite doesn’t include a test for this.</p>
        </div>

        <meta itemprop='headline' content='Making sense of RsaSignature2017'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/grishka.html'><span itemprop='name'>grishka</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="347.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-11-26T22:19:03Z' class='post-time'>
                November 26, 2019, 10:19pm
              </time>
              <meta itemprop='dateModified' content='2019-11-26T22:19:03Z'>
          <span itemprop='position'>#12</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I was finally able to verify a signature from Mastodon! Correction: the two final sha256 hashes need to be lowercase hex strings, not byte arrays. I’ve updated the first post with that.</p>
        </div>

        <meta itemprop='headline' content='Making sense of RsaSignature2017'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
