<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Signaling side effects asynchronously by generalizing Accept/Reject - Server to Server - SocialHub</title>
    <meta name="description" content="Background
Per S2S (since Accept/Reject are not described in C2S): 

7.6 Accept Activity
The side effect of receiving this in an inbox is determined by the type of the object received, and it is possible to accept types &amp;hellip;">
    <meta name="generator" content="Discourse 2.8.0.beta2 - https://github.com/discourse/discourse version c39ab6c0ae3803b6a62501954ae40adb6b73d580">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/b7023860b3d7df97ea10ba3c7ab11cb046a77c7a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/8faac84234dc73d074dadaa2bcf24dc746b8647f_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="125.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://socialhub.activitypub.rocks","potentialAction":{"@type":"SearchAction","target":"https://socialhub.activitypub.rocks/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="SocialHub Search">

      <link href="https://socialhub.activitypub.rocks/stylesheets/desktop_caa977791d50efc800b8ef1bcbafb8a15f082761.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop" />
      <link href="https://socialhub.activitypub.rocks/stylesheets/desktop_theme_5_969dd27459c19a0b7620746a3d179b86ef033d7a.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="5"/>
<link href="https://socialhub.activitypub.rocks/stylesheets/desktop_theme_3_f50bf2f225326f482d56e65e93f1f047d48417a9.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3"/>
<link href="https://socialhub.activitypub.rocks/stylesheets/desktop_theme_8_e3f93470fef56ec97b63f77e16779e328baab8ea.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="8"/>
<link href="https://socialhub.activitypub.rocks/stylesheets/desktop_theme_4_8d506fd22b761a15044193a6d4ebda5f6bde2498.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4"/>
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Signaling side effects asynchronously by generalizing Accept/Reject&#39;" href="https://socialhub.activitypub.rocks/t/signaling-side-effects-asynchronously-by-generalizing-accept-reject/125.rss" />
    <meta property="og:site_name" content="SocialHub" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://socialhub.activitypub.rocks/uploads/default/original/1X/8faac84234dc73d074dadaa2bcf24dc746b8647f.png" />
<meta property="og:image" content="https://socialhub.activitypub.rocks/uploads/default/original/1X/8faac84234dc73d074dadaa2bcf24dc746b8647f.png" />
<meta property="og:url" content="https://socialhub.activitypub.rocks/t/signaling-side-effects-asynchronously-by-generalizing-accept-reject/125" />
<meta name="twitter:url" content="https://socialhub.activitypub.rocks/t/signaling-side-effects-asynchronously-by-generalizing-accept-reject/125" />
<meta property="og:title" content="Signaling side effects asynchronously by generalizing Accept/Reject" />
<meta name="twitter:title" content="Signaling side effects asynchronously by generalizing Accept/Reject" />
<meta property="og:description" content="Background Per S2S (since Accept/Reject are not described in C2S):   7.6 Accept Activity The side effect of receiving this in an inbox is determined by the type of the object received, and it is possible to accept types not described in this document (for example, an Offer ).  If the object of an Accept received to an inbox is a Follow activity previously sent by the receiver, the server SHOULD add the actor to the receiver’s Following Collection.  7.7 Reject Activity The side effect of receivin..." />
<meta name="twitter:description" content="Background Per S2S (since Accept/Reject are not described in C2S):   7.6 Accept Activity The side effect of receiving this in an inbox is determined by the type of the object received, and it is possible to accept types not described in this document (for example, an Offer ).  If the object of an Accept received to an inbox is a Follow activity previously sent by the receiver, the server SHOULD add the actor to the receiver’s Following Collection.  7.7 Reject Activity The side effect of receivin..." />
<meta property="article:published_time" content="2019-10-12T04:01:20+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
<script src="https://socialhub.activitypub.rocks/theme-javascripts/3a68d4ddcab78e923b7c4169708a8f1deb79df66.js?__ws=socialhub.activitypub.rocks"></script>
    <header>
      <a href="https://socialhub.activitypub.rocks/">
          <img src="../../uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png" alt="SocialHub" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="125.html">Signaling side effects asynchronously by generalizing Accept/Reject</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/activitypub.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #0088CC'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>ActivityPub</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/activitypub/s2s/7.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #808281'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Server to Server</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/trwnh.html'><span itemprop='name'>trwnh</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="125.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-10-12T04:01:20Z' class='post-time'>
                October 12, 2019,  4:01am
              </time>
              <meta itemprop='dateModified' content='2019-10-12T04:01:20Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <h1>Background</h1>
<p>Per S2S (since Accept/Reject are not described in C2S):</p>
<blockquote>
<h3>7.6 Accept Activity</h3>
<p>The side effect of receiving this in an <strong>inbox</strong> is determined by the type of the <code>object</code> received, and it is possible to accept types not described in this document (for example, an <code>Offer</code> ).</p>
<p>If the <code>object</code> of an <code>Accept</code> received to an <strong>inbox</strong> is a <code>Follow</code> activity previously sent by the receiver, the server <em>SHOULD</em> add the <code>actor</code> to the receiver’s <a href="https://www.w3.org/TR/activitypub/#following" rel="nofollow noopener">Following Collection</a>.</p>
<h3>7.7 Reject Activity</h3>
<p>The side effect of receiving this in an <strong>inbox</strong> is determined by the type of the <code>object</code> received, and it is possible to reject types not described in this document (for example, an <code>Offer</code> ).</p>
<p>If the <code>object</code> of a <code>Reject</code> received to an <strong>inbox</strong> is a <code>Follow</code> activity previously sent by the receiver, this means the recipient did not approve the <code>Follow</code> request. The server <em>MUST NOT</em> add the <code>actor</code> to the receiver’s <a href="https://www.w3.org/TR/activitypub/#following" rel="nofollow noopener">Following Collection</a>.</p>
</blockquote>
<p>Note that for S2S purposes, Accept/Reject is only really defined for Follow activities. Per the Activity Vocabulary, it is also implicitly appropriate for <code>Offer</code> and <code>Invite</code>, but also <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-accept" rel="nofollow noopener">Example 10</a> shows a much more ambiguous Accept Person targeting Group, which seems semantically awkward.</p>
<h1>Possible generalizations</h1>
<p>Currently, the majority of the network uses Accept/Reject only for Follow on an Actor, and thus Accept/Reject is used only in that narrow definition. But there are other Activities that might require these semantics…</p>
<h2>Accept/Reject Join</h2>
<p>Closed-membership <code>Group</code> semantics is maybe the most obvious benefit of generalizing Accept/Reject. It is of course possible to both Follow and Join a Group; Follow Group would semantically translate to being interested in what the Group posts to its outbox, as per the base AP spec. Some softwares handle Group membership based on its <code>followers</code>, but this is a bit of a hacky way to do things that is motivated by compatibility with the existing “Follow Actor” network. A much more semantic way to handle things would be to allow Join/Leave Group, but then Join would need Accept/Reject to allow modeling closed groups (at least, in a way different than just using the <code>Group</code> <code>followers</code> with <code>manuallyRequiresApproval</code> + <code>Announce</code> any activities received at <code>inbox</code> – which is still a valid way of doing things for “mailing list” use cases). This would be clearer than Accepting a Person into a Group.</p>
<h2>Accept/Reject Create</h2>
<p>When sending a Create to a remote server, there will generally be side effects interpreted by that remote server’s software. One common example is that sending Create Note with <code>inReplyTo</code> may attach your Note as a reply to another Note. But this is not guaranteed to happen, e.g. if the remote software has a concept of “disabled comments” or “approved comments”. In that case, the remote software may want to signal that the use of <code>inReplyTo</code> will not automatically cause side effects to be processed, in the same way Follow must first be Accepted or Rejected. It might not make sense to explicitly <em>require</em> Accept/Reject semantics for such a case (as they are for Follow), but they can still be used for hinting the result.</p>
<h2>Accept/Reject Update/Add/Remove/Delete</h2>
<p>In cases where an actor is performing actions on an object other than creating it, these actions may require approval from another actor who “owns” or “manages” that object. You may want to Accept an Offer of an Update, but it would be simpler to just Accept the Update. Per the AP spec, the only considerations made are as follows:</p>
<p>7.3 Update:</p>
<blockquote>
<p>The receiving server <em>MUST</em> take care to be sure that the <code>Update</code> is authorized to modify its <code>object</code> . At minimum, this may be done by ensuring that the <code>Update</code> and its <code>object</code> are of same origin.</p>
</blockquote>
<p>7.4 Delete:</p>
<blockquote>
<p>(assuming the <code>object</code> is owned by the sending actor / server)</p>
</blockquote>
<p>7.8 / 7.9, Add/Remove:</p>
<blockquote>
<ul>
<li>the <code>target</code> is not owned by the receiving server, and thus they can’t update it.</li>
<li>the <code>object</code> is not allowed to be added/removed to the <code>target</code> collection for some other reason, at the receiver’s discretion.</li>
</ul>
</blockquote>
<p>So we have some guidance toward the “receiver’s discretion”, but no formal way of signaling that discretion back to the author of the received activity.</p>
<h1>But why not just use HTTP status codes?</h1>
<p>HTTP status codes are synchronously returned at the time of the request, even if the request is handled asynchronously. You may send out a <code>202 Accepted</code> to indicate that the document was successfully received, but later send out a <code>Reject</code> Activity after some manual action was taken by an actor. This manual action may be performed long after the initial delivery to the remote server.</p>
        </div>

        <meta itemprop='headline' content='Signaling side effects asynchronously by generalizing Accept/Reject'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../2019-11-23-socialcg-meeting/321/2.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://socialhub.activitypub.rocks/t/2019-11-23-socialcg-meeting/321/2'>
                      <span itemprop='name'>2019-11-23 SocialCG Meeting</span>
                    </a>
                    <meta itemprop='position' content='3'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../how-to-use-groups/1005.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://socialhub.activitypub.rocks/t/how-to-use-groups/1005'>
                      <span itemprop='name'>How to use Groups</span>
                    </a>
                    <meta itemprop='position' content='4'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/trwnh.html'><span itemprop='name'>trwnh</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="125.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-10-12T04:06:11Z' class='post-time'>
                October 12, 2019,  4:06am
              </time>
              <meta itemprop='dateModified' content='2019-10-12T04:06:11Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>One other tangential thread of thought: perhaps some of these things would be easier to conceptualize if we had cross-domain authorization and thus servers could only send out authorized activities. But I suspect that authorization alone won’t solve this, as there is still the aspect of actor approval. We could very well conceive of a system in which an actor handed out capabilities to write to (Update/Delete/Add/Remove) a certain object, but they may not wish to do so if they want to keep that capability to themselves and instead manage changes themselves.</p>
        </div>

        <meta itemprop='headline' content='Signaling side effects asynchronously by generalizing Accept/Reject'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/trwnh.html'><span itemprop='name'>trwnh</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="125.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-10-24T17:28:42Z' class='post-time'>
                October 24, 2019,  5:28pm
              </time>
              <meta itemprop='dateModified' content='2019-10-24T17:28:42Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Relevant issue/comment: <a href="https://github.com/w3c/activitypub/issues/332#issuecomment-449176638" rel="nofollow noopener">https://github.com/w3c/activitypub/issues/332#issuecomment-449176638</a></p>
<blockquote>
<p>maybe I want to allow the people I’m following post media into my inbox and all other users should only be allowed to post me <code>Note</code> activities.</p>
</blockquote>
<blockquote>
<p>I’ve been thinking about sending Reject activities for errors in delivery (sending a private message to a user who only accepts private messages from followers, for example)</p>
</blockquote>
        </div>

        <meta itemprop='headline' content='Signaling side effects asynchronously by generalizing Accept/Reject'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/nightpool.html'><span itemprop='name'>nightpool</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="125.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-11-23T19:07:52Z' class='post-time'>
                November 23, 2019,  7:07pm
              </time>
              <meta itemprop='dateModified' content='2019-11-23T19:07:52Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I think this is a good idea, but i would like to see some implementor support before defining it further.</p>
        </div>

        <meta itemprop='headline' content='Signaling side effects asynchronously by generalizing Accept/Reject'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
