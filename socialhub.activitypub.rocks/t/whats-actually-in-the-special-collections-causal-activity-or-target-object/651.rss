<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>What&#39;s actually in the special collections, causal activity or target object?</title>
    <link>https://socialhub.activitypub.rocks/t/whats-actually-in-the-special-collections-causal-activity-or-target-object/651</link>
    <description>From reading the spec and [the guide here](https://socialhub.activitypub.rocks/t/guide-for-new-activitypub-implementers/479/2), I believe it should be as follows:

* Inbox: activities
* Outbox: activities
* Followers: actors
* Following: actors
* Liked: objects
* Likes: activities (type Like)
* Shares: activities (type Announce)

But I&#39;m doubting this because Liked seems to be described both ways in the spec:

&gt; 5.5 Liked Collection
&gt;Every actor *MAY* have a `liked` collection. This is a **list of every object** from all of the actor&#39;s `Like` activities, added as a [side effect](https://www.w3.org/TR/activitypub/#like-activity-outbox).

&gt; 5.7 Likes Collection
&gt;...
&gt;Note
&gt;Care should be taken to not confuse the the [ `likes` ](https://www.w3.org/TR/activitypub/#likes) collection with the similarly named but different [ `liked` ](https://www.w3.org/TR/activitypub/#liked) collection. In sum:
&gt;* **liked:** Specifically a property of actors. This is a **collection of `Like` activities** performed *by the actor* , added to the collection as a [ side effect of delivery to the outbox](https://www.w3.org/TR/activitypub/#like-activity-outbox).

So maybe they should all be activities for consistency (i.e. followers/ing are Follow activities)?
Should I expect to handle varying forms from other severs?</description>
    
    <lastBuildDate>Fri, 01 May 2020 11:51:42 +0000</lastBuildDate>
    <category>ActivityPub</category>
    <atom:link href="https://socialhub.activitypub.rocks/t/whats-actually-in-the-special-collections-causal-activity-or-target-object/651.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>What&#39;s actually in the special collections, causal activity or target object?</title>
        <dc:creator><![CDATA[nightpool]]></dc:creator>
        <description><![CDATA[
            <p>I’ve filed a bug on the activitypub repo to handle this errata:</p>
<aside class="onebox githubissue">
  <header class="source">
      <a href="https://github.com/w3c/activitypub/issues/349" target="_blank">github.com/w3c/activitypub</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewbox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/w3c/activitypub/issues/349" target="_blank">Errata: Misleading note in 5.7 Likes</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2020-05-01" data-time="11:49:05" data-timezone="UTC">11:49AM - 01 May 20 UTC</span>
      </div>


      <div class="user">
        <a href="https://github.com/nightpool" target="_blank">
          <img alt="nightpool" src="https://socialhub.activitypub.rocks/uploads/default/original/1X/807d13adb58ffe514d0ec2646dcdec9cce137f06.jpeg" class="onebox-avatar-inline" width="20" height="20">
          nightpool
        </a>
      </div>
    </div>
  </div>
</div>

<div class="github-row">
  <p class="github-content">In 5.7, Likes collection, we have this informative note: (emphasis added)
Note
Care should be taken to not confuse the the likes collection...</p>
</div>

<div class="labels">
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>Thanks for pointing this out!</p>
          <p><a href="https://socialhub.activitypub.rocks/t/whats-actually-in-the-special-collections-causal-activity-or-target-object/651/7">Read full topic</a></p>
        ]]></description>
        <link>https://socialhub.activitypub.rocks/t/whats-actually-in-the-special-collections-causal-activity-or-target-object/651/7</link>
        <pubDate>Fri, 01 May 2020 11:51:42 +0000</pubDate>
        <guid isPermaLink="false">socialhub.activitypub.rocks-post-651-7</guid>
        <source url="https://socialhub.activitypub.rocks/t/whats-actually-in-the-special-collections-causal-activity-or-target-object/651.rss">What&#39;s actually in the special collections, causal activity or target object?</source>
      </item>
      <item>
        <title>What&#39;s actually in the special collections, causal activity or target object?</title>
        <dc:creator><![CDATA[nightpool]]></dc:creator>
        <description><![CDATA[
            <p>(ah, sorry, I was replying to the comment directly above mine, my comment should be read in direct reply to “And here’s the Like activity Mastodon sends, notice the “ephemeral” ID with fragment”. i’ve edited my post to add the relevant quote :D)</p>
<p>Unfortunately, I think the inconsistency you pointed out is just the result of a late editing change in the spec. Since the text from 5.7 is a non-normative note, there is no <em>technical</em> contradiction—the normative text is consistent about describing an object’s <code>likes</code> as Activities and an actor’s <code>liked</code> collection as a list of Objects. it’s regrettable that a note added to help people understand things better actually caused more confusion!</p>
<aside class="quote no-group" data-username="datatitian" data-post="5" data-topic="651">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://socialhub.activitypub.rocks/user_avatar/socialhub.activitypub.rocks/datatitian/40/236_2.png" class="avatar"> datatitian:</div>
<blockquote>
<p>If another app were to send Mastodon a collection of Follow activities instead, would it parse out the actor/object of those activities, or just not understand the collection</p>
</blockquote>
</aside>
<p>Technically, Mastodon wouldn’t care, since the only thing we actually process is the <code>count</code> of the collection, but i would recommend against it, since it definitely violates both the spirit and the intent of the <code>followers</code> collection. If a collection is made up of Activities, the idea of targeting it as a <code>to</code> or <code>cc</code> property doesn’t make any sense, and there would be no way to specify followers-only or followers-addressed posts. Almost all posts on the network currently are <code>to</code> some followers collection or another.</p>
          <p><a href="https://socialhub.activitypub.rocks/t/whats-actually-in-the-special-collections-causal-activity-or-target-object/651/6">Read full topic</a></p>
        ]]></description>
        <link>https://socialhub.activitypub.rocks/t/whats-actually-in-the-special-collections-causal-activity-or-target-object/651/6</link>
        <pubDate>Fri, 01 May 2020 11:16:36 +0000</pubDate>
        <guid isPermaLink="false">socialhub.activitypub.rocks-post-651-6</guid>
        <source url="https://socialhub.activitypub.rocks/t/whats-actually-in-the-special-collections-causal-activity-or-target-object/651.rss">What&#39;s actually in the special collections, causal activity or target object?</source>
      </item>
      <item>
        <title>What&#39;s actually in the special collections, causal activity or target object?</title>
        <dc:creator><![CDATA[datatitian]]></dc:creator>
        <description><![CDATA[
            <p>Thanks for commenting. I see that Mastodon sends actor ids as the content of the following/followers collection. If another app were to send Mastodon a collection of Follow activities instead, would it parse out the actor/object of those activities, or just not understand the collection?</p>
          <p><a href="https://socialhub.activitypub.rocks/t/whats-actually-in-the-special-collections-causal-activity-or-target-object/651/5">Read full topic</a></p>
        ]]></description>
        <link>https://socialhub.activitypub.rocks/t/whats-actually-in-the-special-collections-causal-activity-or-target-object/651/5</link>
        <pubDate>Wed, 29 Apr 2020 22:32:32 +0000</pubDate>
        <guid isPermaLink="false">socialhub.activitypub.rocks-post-651-5</guid>
        <source url="https://socialhub.activitypub.rocks/t/whats-actually-in-the-special-collections-causal-activity-or-target-object/651.rss">What&#39;s actually in the special collections, causal activity or target object?</source>
      </item>
      <item>
        <title>What&#39;s actually in the special collections, causal activity or target object?</title>
        <dc:creator><![CDATA[datatitian]]></dc:creator>
        <description><![CDATA[
            <p>Thanks, but I’m not concerned with how it is stored (I’m using a denormalized model so it won’t make any difference). I’m trying to figure out what is in the collections when they are federated so I know what to send and what to expect from other apps</p>
          <p><a href="https://socialhub.activitypub.rocks/t/whats-actually-in-the-special-collections-causal-activity-or-target-object/651/4">Read full topic</a></p>
        ]]></description>
        <link>https://socialhub.activitypub.rocks/t/whats-actually-in-the-special-collections-causal-activity-or-target-object/651/4</link>
        <pubDate>Wed, 29 Apr 2020 22:30:25 +0000</pubDate>
        <guid isPermaLink="false">socialhub.activitypub.rocks-post-651-4</guid>
        <source url="https://socialhub.activitypub.rocks/t/whats-actually-in-the-special-collections-causal-activity-or-target-object/651.rss">What&#39;s actually in the special collections, causal activity or target object?</source>
      </item>
      <item>
        <title>What&#39;s actually in the special collections, causal activity or target object?</title>
        <dc:creator><![CDATA[nightpool]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="grishka" data-post="2" data-topic="651">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://socialhub.activitypub.rocks/user_avatar/socialhub.activitypub.rocks/grishka/40/196_2.png" class="avatar"> grishka:</div>
<blockquote>
<p>And here’s the Like activity Mastodon sends, notice the “ephemeral” ID with fragment</p>
</blockquote>
</aside>
<p>that’s currently <a href="https://github.com/tootsuite/mastodon/issues/13571">under discussion</a>, there’s no real reason for us to have a fragment ID there except that it saves us from building another route and controller action. while you’re correct that on the database level, it’s a relation, there’s nothing preventing that relation from storing an activity if it’s useful.</p>
          <p><a href="https://socialhub.activitypub.rocks/t/whats-actually-in-the-special-collections-causal-activity-or-target-object/651/3">Read full topic</a></p>
        ]]></description>
        <link>https://socialhub.activitypub.rocks/t/whats-actually-in-the-special-collections-causal-activity-or-target-object/651/3</link>
        <pubDate>Wed, 29 Apr 2020 21:02:38 +0000</pubDate>
        <guid isPermaLink="false">socialhub.activitypub.rocks-post-651-3</guid>
        <source url="https://socialhub.activitypub.rocks/t/whats-actually-in-the-special-collections-causal-activity-or-target-object/651.rss">What&#39;s actually in the special collections, causal activity or target object?</source>
      </item>
      <item>
        <title>What&#39;s actually in the special collections, causal activity or target object?</title>
        <dc:creator><![CDATA[grishka]]></dc:creator>
        <description><![CDATA[
            <p>IMO putting Like activities in that collection is useless because what you <em>actually</em> want in both your database and your UI is the list of actors that liked an object. If these are to be activities, you’d have to resolve every one of these to get the actors — which is a huge overhead.</p>
<p>To prove my point further, I’d like to point out that most implementations, including mine, store both likes and followings as relations, not activities. <a href="https://github.com/grishka/Smithereen/blob/c6f9aced4ba926353de956410e96049ee6d75e7b/schema.sql#L77" rel="nofollow noopener">Here’s the schema for my likes table.</a> And here’s the Like activity Mastodon sends, notice the “ephemeral” ID with fragment:</p>
<pre><code class="lang-json">{
"@context":"https://www.w3.org/ns/activitystreams",
"id":"https://mastodon.social/users/grishka#likes/28393208",
"type":"Like",
"actor":"https://mastodon.social/users/grishka",
"object":"https://friends.grishka.me/posts/12082"
}
</code></pre>
          <p><a href="https://socialhub.activitypub.rocks/t/whats-actually-in-the-special-collections-causal-activity-or-target-object/651/2">Read full topic</a></p>
        ]]></description>
        <link>https://socialhub.activitypub.rocks/t/whats-actually-in-the-special-collections-causal-activity-or-target-object/651/2</link>
        <pubDate>Wed, 29 Apr 2020 15:21:44 +0000</pubDate>
        <guid isPermaLink="false">socialhub.activitypub.rocks-post-651-2</guid>
        <source url="https://socialhub.activitypub.rocks/t/whats-actually-in-the-special-collections-causal-activity-or-target-object/651.rss">What&#39;s actually in the special collections, causal activity or target object?</source>
      </item>
      <item>
        <title>What&#39;s actually in the special collections, causal activity or target object?</title>
        <dc:creator><![CDATA[datatitian]]></dc:creator>
        <description><![CDATA[
            <p>From reading the spec and <a href="https://socialhub.activitypub.rocks/t/guide-for-new-activitypub-implementers/479/2">the guide here</a>, I believe it should be as follows:</p>
<ul>
<li>Inbox: activities</li>
<li>Outbox: activities</li>
<li>Followers: actors</li>
<li>Following: actors</li>
<li>Liked: objects</li>
<li>Likes: activities (type Like)</li>
<li>Shares: activities (type Announce)</li>
</ul>
<p>But I’m doubting this because Liked seems to be described both ways in the spec:</p>
<blockquote>
<p>5.5 Liked Collection<br>
Every actor <em>MAY</em> have a <code>liked</code> collection. This is a <strong>list of every object</strong> from all of the actor’s <code>Like</code> activities, added as a <a href="https://www.w3.org/TR/activitypub/#like-activity-outbox" rel="nofollow noopener">side effect</a>.</p>
</blockquote>
<blockquote>
<p>5.7 Likes Collection<br>
…<br>
Note<br>
Care should be taken to not confuse the the <a href="https://www.w3.org/TR/activitypub/#likes" rel="nofollow noopener"> <code>likes</code> </a> collection with the similarly named but different <a href="https://www.w3.org/TR/activitypub/#liked" rel="nofollow noopener"> <code>liked</code> </a> collection. In sum:</p>
<ul>
<li>
<strong>liked:</strong> Specifically a property of actors. This is a <strong>collection of <code>Like</code> activities</strong> performed <em>by the actor</em> , added to the collection as a <a href="https://www.w3.org/TR/activitypub/#like-activity-outbox" rel="nofollow noopener"> side effect of delivery to the outbox</a>.</li>
</ul>
</blockquote>
<p>So maybe they should all be activities for consistency (i.e. followers/ing are Follow activities)?<br>
Should I expect to handle varying forms from other severs?</p>
          <p><a href="https://socialhub.activitypub.rocks/t/whats-actually-in-the-special-collections-causal-activity-or-target-object/651/1">Read full topic</a></p>
        ]]></description>
        <link>https://socialhub.activitypub.rocks/t/whats-actually-in-the-special-collections-causal-activity-or-target-object/651/1</link>
        <pubDate>Wed, 29 Apr 2020 13:36:48 +0000</pubDate>
        <guid isPermaLink="false">socialhub.activitypub.rocks-post-651-1</guid>
        <source url="https://socialhub.activitypub.rocks/t/whats-actually-in-the-special-collections-causal-activity-or-target-object/651.rss">What&#39;s actually in the special collections, causal activity or target object?</source>
      </item>
  </channel>
</rss>
