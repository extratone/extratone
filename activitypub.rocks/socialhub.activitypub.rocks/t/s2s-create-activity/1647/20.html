<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>S2S Create Activity - #20 by cjs - Server to Server - SocialHub</title>
    <meta name="description" content="Question to S2S Create Activity 
A client sends an activity to http://server_a.com/max  . 
It gets the id: http://server_a.com/max/activity_0815. 
The property as:to of http://server_a.com/max/activity_0815 is http://ser&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.0.beta2 - https://github.com/discourse/discourse version c39ab6c0ae3803b6a62501954ae40adb6b73d580">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/1X/b7023860b3d7df97ea10ba3c7ab11cb046a77c7a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/1X/8faac84234dc73d074dadaa2bcf24dc746b8647f_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../1647.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://socialhub.activitypub.rocks","potentialAction":{"@type":"SearchAction","target":"https://socialhub.activitypub.rocks/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="SocialHub Search">

      <link href="https://socialhub.activitypub.rocks/stylesheets/desktop_caa977791d50efc800b8ef1bcbafb8a15f082761.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop" />
      <link href="https://socialhub.activitypub.rocks/stylesheets/desktop_theme_5_969dd27459c19a0b7620746a3d179b86ef033d7a.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="5"/>
<link href="https://socialhub.activitypub.rocks/stylesheets/desktop_theme_3_f50bf2f225326f482d56e65e93f1f047d48417a9.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3"/>
<link href="https://socialhub.activitypub.rocks/stylesheets/desktop_theme_8_e3f93470fef56ec97b63f77e16779e328baab8ea.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="8"/>
<link href="https://socialhub.activitypub.rocks/stylesheets/desktop_theme_4_8d506fd22b761a15044193a6d4ebda5f6bde2498.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4"/>
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;S2S Create Activity&#39;" href="../1647.rss" />
    <meta property="og:site_name" content="SocialHub" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://socialhub.activitypub.rocks/uploads/default/original/1X/8faac84234dc73d074dadaa2bcf24dc746b8647f.png" />
<meta property="og:image" content="https://socialhub.activitypub.rocks/uploads/default/original/1X/8faac84234dc73d074dadaa2bcf24dc746b8647f.png" />
<meta property="og:url" content="https://socialhub.activitypub.rocks/t/s2s-create-activity/1647/20" />
<meta name="twitter:url" content="https://socialhub.activitypub.rocks/t/s2s-create-activity/1647/20" />
<meta property="og:title" content="S2S Create Activity" />
<meta name="twitter:title" content="S2S Create Activity" />
<meta property="og:description" content="HTTP Signatures is a community-adopted solution to handle the problem “How to associate a particular HTTP request with a particular Actor in an authenticated manner”. But im sure there are other solutions – could be OAuth2 – but would require more thought and would not be compatible with the Mastodon flavor of ActivityPub.  Note that I entertained the idea of using OAuth2 in the federated context to do “Hi server Z, I am X from peer server Y and want you to delete your cache data about me” in th..." />
<meta name="twitter:description" content="HTTP Signatures is a community-adopted solution to handle the problem “How to associate a particular HTTP request with a particular Actor in an authenticated manner”. But im sure there are other solutions – could be OAuth2 – but would require more thought and would not be compatible with the Mastodon flavor of ActivityPub.  Note that I entertained the idea of using OAuth2 in the federated context to do “Hi server Z, I am X from peer server Y and want you to delete your cache data about me” in th..." />
<meta property="article:published_time" content="2021-05-05T08:58:57+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
<script src="https://socialhub.activitypub.rocks/theme-javascripts/3a68d4ddcab78e923b7c4169708a8f1deb79df66.js?__ws=socialhub.activitypub.rocks"></script>
    <header>
      <a href="https://socialhub.activitypub.rocks/">
          <img src="../../../uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png" alt="SocialHub" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="../1647.html">S2S Create Activity</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../../c/activitypub.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #0088CC'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>ActivityPub</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../../c/activitypub/s2s/7.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #808281'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Server to Server</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/naturzukunft.html'><span itemprop='name'>naturzukunft</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1647.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-27T05:46:29Z' class='post-time'>
                April 27, 2021,  5:46am
              </time>
              <meta itemprop='dateModified' content='2021-04-27T05:46:29Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>The same question is valid for objectIds.<br>
I have just read the specifcaton again, but I can’t find any reference to it.</p>
<p>*the server will want to locally store a representation of this activity and its accompanying object. *</p>
<p>So that makes only sence, if the activity and the object is accessible on that server.  And if i understood linked data right, the id is the url ob the activity/object. And the it is different on servera and serverb.</p>
<p>But if it is different, how can i find the object to update when receiving an update activity?</p>
<p>Do i have to save the original id in a filed like “origin” ? But the <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-origin" rel="noopener nofollow ugc">description</a> of “origin” says, that is not ok to use it for that case.</p>
<p>I miss a property in ASObject therefore.</p>
<h3>
<a name="72-create-activity-1" class="anchor" href="20.html#72-create-activity-1"></a>7.2 Create Activity</h3>
<p>Receiving a <code>Create</code> activity in an <code>inbox</code> has surprisingly few side effects; the activity should appear in the actor’s <code>inbox</code> and it is likely that the server will want to locally store a representation of this activity and its accompanying object. However, this mostly happens in general with processing activities delivered to an <code>inbox</code> anyway.</p>
<h3>
<a name="73-update-activity-2" class="anchor" href="20.html#73-update-activity-2"></a>7.3 Update Activity</h3>
<p>For server to server interactions, an <code>Update</code> activity means that the receiving server (Title: SHOULD) <em>SHOULD</em> update its copy of the <code>object</code> of the same <code>id</code> to the copy supplied in the <code>Update</code> activity. Unlike the <a href="https://www.w3.org/TR/activitypub/#update-activity-outbox" rel="noopener nofollow ugc"> client to server handling of the Update activity</a>, this is not a partial update but a complete replacement of the object.</p>
        </div>

        <meta itemprop='headline' content='S2S Create Activity'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/naturzukunft.html'><span itemprop='name'>naturzukunft</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1647.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-27T06:19:11Z' class='post-time'>
                April 27, 2021,  6:19am
              </time>
              <meta itemprop='dateModified' content='2021-04-27T06:19:11Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Could be a way:<br>
<a href="https://schema.org/sameAs" class="onebox" target="_blank" rel="noopener nofollow ugc">https://schema.org/sameAs</a><br>
<a href="https://www.w3.org/TR/owl-ref/#sameAs-def" class="onebox" target="_blank" rel="noopener nofollow ugc">https://www.w3.org/TR/owl-ref/#sameAs-def</a></p>
        </div>

        <meta itemprop='headline' content='S2S Create Activity'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/cjs.html'><span itemprop='name'>cjs</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1647.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2021-04-28T16:24:57Z'>
              <time itemprop='dateModified' datetime='2021-04-28T16:25:27Z' class='post-time'>
                April 28, 2021,  4:25pm
              </time>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>The ID, when present, is always immutable.</p>
<p>If a peer gives you something with ID <code>http://server_a.com/max/activity_0815</code>, you <em>always</em> continue to reference the content as having ID <code>http://server_a.com/max/activity_0815</code>. That means you can have an <code>inbox</code> collection for <code>server_b</code> like:</p>
<pre><code class="lang-auto">{
  "@context": "https://www.w3.org/ns/activitystreams",
  "type": "OrderedCollection",
  "totalItems": 4,
  "orderedItems": [
    "https://foo.bar/baz/1",
    "https://server_a.com/max/activity_0815",
    "https://example.com/something/else/123",
    "https://server_b.com/max/activity_0004"
  ]
}
</code></pre>
<p>Two <code>id</code>s of different values really do mean they are different.</p>
        </div>

        <meta itemprop='headline' content='S2S Create Activity'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="4" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/Sebastian.html'><span itemprop='name'>Sebastian</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1647.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-28T16:41:42Z' class='post-time'>
                April 28, 2021,  4:41pm
              </time>
              <meta itemprop='dateModified' content='2021-04-28T16:41:42Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hey CJ, agreed, what confuses me is the hash fragment.</p>
<blockquote>
<p>Two <code>id</code> s of different values really do mean they are different.</p>
</blockquote>
<p>exept of fragment identifiers, is that correct?</p>
<p>See also</p>
<aside class="onebox githubissue">
  <header class="source">
      <a href="https://github.com/tootsuite/mastodon/issues/13879" target="_blank" rel="noopener">github.com/tootsuite/mastodon</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewbox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/tootsuite/mastodon/issues/13879" target="_blank" rel="noopener">ActivityPub ids with # symbol are not resolvable </a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2020-05-27" data-time="16:06:22" data-timezone="UTC">04:06PM - 27 May 20 UTC</span>
      </div>


      <div class="user">
        <a href="https://github.com/koehn" target="_blank" rel="noopener">
          <img alt="koehn" src="../../../uploads/default/original/2X/1/17f9e927c9dd2213880b5e01bfa06d91131062c3.jpeg" class="onebox-avatar-inline" width="20" height="20">
          koehn
        </a>
      </div>
    </div>

    <div class="labels">
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">### Expected behaviour

Per the [ActivityPub specification](https://www.w3.org<span class="show-more-container"><a href="20.html" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">/TR/activitypub/#obj-id), IDs must either be `null` or:

&gt; Publicly dereferencable URIs, such as HTTPS URIs, with their authority belonging to that of their originating server. (Publicly facing content SHOULD use HTTPS URIs).

### Actual behaviour
Mastodon ids include information in the fragment (`#`) section, which renders the portion of the ID beyond the fragment symbol as unresolvable by HTTP-conforming libraries such as [libcurl](https://ec.haxx.se/cmdline/cmdline-urls#fragment).

### Steps to reproduce the problem
`curl -vH 'Accept: application/activity+json' 'https://mastodon.technology/@norztech#likes/836349#Like'`

`curl` (correctly) sends:
```
&gt; GET /@norztech HTTP/2
&gt; Host: mastodon.technology
&gt; User-Agent: curl/7.64.1
&gt; Accept: application/activity+json
```</span></p>
  </div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='S2S Create Activity'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/cjs.html'><span itemprop='name'>cjs</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1647.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2021-04-28T16:51:34Z'>
              <time itemprop='dateModified' datetime='2021-04-28T16:53:56Z' class='post-time'>
                April 28, 2021,  4:53pm
              </time>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote group-redaktor.me" data-username="Sebastian" data-post="5" data-topic="1647">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/socialhub.activitypub.rocks/sebastian/40/38_2.png" class="avatar"> Sebastian:</div>
<blockquote>
<p>what confuses me is the hash fragment.</p>
</blockquote>
</aside>
<p>You’re not alone. <img src="../../../images/emoji/twitter/slight_smile.png@v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"> Me too.</p>
<aside class="quote group-redaktor.me" data-username="Sebastian" data-post="5" data-topic="1647">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/socialhub.activitypub.rocks/sebastian/40/38_2.png" class="avatar"> Sebastian:</div>
<blockquote>
<p>exept of fragment identifiers, is that correct?</p>
</blockquote>
</aside>
<p>Depends on who you ask.</p>
<p>This is an area of elbows and razor blades so I personally avoid sending fragments for IDs entirely. Since it’s unclear what to do about <em>incoming</em> fragments, I believe I have it so that go-fed just passes them through*. My rationale is that I’ve seen fragments used to specify fields within an ActivityStream via some sort of JSON-LD referencing, but go-fed doesn’t do JSON-LD processing, so no need to touch the fragment.</p>
<p>*For the S2S case. For incoming-dereferencing purposes, I think for mastodon compatibility, I erase any fragments (ex: <code>#main-key</code>) before database retrieval because of the same “I don’t do JSON-LD processing” rationale above, and I don’t want to fail Mastodon requests because they have that extra fragment.</p>
        </div>

        <meta itemprop='headline' content='S2S Create Activity'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/naturzukunft.html'><span itemprop='name'>naturzukunft</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1647.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-29T05:18:49Z' class='post-time'>
                April 29, 2021,  5:18am
              </time>
              <meta itemprop='dateModified' content='2021-04-29T05:18:49Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="naturzukunft" data-post="2" data-topic="1647">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/socialhub.activitypub.rocks/naturzukunft/40/983_2.png" class="avatar"> naturzukunft:</div>
<blockquote>
<p>and it is likely that the server will want to locally store a representation of this activity and its accompanying object</p>
</blockquote>
</aside>
<p>But this sentence is confusing me:<br>
<em>“and it is likely that the server will want to locally store a representation of this activity and its accompanying object”</em><br>
(see: 7.2 Create Activity)</p>
<p>You are right and this is absolutely meaningfull in context of linked-data. (expect caching)</p>
        </div>

        <meta itemprop='headline' content='S2S Create Activity'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/naturzukunft.html'><span itemprop='name'>naturzukunft</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1647.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2021-04-29T05:34:11Z'>
              <time itemprop='dateModified' datetime='2021-04-29T05:40:02Z' class='post-time'>
                April 29, 2021,  5:40am
              </time>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Who is able to update objects?<br>
Actor Max creates an activity in he’s outbox:</p>
<pre><code class="lang-auto">{
  "@context": "https://www.w3.org/ns/activitystreams",
  "type": "Create",
  "id": "https://example.com/max/activity_7287374",
  "actor": "https://example.com/max",
  "object": {
    "id": "https://example.com/max/task_72",
    "type": "Task",
    "status": "OPEN",
    "assignee": "https://anotherone.net/thomas",
    "to": ["https://anotherone.net/thomas"]
   },
  "to": ["https://anotherone.net/thomas"]  
}
</code></pre>
<p>And now Thomas is fulfilling the task and change the status to “DONE” then this activity will be in Thomas’s outbox:</p>
<pre><code class="lang-auto">{
	"@context": "https://www.w3.org/ns/activitystreams",
	"type": "Update",
	"id": "https://anotherone.net/thomas/activity_8888888",
	"actor": "https://anotherone.net/thomas",
	"object": {
		"id": "https://example.com/max/task_72",
		"type": "Task",
		"assignee": "https://anotherone.net/thomas",
		"status": "DONE",
		"to": [
			"https://example.com/max"
		]
	},
	"to": [
		"https://example.com/max"
	]
}

did i miss something in the specification? i don't remember it saying anything about who can update or delete objects.
</code></pre>
<p>Because i store the whole activitypub things in an RDF store, i also has to save the object “<a href="https://example.com/max/task_72" rel="noopener nofollow ugc">https://example.com/max/task_72</a>” in the repository/store of “<a href="https://anotherone.net/thomas" rel="noopener nofollow ugc">https://anotherone.net/thomas</a>”. It’s part of the activity, that i have to save. and it’s a new version of “<a href="https://example.com/max/task_72" rel="noopener nofollow ugc">https://example.com/max/task_72</a>”.</p>
<p>It’s a bit confusing to do this with the same id?! mabye only in my head. To me it sounds more familiar to save a copy with a reference to the original.</p>
        </div>

        <meta itemprop='headline' content='S2S Create Activity'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/cjs.html'><span itemprop='name'>cjs</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1647.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2021-04-29T06:20:00Z'>
              <time itemprop='dateModified' datetime='2021-04-29T06:24:18Z' class='post-time'>
                April 29, 2021,  6:24am
              </time>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="naturzukunft" data-post="7" data-topic="1647">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/socialhub.activitypub.rocks/naturzukunft/40/983_2.png" class="avatar"> naturzukunft:</div>
<blockquote>
<p>But this sentence is confusing me:<br>
<em>“and it is likely that the server will want to locally store a representation of this activity and its accompanying object”</em><br>
(see: 7.2 Create Activity)</p>
</blockquote>
</aside>
<p>You have a right to cache the payload, unmodified. So you’re correct, <code>server_b</code> will locally store federated payloads from <code>server_a</code>, meaning it is up to your specific application whether you want your app’s logic to:</p>
<ol>
<li>Store everything ever sent to you and rely heavily on your cache; or</li>
<li>Just store the IRIs and then re-fetch from a peer server whenever you need the body of the object (no caching); or</li>
<li>something in between</li>
</ol>
<aside class="quote no-group" data-username="naturzukunft" data-post="8" data-topic="1647">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/socialhub.activitypub.rocks/naturzukunft/40/983_2.png" class="avatar"> naturzukunft:</div>
<blockquote>
<p>Who is able to update objects?</p>
</blockquote>
</aside>
<p>That is application-specific. In today’s software, typically only the original actor sends an <code>Update</code> Activity – if the software even allows Updates at all.</p>
<aside class="quote no-group" data-username="naturzukunft" data-post="8" data-topic="1647">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/socialhub.activitypub.rocks/naturzukunft/40/983_2.png" class="avatar"> naturzukunft:</div>
<blockquote>
<p><code>did i miss something in the specification? i don't remember it saying anything about who can update or delete objects.</code></p>
</blockquote>
</aside>
<p>The question of “who can do what” is again, unfortunately, application specific. The <code>Update</code> and <code>Delete</code> Activities are sent out to allow coordinated “cache control” of these copies living in other federated peers. Some applications skip the <code>Update</code> logic and only federate <code>Create</code> and <code>Delete</code>.</p>
<p>I think a key point of confusion may be: In your example, you have a cross-instance federated <code>Update</code>. That is, <code>https://anotherone.net/thomas</code> is attempting to <code>Update</code> something originating from <code>https://example.com/</code>. This is not the simple case, but a very gnarly case due to how IRIs today are coupled with their originating server. I think there are discussions on this SocialHub going into great debate trying to solve this kind of general problem (“sending an activity about data living on another instance”) but I’d propose excluding it for now, and revisiting it later.</p>
<p>With that in mind, that means an app’s primary focus is going to figure out if it should let only the original actor also send an <code>Update</code> about the data it “owns” – letting only <code>https://example.com/max</code> send an <code>Update</code> for <code>https://example.com/max/task_72</code> – or allow <em>anyone</em> on <code>https://example.com</code> send that <code>Update</code>. I can’t remember off the top of my head if some peer software already bakes that assumption into their processing of <em>incoming</em> federated activities, in which case it is also a compatibility problem now.</p>
<p>One point of detail: the <code>Activity</code> <em>may</em> have the actual data you’re interested in (<code>Task</code>, in this case) embedded in its body. I think most implementations rely on IRI indirection here. For example, a complete discovery round of fetching could look like this:</p>
<ol>
<li>Fetching <code>https://example.com/max/outbox</code> may yield:</li>
</ol>
<pre><code class="lang-auto">{
  "@context": "https://www.w3.org/ns/activitystreams",
  "type": "OrderedCollection",
  "totalItems": 4,
  "orderedItems": [
    "https://foo.bar/baz/1",
    "https://server_a.com/max/activity_0815",
    "https://example.com/something/else/123",
    "https://server_b.com/max/activity_0004"
  ]
}
</code></pre>
<p>2a) You then iterate – I’ll just go through one iteration here – and fetch the first <code>orderedItem</code>:</p>
<pre><code class="lang-auto">{
  "@context": "https://www.w3.org/ns/activitystreams",
  "type": "Update",
  "id": "https://foo.bar/baz/1",
  "actor": "https://foo.bar/thomas",
  "object": "https://example.com/max/task_72",
  "to": "https://example.com/max"
}
</code></pre>
<p>2b) You then fetch <code>https://example.com/max/task_72</code> and obtain the latest version of it (note: this will also be the same payload when fetching the <code>Create.object</code> for this task):</p>
<pre><code class="lang-auto">{
  "id": "https://example.com/max/task_72",
  "type": "Task",
  "status": "DONE",
  "assignee": "https://anotherone.net/thomas"
}
</code></pre>
<ol start="3">
<li>If still iterating, go to 2a.</li>
</ol>
<hr>
<p>Ignoring the cross-federated update, the simple path is: each instance of federated software is able to “own” and operate on (update and delete) their own data, but share it. Peers receiving that data can then generally generate <em>new</em> data in response to such data, and also share it. They can also locally delete it (ex: moderation) but it does not result in mass censorship for other federated software instances.</p>
<p>I’m not sure what interactions you’re interested in, but if that previous paragraph is insufficient for your use-cases, you’re not alone. Great questions!</p>
        </div>

        <meta itemprop='headline' content='S2S Create Activity'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/naturzukunft.html'><span itemprop='name'>naturzukunft</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1647.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-29T07:53:34Z' class='post-time'>
                April 29, 2021,  7:53am
              </time>
              <meta itemprop='dateModified' content='2021-04-29T07:53:34Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="cjs" data-post="9" data-topic="1647">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/socialhub.activitypub.rocks/cjs/40/584_2.png" class="avatar"> cjs:</div>
<blockquote>
<p>One point of detail: the <code>Activity</code> <em>may</em> have the actual data you’re interested in ( <code>Task</code> , in this case) embedded in its body. I think most implementations rely on IRI indirection here.</p>
</blockquote>
</aside>
<p>Yes, i also have the feeling that rather few think in triples. but i don’t want to start parsing and interpreting json. in my ideal case, the incoming json becomes a list of triples as quickly as possible. <img src="../../../images/emoji/twitter/wink.png@v=9" title=":wink:" class="emoji" alt=":wink:"></p>
<aside class="quote no-group" data-username="cjs" data-post="9" data-topic="1647">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/socialhub.activitypub.rocks/cjs/40/584_2.png" class="avatar"> cjs:</div>
<blockquote>
<p>but I’d propose excluding it for now, and revisiting it later.</p>
</blockquote>
</aside>
<p>That will be a problem <img src="../../../images/emoji/twitter/wink.png@v=9" title=":wink:" class="emoji" alt=":wink:"> We currently implementing a taskprocessing mechanism, that is a main part of our architecture. ok, for now all actors will be in one instance, but i don’t want to make any exceptions as far as possible. an actor is an actor, no matter on which instance. otherwise it will be chaotic.</p>
        </div>

        <meta itemprop='headline' content='S2S Create Activity'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/naturzukunft.html'><span itemprop='name'>naturzukunft</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1647.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-29T08:00:06Z' class='post-time'>
                April 29, 2021,  8:00am
              </time>
              <meta itemprop='dateModified' content='2021-04-29T08:00:06Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>But i see a lot of compatibilty problems (a huge amount) in near future. i feel already in there. the federation seems to work for some simple usecases and some simple Notes. but we are far away from building federated applications.</p>
<p>We will see, either i/we fail or we are among the first <img src="../../../images/emoji/twitter/wink.png@v=9" title=":wink:" class="emoji" alt=":wink:"></p>
<p>Unfortunately, what i will have to do is rely on our implementation and care little about others. how our interpretations are then compatible remains to be seen.<br>
I can do no more than try to clarify questions here in the socialhub.<br>
It is and remains exciting</p>
        </div>

        <meta itemprop='headline' content='S2S Create Activity'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/naturzukunft.html'><span itemprop='name'>naturzukunft</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1647.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-29T08:45:59Z' class='post-time'>
                April 29, 2021,  8:45am
              </time>
              <meta itemprop='dateModified' content='2021-04-29T08:45:59Z'>
          <span itemprop='position'>#12</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="naturzukunft" data-post="8" data-topic="1647">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/socialhub.activitypub.rocks/naturzukunft/40/983_2.png" class="avatar"> naturzukunft:</div>
<blockquote>
<p>And now Thomas is fulfilling the task and change the status to “DONE” then this activity will be in Thomas’s outbox:</p>
<pre><code class="lang-auto">{
	"@context": "https://www.w3.org/ns/activitystreams",
	"type": "Update",
	"id": "https://anotherone.net/thomas/activity_8888888",
	"actor": "https://anotherone.net/thomas",
	"object": {
		"id": "https://example.com/max/task_72",
		"type": "Task",
		"assignee": "https://anotherone.net/thomas",
		"status": "DONE",
		"to": [
			"https://example.com/max"
		]
	},
	"to": [
		"https://example.com/max"
	]
}
</code></pre>
</blockquote>
</aside>
<p>^ Thats somehow wrong, because the object in the activity <code>https://anotherone.net/thomas/activity_8888888</code> should not have the same id! It’s a new version of  <code>https://example.com/max/task_72 </code>  version handling maybe a problem <img src="../../../images/emoji/twitter/wink.png@v=9" title=":wink:" class="emoji" alt=":wink:"><br>
Because if i save the object above in my system there is a timerange where two objects in two instances life with the same id in different state.</p>
        </div>

        <meta itemprop='headline' content='S2S Create Activity'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/Sebastian.html'><span itemprop='name'>Sebastian</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1647.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2021-04-29T10:37:57Z'>
              <time itemprop='dateModified' datetime='2021-04-29T10:38:11Z' class='post-time'>
                April 29, 2021, 10:38am
              </time>
          <span itemprop='position'>#13</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="cjs" data-post="6" data-topic="1647">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/socialhub.activitypub.rocks/cjs/40/584_2.png" class="avatar"> cjs:</div>
<blockquote>
<p>Depends on who you ask.</p>
</blockquote>
</aside>
<p>Exactly.<br>
If I would only read the specification, I understand that the <code>id</code> must be<br>
either <code>null</code> or it must be a “unique global identifier” which is a “Publicly dereferencable URI".</p>
<p>Maybe instead of ‘users’ one of the ‘authors’ could make clear whether<br>
<code>https://alyssa.cat#elephant</code> and<br>
<code>https://alyssa.cat#parrot</code></p>
<p>are the same <code>id</code> or a different <code>id</code> …</p>
<p>An authoritative statement would be wonderful<br>
<a class="mention" href="../../../u/rhiaro.html">@rhiaro</a></p>
<p><img src="../../../images/emoji/twitter/slight_smile.png@v=9" title=":slight_smile:" class="emoji only-emoji" alt=":slight_smile:"></p>
        </div>

        <meta itemprop='headline' content='S2S Create Activity'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/naturzukunft.html'><span itemprop='name'>naturzukunft</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1647.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-29T11:42:36Z' class='post-time'>
                April 29, 2021, 11:42am
              </time>
              <meta itemprop='dateModified' content='2021-04-29T11:42:36Z'>
          <span itemprop='position'>#14</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a class="mention" href="../../../u/sebastian.html">@Sebastian</a> you are Hijacking the thread <img src="../../../images/emoji/twitter/wink.png@v=9" title=":wink:" class="emoji" alt=":wink:"></p>
        </div>

        <meta itemprop='headline' content='S2S Create Activity'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/cjs.html'><span itemprop='name'>cjs</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1647.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2021-04-29T16:04:08Z'>
              <time itemprop='dateModified' datetime='2021-04-29T16:04:41Z' class='post-time'>
                April 29, 2021,  4:04pm
              </time>
          <span itemprop='position'>#15</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>On the whole <a class="mention" href="../../../u/naturzukunft.html">@naturzukunft</a> you may be interested in <a class="mention" href="../../../u/cwebber.html">@cwebber</a> 's work on <a href="https://spritelyproject.org/" rel="noopener nofollow ugc">Spritely</a> which perhaps fits better with some of the expectations you’ve laid out that I’ve disappointed.</p>
<aside class="quote no-group" data-username="naturzukunft" data-post="12" data-topic="1647">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/socialhub.activitypub.rocks/naturzukunft/40/983_2.png" class="avatar"> naturzukunft:</div>
<blockquote>
<p>^ Thats somehow wrong, because the object in the activity <code>https://anotherone.net/thomas/activity_8888888</code> should not have the same id! It’s a new version of <code>https://example.com/max/task_72 </code> version handling maybe a problem <img src="../../../images/emoji/twitter/wink.png@v=9" title=":wink:" class="emoji" alt=":wink:"><br>
Because if i save the object above in my system there is a timerange where two objects in two instances life with the same id in different state.</p>
</blockquote>
</aside>
<p>Yeah this is why some softwares do not support sending the <code>Update</code> activity for certain kinds of content. But you’re right, there is a slow cache-consistency problem. Imagine if we federated via ActivityPub over sneakernet… I go sailing and type up a bunch of notes, including <code>Update</code>s to things you already have cached, and I generate activities, but I don’t have internet access. A ship passes by, and I can federate with them. They have the <code>Update</code>, no one else does. That ship can carry it further to share with the rest of the world, as could mine. ActivityPub accommodates this slow eventual consistency, and can survive divisions of the network (and heal when they’re re-connected).</p>
<p>Apps may demand real-time “global state”, and this is the key tragedy of Blockchain-like decentralized thinking. Trying to have decentralization <em>but also</em> demand global consistency. That is not needed in federation: decentralization, with a window into “the world” <em>and yet</em> acknowledgement there’s more out there that we don’t know. Perhaps a little too philosophical.</p>
<aside class="quote no-group" data-username="naturzukunft" data-post="11" data-topic="1647">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/socialhub.activitypub.rocks/naturzukunft/40/983_2.png" class="avatar"> naturzukunft:</div>
<blockquote>
<p>Unfortunately, what i will have to do is rely on our implementation and care little about others. how our interpretations are then compatible remains to be seen.<br>
I can do no more than try to clarify questions here in the socialhub.<br>
It is and remains exciting</p>
</blockquote>
</aside>
<p><img src="../../../images/emoji/twitter/slight_smile.png@v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"> A lot of people wish to remain “compatible with the Mastodon-flavor of ActivityPub”, but it is certainly not required.</p>
<aside class="quote no-group" data-username="naturzukunft" data-post="10" data-topic="1647">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/socialhub.activitypub.rocks/naturzukunft/40/983_2.png" class="avatar"> naturzukunft:</div>
<blockquote>
<p>That will be a problem <img src="../../../images/emoji/twitter/wink.png@v=9" title=":wink:" class="emoji" alt=":wink:"> We currently implementing a taskprocessing mechanism, that is a main part of our architecture. ok, for now all actors will be in one instance, but i don’t want to make any exceptions as far as possible. an actor is an actor, no matter on which instance. otherwise it will be chaotic.</p>
</blockquote>
</aside>
<p>FYI ForgeFed had a similar problem and solved it using <a href="https://forgefed.peers.community/behavior.html#offer-flow" rel="noopener nofollow ugc">Offer flow</a>:</p>
<blockquote>
<p>The <em>offer</em> flow begins with an <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-offer" rel="noopener nofollow ugc">Offer</a> activity, in which <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-object" rel="noopener nofollow ugc">object</a> is the object being offered for publishing, and <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-target" rel="noopener nofollow ugc">target</a> indicates under which list or collection the sender would like the object to be published, if the <em>target actor</em> accepts the offer and publishes it.</p>
</blockquote>
<p>Thus, across federating instances, <code>https://example.com/max</code> can <code>Offer</code> something to <code>https://anotherone.net/thomas</code>, then Thomas can <code>Accept</code> it and then do the usual ActivityPub behavior.</p>
        </div>

        <meta itemprop='headline' content='S2S Create Activity'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="3" />
           <span class='post-likes'>3 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/naturzukunft.html'><span itemprop='name'>naturzukunft</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1647.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-04-30T07:53:25Z' class='post-time'>
                April 30, 2021,  7:53am
              </time>
              <meta itemprop='dateModified' content='2021-04-30T07:53:25Z'>
          <span itemprop='position'>#16</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>i have to sleep over the whole stuff a few nights <img src="../../../images/emoji/twitter/wink.png@v=9" title=":wink:" class="emoji" alt=":wink:"></p>
        </div>

        <meta itemprop='headline' content='S2S Create Activity'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/naturzukunft.html'><span itemprop='name'>naturzukunft</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1647.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2021-05-04T08:26:19Z'>
              <time itemprop='dateModified' datetime='2021-05-04T09:04:42Z' class='post-time'>
                May 4, 2021,  9:04am
              </time>
          <span itemprop='position'>#17</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>ok, now i stuck with the next question ,-)<br>
if i save only the id’s of the activities in the inbox of ActorA, i have to read the ‘graph’ of the activity, if the ActorA wants to see/process it. But therefore the ActorA needs to have an Oauth2 token ?!</p>
<p>Or how should i show the inbox to ActorA ?</p>
<p>I have to had a cache ;-(</p>
<p>Fredy</p>
        </div>

        <meta itemprop='headline' content='S2S Create Activity'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/cjs.html'><span itemprop='name'>cjs</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1647.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-04T21:34:21Z' class='post-time'>
                May 4, 2021,  9:34pm
              </time>
              <meta itemprop='dateModified' content='2021-05-04T21:34:21Z'>
          <span itemprop='position'>#18</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Yes either a local cache (probably based on the HTTP caching headers) or attempt to dereference over the network each time – expensive and not guaranteed server availability.</p>
        </div>

        <meta itemprop='headline' content='S2S Create Activity'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/naturzukunft.html'><span itemprop='name'>naturzukunft</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1647.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-05T06:09:04Z' class='post-time'>
                May 5, 2021,  6:09am
              </time>
              <meta itemprop='dateModified' content='2021-05-05T06:09:04Z'>
          <span itemprop='position'>#19</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="cjs" data-post="18" data-topic="1647">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/socialhub.activitypub.rocks/cjs/40/584_2.png" class="avatar"> cjs:</div>
<blockquote>
<p>attempt to dereference over the network each time – expensive and not guaranteed server availability.</p>
</blockquote>
</aside>
<p>How can that work? The remote resources are secured, so without authentication you cannot get the ressources. and in the inbox there are a ressources from a lot different servers/accounts.<br>
Is there S2S Server based wayß an alternative for OAuth2 ?</p>
        </div>

        <meta itemprop='headline' content='S2S Create Activity'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/cjs.html'><span itemprop='name'>cjs</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1647.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-05T08:58:57Z' class='post-time'>
                May 5, 2021,  8:58am
              </time>
              <meta itemprop='dateModified' content='2021-05-05T08:58:57Z'>
          <span itemprop='position'>#20</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>HTTP Signatures is a community-adopted solution to handle the problem “How to associate a particular HTTP request with a particular Actor in an authenticated manner”. But im sure there are other solutions – could be OAuth2 – but would require more thought and would not be compatible with the Mastodon flavor of ActivityPub.</p>
<p>Note that I entertained the idea of using OAuth2 in the federated context to do “Hi server Z, I am X from peer server Y and want you to delete your cache data about me” in <a href="../../discussion-a-next-step-in-federated-data-protections/300.html">this</a> but it turns out that particular problem doesn’t really have a good solution – so that post is ignorable. I mention it to avoid confusion over any OAuth2 + AP searches you may do – you’re focused on a totally different problem.</p>
        </div>

        <meta itemprop='headline' content='S2S Create Activity'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/naturzukunft.html'><span itemprop='name'>naturzukunft</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1647.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-05T09:22:23Z' class='post-time'>
                May 5, 2021,  9:22am
              </time>
              <meta itemprop='dateModified' content='2021-05-05T09:22:23Z'>
          <span itemprop='position'>#21</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><a href="https://gitlab.com/naturzukunft.de/public/activitypub/spec-discussions/-/blob/master/doc/fed.md" rel="noopener nofollow ugc">I have visualised this a little</a></p>
        </div>

        <meta itemprop='headline' content='S2S Create Activity'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
