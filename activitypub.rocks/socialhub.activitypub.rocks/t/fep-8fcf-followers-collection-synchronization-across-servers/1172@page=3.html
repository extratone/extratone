<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>FEP-8fcf: Followers collection synchronization across servers - Fediverse Enhancement Proposals - SocialHub</title>
    <meta name="description" content="source: https://git.activitypub.dev/ActivityPubDev/Fediverse-Enhancement-Proposals/src/branch/main/feps/fep-8fcf.md">
    <meta name="generator" content="Discourse 2.8.0.beta2 - https://github.com/discourse/discourse version c39ab6c0ae3803b6a62501954ae40adb6b73d580">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/b7023860b3d7df97ea10ba3c7ab11cb046a77c7a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/8faac84234dc73d074dadaa2bcf24dc746b8647f_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="1172@page=3.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://socialhub.activitypub.rocks","potentialAction":{"@type":"SearchAction","target":"https://socialhub.activitypub.rocks/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="SocialHub Search">

      <link href="https://socialhub.activitypub.rocks/stylesheets/desktop_caa977791d50efc800b8ef1bcbafb8a15f082761.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop" />
      <link href="https://socialhub.activitypub.rocks/stylesheets/desktop_theme_5_969dd27459c19a0b7620746a3d179b86ef033d7a.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="5"/>
<link href="https://socialhub.activitypub.rocks/stylesheets/desktop_theme_3_f50bf2f225326f482d56e65e93f1f047d48417a9.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3"/>
<link href="https://socialhub.activitypub.rocks/stylesheets/desktop_theme_8_e3f93470fef56ec97b63f77e16779e328baab8ea.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="8"/>
<link href="https://socialhub.activitypub.rocks/stylesheets/desktop_theme_4_8d506fd22b761a15044193a6d4ebda5f6bde2498.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4"/>
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;FEP-8fcf: Followers collection synchronization across servers&#39;" href="1172.rss" />
    <meta property="og:site_name" content="SocialHub" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://socialhub.activitypub.rocks/uploads/default/original/1X/8faac84234dc73d074dadaa2bcf24dc746b8647f.png" />
<meta property="og:image" content="https://socialhub.activitypub.rocks/uploads/default/original/1X/8faac84234dc73d074dadaa2bcf24dc746b8647f.png" />
<meta property="og:url" content="https://socialhub.activitypub.rocks/t/fep-8fcf-followers-collection-synchronization-across-servers/1172?page=3" />
<meta name="twitter:url" content="https://socialhub.activitypub.rocks/t/fep-8fcf-followers-collection-synchronization-across-servers/1172?page=3" />
<meta property="og:title" content="FEP-8fcf: Followers collection synchronization across servers" />
<meta name="twitter:title" content="FEP-8fcf: Followers collection synchronization across servers" />
<meta property="og:description" content="Hello,  I created a new topic to host this discussion so it provides:   a direct link to the repository entry a clean first post to host the future final version  I described the whole thing in About the Fediverse Enhancement Proposals." />
<meta name="twitter:description" content="Hello,  I created a new topic to host this discussion so it provides:   a direct link to the repository entry a clean first post to host the future final version  I described the whole thing in About the Fediverse Enhancement Proposals." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="21 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="11 ❤" />
<meta property="article:published_time" content="2020-12-01T17:31:32+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="prev" href="1172@page=2.html">

    
  </head>
  <body class="crawler">
    
<script src="https://socialhub.activitypub.rocks/theme-javascripts/3a68d4ddcab78e923b7c4169708a8f1deb79df66.js?__ws=socialhub.activitypub.rocks"></script>
    <header>
      <a href="https://socialhub.activitypub.rocks/">
          <img src="../../uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png" alt="SocialHub" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="1172.html">FEP-8fcf: Followers collection synchronization across servers</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/activitypub.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #0088CC'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>ActivityPub</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/activitypub/fep/54.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #0088CC'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Fediverse Enhancement Proposals</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

      <div class="topic-category">
        <div class='discourse-tags list-tags'>
            <a href='../../tag/fep-8fcf.html' class='discourse-tag' rel="tag">fep-8fcf</a>, 
            <a href='../../tag/draft.html' class='discourse-tag' rel="tag">draft</a>, 
            <a href='../../tag/fep.html' class='discourse-tag' rel="tag">fep</a>
        </div>
      </div>
  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/how.html'><span itemprop='name'>how</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1172.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-01T17:31:32Z' class='post-time'>
                December 1, 2020,  5:31pm
              </time>
              <meta itemprop='dateModified' content='2020-12-01T17:31:32Z'>
          <span itemprop='position'>#41</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hello,</p>
<p>I created a new topic to host this discussion so it provides:</p>
<ol>
<li>a direct link to the repository entry</li>
<li>a clean first post to host the future final version</li>
</ol>
<p>I described the whole thing in <a href="../about-the-fediverse-enhancement-proposals/1168/1.html">About the Fediverse Enhancement Proposals</a>.</p>
        </div>

        <meta itemprop='headline' content='FEP-8fcf: Followers collection synchronization across servers'>
          <meta itemprop='keywords' content='fep-8fcf, draft, fep'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/datatitian.html'><span itemprop='name'>datatitian</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1172.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2020-12-19T18:44:25Z'>
              <time itemprop='dateModified' datetime='2020-12-19T18:51:06Z' class='post-time'>
                December 19, 2020,  6:51pm
              </time>
          <span itemprop='position'>#42</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I’m just at the stage of implementing shared inbox delivery in <a href="https://github.com/immers-space/activitypub-express" rel="noopener nofollow ugc">activitypub-express</a>, so this is a great discussion for me to follow.</p>
<p>Your option of expanding the collection in addressing really appeals to me. Could we not take it a step further and expand it to include the items, i.e. the specific recipients on the server being delivered to? Then there would be no need to any hashing or fetching.</p>
<p>I don’t think I fully grasp all the privacy concerns, but the OP says a server could fetch its portion of the partial collection to sync, so it seems that list is already exposed to the receiving server. You wouldn’t want each recipient on the server to be aware of each other, I suppose, but for that you could use an existing AP concept like <code>bto</code>.</p>
<p>In other words:</p>
<ol>
<li>When delivering to a sharedInbox, the sending server must expand the recipients of any collection it owns, filtered to just those who reside on the receiving server, and add them to the <code>bto</code> field</li>
<li>(Already covvered by <a href="https://www.w3.org/TR/activitypub/#security-not-displaying-bto-bcc" rel="noopener nofollow ugc">B.11</a>)Receiving server must not display the <code>bto</code> contents to recipients</li>
</ol>
        </div>

        <meta itemprop='headline' content='FEP-8fcf: Followers collection synchronization across servers'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/cjs.html'><span itemprop='name'>cjs</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1172.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2020-12-19T22:27:25Z'>
              <time itemprop='dateModified' datetime='2020-12-19T22:28:47Z' class='post-time'>
                December 19, 2020, 10:28pm
              </time>
          <span itemprop='position'>#43</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="datatitian" data-post="42" data-topic="1172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/socialhub.activitypub.rocks/datatitian/40/236_2.png" class="avatar"> datatitian:</div>
<blockquote>
<p>Could we not take it a step further and expand it to include the items, i.e. the specific recipients on the server being delivered to?</p>
</blockquote>
</aside>
<p>This results in different peer servers receiving different versions of the same activity. That’s not impossible, I know of some users have their avatar change depending which peer server is fetching their actor profile, and while that is funny it is generally unsustainable to reason about when mixed with delivery and authoritative IRIs. My server at <code>foo.example.com/sharedInbox</code> receiving a <code>bar.example.com/activity/1</code> won’t be the same Activity as you get on <code>baz.example.com/sharedInbox</code>. If we defer to the authoritative document being served at <code>bar.example.com/activity/1</code>, which presumably just lists <code>followers</code> as the recipients, we have no reason to trust our local (specific-recipient) copy, and so we’re back at the same problem: does mine and your server’s idea of what <code>followers</code> are match the authoritative servers’?</p>
<aside class="quote no-group" data-username="datatitian" data-post="42" data-topic="1172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/socialhub.activitypub.rocks/datatitian/40/236_2.png" class="avatar"> datatitian:</div>
<blockquote>
<p>You wouldn’t want each recipient on the server to be aware of each other, I suppose, but for that you could use an existing AP concept like <code>bto</code> .</p>
</blockquote>
</aside>
<p>Only directly delivering messages to actors’ inboxes works with <code>bto</code> and <code>bcc</code> semantics currently. <code>bto</code> doesn’t work with <code>sharedInbox</code> delivery at all. How do you imagine <code>bto</code> working with <code>sharedInbox</code>, since it is stripped? My gut feel is that for <em>every</em> message received on <code>sharedInbox</code>, the receiving server would have to ask the sending peer “Hey, are there any <code>bto</code> I need to be aware of, and who are they?”. Which defeats the purpose of both stripping <code>bto</code> before delivery and avoiding extra network activity back to the sending peer server. Since this problem sits firmly in the world of <code>sharedInbox</code>, that doesn’t seem like a promising solution space.</p>
<p>Of course, one could say “don’t do <code>sharedInbox</code> with <code>bto</code> in this solution”, in which case my proposal is: why not just go one step further and don’t use <code>sharedInbox</code> <em>at all</em> to avoid this problem altogether in the first place. Instead, developing a different solution towards optimizing delivery over the network while preserving the actor model would be a better use of effort, IMO.</p>
        </div>

        <meta itemprop='headline' content='FEP-8fcf: Followers collection synchronization across servers'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/datatitian.html'><span itemprop='name'>datatitian</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1172.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2020-12-20T03:01:17Z'>
              <time itemprop='dateModified' datetime='2020-12-20T03:01:36Z' class='post-time'>
                December 20, 2020,  3:01am
              </time>
          <span itemprop='position'>#44</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="cjs" data-post="43" data-topic="1172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/socialhub.activitypub.rocks/cjs/40/584_2.png" class="avatar"> cjs:</div>
<blockquote>
<p>How do you imagine <code>bto</code> working with <code>sharedInbox</code> , since it is stripped?</p>
</blockquote>
</aside>
<p>I thought it was obvious, but okay: the delivering server would include in the transmission the contents of the <code>bto</code> field that it was using specifically to direct shared inbox delivery.</p>
<aside class="quote no-group" data-username="cjs" data-post="43" data-topic="1172">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/socialhub.activitypub.rocks/cjs/40/584_2.png" class="avatar"> cjs:</div>
<blockquote>
<p>This results in different peer servers receiving different versions of the same activity.</p>
</blockquote>
</aside>
<p>That’s not true if you’re clever about how you do it. With the <code>bto</code> option, of course, the activity would appear identical to any viewer on any server due to B.11. With your original example, you’d just include the <code>orderedItems</code> in the collection object. The object would be canonically identical since its defined by the collection id, and, while the collection members would differ by server, that’s the problem that got us here in the first place - so no change.</p>
        </div>

        <meta itemprop='headline' content='FEP-8fcf: Followers collection synchronization across servers'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/cjs.html'><span itemprop='name'>cjs</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1172.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-12-20T10:19:40Z' class='post-time'>
                December 20, 2020, 10:19am
              </time>
              <meta itemprop='dateModified' content='2020-12-20T10:19:40Z'>
          <span itemprop='position'>#45</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hey, thanks for this discussion. This is me responding pre-morning coffee so appreciate overlooking any poor grammar.</p>
<p>I have 4 objections to the regime you describe that are I think are worth acknowledging or addressing:</p>
<p><strong>1. Fundamentally changing <code>bto</code> semantics</strong></p>
<p>This is an RDF-style of objection, and I’m not an RDF-style person, so please bear with me as I attempt to (woefully, without the right vocabulary) make myself clear.</p>
<p>The different delivery effects of a <code>bto</code> field depending on the delivery method (SharedInbox is no longer stripped) results in different data outcomes: <code>bto</code> information is now on a peer server. While <code>bto</code>'s textual/layman definition may still be conceptually adhered to (so users may or may not be surprised), it is now no longer adhering to the technical definition. For example, your cited <a href="https://www.w3.org/TR/activitypub/#security-not-displaying-bto-bcc" rel="noopener nofollow ugc">B11</a> <em>begins</em> with the 9 words <em>"<code>bto</code> and <code>bcc</code> already <a href="https://www.w3.org/TR/activitypub/#remove-bto-bcc-before-delivery" rel="noopener nofollow ugc">must be removed for delivery</a>"</em>, so that section is completely obsolete. I get the hint that you already have some idea how it <em>should</em> be rewritten given you keep referencing it, but again it is not obvious to me (and I am eager for clarifications, I hope I’m not coming across as willfully obtuse).</p>
<p>For example, consider what would happen if a user, in their UI, added a <code>bto</code> recipient, and then your machine added the <code>bto</code> fields as part of your solution. There is not a good way to determine the "old-semantics user-added <code>bto</code>" versus the "new-semantics machine-added <code>bto</code>" data. With all these considerations, it feels like this solution is hijacking a special property for its function, and <strong>not its semantics</strong>, for a whole new purpose.</p>
<p>To put this objection into an easy litmus test: “Instead of using <code>bto</code>, could we just as easily create a new field with the desired delivery semantics?” and I have a gut feeling that it will be hard to justify why <code>bto</code> is specifically necessary, instead of just using a new field with the desired delivery semantics.</p>
<p><strong>2. A Separation of Delivery Algorithms (Direct vs SharedInbox)</strong></p>
<p>Trying to manage the delivery algorithm itself is already tough. When you make the <code>bto</code> semantics conditional on the delivery method ("only in SharedInbox delivery are you allowed to not-strip <code>bto</code>"), that is fundamentally changing the underlying delivery algorithm. As you mentioned B11, it itself cites <a href="https://www.w3.org/TR/activitypub/#remove-bto-bcc-before-delivery" rel="noopener nofollow ugc">the spec</a> <em>" The server <em>MUST</em> remove the <code>bto</code> and/or <code>bcc</code> properties, if they exist, from the ActivityStreams object before delivery"</em> which is unequivocal: they have one meaning and it is not conditioned on any delivery method. So the spec as it is now neither has too much of a technical nor <code>bto</code>-semantics separation between Direct vs SharedInbox delivery.</p>
<p>Changing the delivery algorithm isn’t a negative alone, but considering there are other solutions which <em>don’t</em> invoke this kind of work to the delivery algorithm itself (which is live and serving traffic), it is by comparison a high-effort and (for those already using SharedInbox delivery) higher-risk-of-bugs kind of an engineering solution in comparison. AKA: while not impossible, the bar is high for these kinds of solutions. And I’m not convinced this line of thinking is on a path towards reaching that bar.</p>
<p>Note: This objection still applies even if one chooses to use a brand-new field with delivery semantics, instead of the <code>bto</code> field specifically. As now that special field only applies in SharedInbox delivery, which results in this objection: a separation of delivery algorithms.</p>
<p><strong>3. Violates B11</strong></p>
<p>I just wanted to make this objection very clear: B11 is no longer applicable for use in this solution, and my objection is for any attempts to re-use it. To paraphrase, you refer to a “clever use of B11” as a way to re-use the <code>bto</code> semantics and address some technical considerations. But that kind of misses the point of why B11 was originally written. It basically states: <em>given</em> that all <code>bto</code> and <code>bcc</code> information resides on the authoritative server <em>and nowhere else</em>, the power is <em>solely and exclusively</em> up to the authoritative server as to how to display the <code>bto</code> and <code>bcc</code> information to its end-users, and the spec-authors’ intentions are that “the authoritative server should <em>only</em> display it to the original author”.</p>
<p>So B11 ensures that the spec authors’ wishes can easily be granted because it is up to only 1 software author (the authoritative server software author) to make it so, so the software implementor themselves <strong>can</strong> have that confidence. Fundamentally, if multiple software has <code>bto</code> and <code>bcc</code> data, then their wishes cannot be granted and the software implementor themselves <strong>cannot</strong> have that confidence because it relies on the goodwill of their peers.</p>
<p>To put it another way with formal language: since the solution now violates the antecedent (<em>given […]</em>) part, the consequent no longer holds: peer servers now have &gt; 0 <code>bto</code> information, and therefore the authoritative server is <strong>no longer</strong> the sole holder of such information, and therefore is <strong>not</strong> the <em>sole and exclusive</em> holder of power over the <code>bto</code> and <code>bcc</code> data.</p>
<p>Hence, my objection that the entire paragraph needs to be re-thought from the ground up, and I hope it is clear why I think simply saying “see B11” is insufficient in this case.</p>
<p><strong>4. Does not generally solve the problem for all collections</strong></p>
<p>Hopefully I do not need to elaborate on why messing with <code>bto</code> semantics results in only some collections being shared across SharedInbox are able to be synchronized (notably, followers) and is not a generic solution for any collection.</p>
<hr>
<p>Thanks for the great discussion, and letting me take note of my objections!</p>
        </div>

        <meta itemprop='headline' content='FEP-8fcf: Followers collection synchronization across servers'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/grishka.html'><span itemprop='name'>grishka</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1172.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-13T16:22:15Z' class='post-time'>
                May 13, 2021,  4:22pm
              </time>
              <meta itemprop='dateModified' content='2021-05-13T16:22:15Z'>
          <span itemprop='position'>#46</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>How does this work for synchronizing multiple collections simultaneously? Do I send multiple <code>Collection-Synchronization</code> headers in a single request? Or do I put them into a single header with some separator?</p>
        </div>

        <meta itemprop='headline' content='FEP-8fcf: Followers collection synchronization across servers'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/Claire.html'><span itemprop='name'>Claire</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1172.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-18T11:33:47Z' class='post-time'>
                May 18, 2021, 11:33am
              </time>
              <meta itemprop='dateModified' content='2021-05-18T11:33:47Z'>
          <span itemprop='position'>#47</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>That’s a good question I did not anticipate. The short reply is that the current Mastodon implementation won’t handle that case, at all.</p>
<p>Multiple <code>Collection-Synchronization</code> headers do not seem like a good idea, as afaik multiple headers are supposed to be equivalent to a single header with the values concatenated with a comma, which given the chosen syntax would make the value ambiguous.</p>
        </div>

        <meta itemprop='headline' content='FEP-8fcf: Followers collection synchronization across servers'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularités'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/nightpool.html'><span itemprop='name'>nightpool</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1172.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-24T12:49:56Z' class='post-time'>
                May 24, 2021, 12:49pm
              </time>
              <meta itemprop='dateModified' content='2021-05-24T12:49:56Z'>
          <span itemprop='position'>#48</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Maybe in a future revision, we should explore using something like Structured-Fields for the HTTP header, to make it easier to serialize. I know HTTP-Signatures is also moving in this direction: <a href="https://www.ietf.org/archive/id/draft-ietf-httpbis-message-signatures-04.html" class="inline-onebox">Signing HTTP Messages</a></p>
        </div>

        <meta itemprop='headline' content='FEP-8fcf: Followers collection synchronization across servers'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><a rel="prev" itemprop="url" href="1172@page=2.html">← previous page</a></span>
    </div>





    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
