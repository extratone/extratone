<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[PAE-06] Stories</title>
    <link>https://socialhub.activitypub.rocks/t/pae-06-stories/366</link>
    <description>[Pixelfed ActivityPub Extension 06](https://github.com/pixelfed/pae/blob/e709ff0c469ebd6e6cd15a74eb1f0f56e8d7bb99/docs/PAE-06.md) describes methods to exchange ephemeral content via ActivityPub and APIs.

# Stories API

### This is a live document that is being actively updated.

**All endpoints require authentication**

- [About](#about)
- [Endpoints](#endpoints)
- [Entities](#entities)
- [Changelog](#changelog)
- [Federation](#federation)
- [Versioning](#versioning)
- [Rate limits](#rate-limits)
- [Story Filters](#story-filters)
- [Story Links](#story-links)
- [Story Layers](#story-layers)

---

&lt;br&gt;

## About

Stories are a way to share ephemeral media (photos + videos) with your followers that expire after 24 hours.

Interacting with Stories is a bit different than other posts, they don&#39;t appear in timelines or profiles as you would expect. The StoryViewer is a full screen mode that displays Stories like a slide show with a progress bar at the top of the screen.

For now, only local + logged-in followers will be able to view your Stories. We plan to support public and federated Stories in the future!

&lt;br&gt;

## Endpoints

### [GET] /api/stories/v1/me - My Stories
- **params**: none
- **response**: 
```
{
    &quot;id&quot;: &quot;94959343757299712&quot;,
    &quot;photo&quot;: &quot;https://example.org/storage/avatars/avatar.jpeg&quot;,
    &quot;name&quot;: &quot;dansup&quot;,
    &quot;link&quot;: &quot;https://example.org/dansup&quot;,
    &quot;lastUpdated&quot;: &quot;1572396871&quot;,
    &quot;seen&quot;: false,
    &quot;items&quot;: [
        {
            &quot;id&quot;: &quot;94968856191307776&quot;,
            &quot;type&quot;: &quot;photo&quot;,
            &quot;length&quot;: 3,
            &quot;src&quot;: &quot;https://example.org/public/dSLvzGBy.jpeg&quot;,
            &quot;preview&quot;: null,
            &quot;link&quot;: null,
            &quot;linkText&quot;: null,
            &quot;time&quot;: &quot;1572399139&quot;,
            &quot;expires_at&quot;: &quot;1572485539&quot;,
            &quot;seen&quot;: false
        }
    ]
}
```
- **rate limit**: N/A

&lt;br&gt;

### [GET] /api/stories/v1/recent - Friends Stories
**TBA**

&lt;br&gt;

### [GET] /api/stories/v1/item/{id} - Story Item Object
**TBA**

&lt;br&gt;

### [POST] /api/stories/v1/add - Add to Story
- **params**: 

| name          | description   | required |
| ------------- |:-------------:| -----:   |
| file.* | Array of File uploads | ‚úÖ    |
| filter_name | Media filter name | ‚ùå    |

- **response**: 200
- **rate limit**: 20 per hour, 50 per day

&lt;br&gt;

### [POST] /api/stories/v1/viewed - Viewed a Story Item
- **params**: 

| name          | description   | required |
| ------------- |:-------------:| -----:   |
| id | Integer ID of Story Item | ‚úÖ    |

- **response**: 200
- **rate limit**: N/A

&lt;br&gt;

### [DELETE] /api/stories/v1/delete - Delete Story Item
- **params**: 

| name          | description   | required |
| ------------- |:-------------:| -----:   |
| id | Integer ID of Story Item | ‚úÖ    |

- **response**: 200
- **rate limit**: 50 per day

&lt;br&gt;


## Entities

### Story

| Attribute          | Type   | Nullable | Description |
| ------------- |-------------| :-----:   | ------ |
| id | Integer | ‚ùå | Story identifier |
| photo | String (URL) | ‚ùå | Profile Avatar URL |
| name | String | ‚ùå | Profile username |
| link | String (URL) | ‚ùå | Profile URL |
| lastUpdated | String (Timestamp) | ‚ùå | Last updated UNIX timestamp |
| seen | Boolean | ‚ùå | Has seen Story since lastUpdated |
| items | Array of [StoryItem](#story-item) | ‚ùå | Collection of story content |


### StoryItem

| Attribute          | Type   | Nullable | Description |
| ------------- |-------------| :-----:   | ------ |
| id | Integer | ‚ùå | Story identifier |
| type | String ([Enum](#types))  | ‚ùå | StoryItem Media Type |
| length | Integer | ‚ùå | Duration in seconds |
| src | String (URL) | ‚ùå | Media source |
| preview | String (URL) | ‚úÖ | Media source thumbnail |
| link | String (URL) | ‚úÖ | Swipe up link |
| linkText | String | ‚úÖ | Swipe up link text |
| time | String (Timestamp) | ‚ùå | Created at UNIX timestamp |
| expires_at | String (Timestamp) | ‚ùå | Expires at UNIX timestamp |
| seen | Boolean | ‚ùå | Has seen Story since lastUpdated |

#### Types
- Photo (image/jpeg, image/png, image/gif)
- Video (video/mp4)

&lt;br&gt;

## Changelog

### Added
- Added v1 endpoints ([](#))

&lt;br&gt;

## Federation

**TBA**

&lt;br&gt;

## Versioning

**TBD**

&lt;br&gt;

## Rate Limits

Rate limits are in effect for specific endpoints, you can refer to them in the [Endpoints](#endpoints) section.

Web and Mobile APIs share the same limits.

&lt;br&gt;

## Story Filters

The following filters are supported for Photos in Stories:
- 1977
- Aden
- Amaro
- Ashby
- Brannan
- Brooklyn
- Charmes
- Clarendon
- Crema
- Dogpatch
- Earlybird
- Gingham
- Ginza
- Hefe
- Helena
- Hudson
- Inkwell
- Kelvin
- Kuno
- Lark
- Lo-Fi
- Ludwig
- Maven
- Mayfair
- Moon
- Nashville
- Perpetua
- Poprocket
- Reyes
- Rise
- Sierra
- Skyline
- Slumber
- Stinson
- Sutro
- Toaster
- Valencia
- Vesper
- Walden
- Willow
- X-Pro II

&lt;br&gt;

## Story Links

Story Links give users the ability to add a link to Story Items. Swipe up to be redirected to the Story link.

**Story Links are only available to admins and users with more than 100 local followers during the beta**

&lt;br&gt;

## Story Layers

**TBA** üòâ


&lt;br&gt;


&lt;br&gt;</description>
    
    <lastBuildDate>Wed, 05 Feb 2020 03:44:46 +0000</lastBuildDate>
    <category>Pixelfed</category>
    <atom:link href="https://socialhub.activitypub.rocks/t/pae-06-stories/366.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[PAE-06] Stories</title>
        <dc:creator><![CDATA[dansup]]></dc:creator>
        <description><![CDATA[
            <h2>The above API Endpoints are outdated!</h2>
<p>We are still working on the updated documentation for this feature, we will not deprecate the above endpoints for at least 1 year.</p>
          <p><a href="https://socialhub.activitypub.rocks/t/pae-06-stories/366/4">Read full topic</a></p>
        ]]></description>
        <link>https://socialhub.activitypub.rocks/t/pae-06-stories/366/4</link>
        <pubDate>Wed, 05 Feb 2020 03:44:46 +0000</pubDate>
        <guid isPermaLink="false">socialhub.activitypub.rocks-post-366-4</guid>
        <source url="https://socialhub.activitypub.rocks/t/pae-06-stories/366.rss">[PAE-06] Stories</source>
      </item>
      <item>
        <title>[PAE-06] Stories</title>
        <dc:creator><![CDATA[dansup]]></dc:creator>
        <description><![CDATA[
            <p>Yes, the spec is still being worked out!</p>
          <p><a href="https://socialhub.activitypub.rocks/t/pae-06-stories/366/3">Read full topic</a></p>
        ]]></description>
        <link>https://socialhub.activitypub.rocks/t/pae-06-stories/366/3</link>
        <pubDate>Thu, 28 Nov 2019 05:41:22 +0000</pubDate>
        <guid isPermaLink="false">socialhub.activitypub.rocks-post-366-3</guid>
        <source url="https://socialhub.activitypub.rocks/t/pae-06-stories/366.rss">[PAE-06] Stories</source>
      </item>
      <item>
        <title>[PAE-06] Stories</title>
        <dc:creator><![CDATA[nightpool]]></dc:creator>
        <description><![CDATA[
            <p>all I‚Äôm seeing at the link is ‚ÄúThis extension describes the ability to exchange ephemeral content with a public or followers-only audience.‚Äù‚Äîis more content coming?</p>
          <p><a href="https://socialhub.activitypub.rocks/t/pae-06-stories/366/2">Read full topic</a></p>
        ]]></description>
        <link>https://socialhub.activitypub.rocks/t/pae-06-stories/366/2</link>
        <pubDate>Thu, 28 Nov 2019 04:54:58 +0000</pubDate>
        <guid isPermaLink="false">socialhub.activitypub.rocks-post-366-2</guid>
        <source url="https://socialhub.activitypub.rocks/t/pae-06-stories/366.rss">[PAE-06] Stories</source>
      </item>
      <item>
        <title>[PAE-06] Stories</title>
        <dc:creator><![CDATA[dansup]]></dc:creator>
        <description><![CDATA[
            <p><a href="https://github.com/pixelfed/pae/blob/e709ff0c469ebd6e6cd15a74eb1f0f56e8d7bb99/docs/PAE-06.md" rel="nofollow noopener">Pixelfed ActivityPub Extension 06</a> describes methods to exchange ephemeral content via ActivityPub and APIs.</p>
<h1>Stories API</h1>
<h3>This is a live document that is being actively updated.</h3>
<p><strong>All endpoints require authentication</strong></p>
<ul>
<li><a href="#about">About</a></li>
<li><a href="#endpoints">Endpoints</a></li>
<li><a href="#entities">Entities</a></li>
<li><a href="#changelog">Changelog</a></li>
<li><a href="#federation">Federation</a></li>
<li><a href="#versioning">Versioning</a></li>
<li><a href="#rate-limits">Rate limits</a></li>
<li><a href="#story-filters">Story Filters</a></li>
<li><a href="#story-links">Story Links</a></li>
<li><a href="#story-layers">Story Layers</a></li>
</ul>
<hr>
<br>
<h2>About</h2>
<p>Stories are a way to share ephemeral media (photos + videos) with your followers that expire after 24 hours.</p>
<p>Interacting with Stories is a bit different than other posts, they don‚Äôt appear in timelines or profiles as you would expect. The StoryViewer is a full screen mode that displays Stories like a slide show with a progress bar at the top of the screen.</p>
<p>For now, only local + logged-in followers will be able to view your Stories. We plan to support public and federated Stories in the future!</p>
<br>
<h2>Endpoints</h2>
<h3>[GET] /api/stories/v1/me - My Stories</h3>
<ul>
<li>
<strong>params</strong>: none</li>
<li>
<strong>response</strong>:</li>
</ul>
<pre><code class="lang-auto">{
    "id": "94959343757299712",
    "photo": "https://example.org/storage/avatars/avatar.jpeg",
    "name": "dansup",
    "link": "https://example.org/dansup",
    "lastUpdated": "1572396871",
    "seen": false,
    "items": [
        {
            "id": "94968856191307776",
            "type": "photo",
            "length": 3,
            "src": "https://example.org/public/dSLvzGBy.jpeg",
            "preview": null,
            "link": null,
            "linkText": null,
            "time": "1572399139",
            "expires_at": "1572485539",
            "seen": false
        }
    ]
}
</code></pre>
<ul>
<li>
<strong>rate limit</strong>: N/A</li>
</ul>
<br>
<h3>[GET] /api/stories/v1/recent - Friends Stories</h3>
<p><strong>TBA</strong></p>
<br>
<h3>[GET] /api/stories/v1/item/{id} - Story Item Object</h3>
<p><strong>TBA</strong></p>
<br>
<h3>[POST] /api/stories/v1/add - Add to Story</h3>
<ul>
<li>
<strong>params</strong>:</li>
</ul>
<div class="md-table">
<table>
<thead>
<tr>
<th>name</th>
<th style="text-align:center">description</th>
<th style="text-align:right">required</th>
</tr>
</thead>
<tbody>
<tr>
<td>file.*</td>
<td style="text-align:center">Array of File uploads</td>
<td style="text-align:right"><img src="https://socialhub.activitypub.rocks/images/emoji/twitter/white_check_mark.png?v=9" title=":white_check_mark:" class="emoji" alt=":white_check_mark:"></td>
</tr>
<tr>
<td>filter_name</td>
<td style="text-align:center">Media filter name</td>
<td style="text-align:right"><img src="https://socialhub.activitypub.rocks/images/emoji/twitter/x.png?v=9" title=":x:" class="emoji" alt=":x:"></td>
</tr>
</tbody>
</table>
</div><ul>
<li>
<strong>response</strong>: 200</li>
<li>
<strong>rate limit</strong>: 20 per hour, 50 per day</li>
</ul>
<br>
<h3>[POST] /api/stories/v1/viewed - Viewed a Story Item</h3>
<ul>
<li>
<strong>params</strong>:</li>
</ul>
<div class="md-table">
<table>
<thead>
<tr>
<th>name</th>
<th style="text-align:center">description</th>
<th style="text-align:right">required</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td style="text-align:center">Integer ID of Story Item</td>
<td style="text-align:right"><img src="https://socialhub.activitypub.rocks/images/emoji/twitter/white_check_mark.png?v=9" title=":white_check_mark:" class="emoji" alt=":white_check_mark:"></td>
</tr>
</tbody>
</table>
</div><ul>
<li>
<strong>response</strong>: 200</li>
<li>
<strong>rate limit</strong>: N/A</li>
</ul>
<br>
<h3>[DELETE] /api/stories/v1/delete - Delete Story Item</h3>
<ul>
<li>
<strong>params</strong>:</li>
</ul>
<div class="md-table">
<table>
<thead>
<tr>
<th>name</th>
<th style="text-align:center">description</th>
<th style="text-align:right">required</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td style="text-align:center">Integer ID of Story Item</td>
<td style="text-align:right"><img src="https://socialhub.activitypub.rocks/images/emoji/twitter/white_check_mark.png?v=9" title=":white_check_mark:" class="emoji" alt=":white_check_mark:"></td>
</tr>
</tbody>
</table>
</div><ul>
<li>
<strong>response</strong>: 200</li>
<li>
<strong>rate limit</strong>: 50 per day</li>
</ul>
<br>
<h2>Entities</h2>
<h3>Story</h3>
<div class="md-table">
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th style="text-align:center">Nullable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>Integer</td>
<td style="text-align:center"><img src="https://socialhub.activitypub.rocks/images/emoji/twitter/x.png?v=9" title=":x:" class="emoji" alt=":x:"></td>
<td>Story identifier</td>
</tr>
<tr>
<td>photo</td>
<td>String (URL)</td>
<td style="text-align:center"><img src="https://socialhub.activitypub.rocks/images/emoji/twitter/x.png?v=9" title=":x:" class="emoji" alt=":x:"></td>
<td>Profile Avatar URL</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td style="text-align:center"><img src="https://socialhub.activitypub.rocks/images/emoji/twitter/x.png?v=9" title=":x:" class="emoji" alt=":x:"></td>
<td>Profile username</td>
</tr>
<tr>
<td>link</td>
<td>String (URL)</td>
<td style="text-align:center"><img src="https://socialhub.activitypub.rocks/images/emoji/twitter/x.png?v=9" title=":x:" class="emoji" alt=":x:"></td>
<td>Profile URL</td>
</tr>
<tr>
<td>lastUpdated</td>
<td>String (Timestamp)</td>
<td style="text-align:center"><img src="https://socialhub.activitypub.rocks/images/emoji/twitter/x.png?v=9" title=":x:" class="emoji" alt=":x:"></td>
<td>Last updated UNIX timestamp</td>
</tr>
<tr>
<td>seen</td>
<td>Boolean</td>
<td style="text-align:center"><img src="https://socialhub.activitypub.rocks/images/emoji/twitter/x.png?v=9" title=":x:" class="emoji" alt=":x:"></td>
<td>Has seen Story since lastUpdated</td>
</tr>
<tr>
<td>items</td>
<td>Array of <a href="#story-item">StoryItem</a>
</td>
<td style="text-align:center"><img src="https://socialhub.activitypub.rocks/images/emoji/twitter/x.png?v=9" title=":x:" class="emoji" alt=":x:"></td>
<td>Collection of story content</td>
</tr>
</tbody>
</table>
</div><h3>StoryItem</h3>
<div class="md-table">
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th style="text-align:center">Nullable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>Integer</td>
<td style="text-align:center"><img src="https://socialhub.activitypub.rocks/images/emoji/twitter/x.png?v=9" title=":x:" class="emoji" alt=":x:"></td>
<td>Story identifier</td>
</tr>
<tr>
<td>type</td>
<td>String (<a href="#types">Enum</a>)</td>
<td style="text-align:center"><img src="https://socialhub.activitypub.rocks/images/emoji/twitter/x.png?v=9" title=":x:" class="emoji" alt=":x:"></td>
<td>StoryItem Media Type</td>
</tr>
<tr>
<td>length</td>
<td>Integer</td>
<td style="text-align:center"><img src="https://socialhub.activitypub.rocks/images/emoji/twitter/x.png?v=9" title=":x:" class="emoji" alt=":x:"></td>
<td>Duration in seconds</td>
</tr>
<tr>
<td>src</td>
<td>String (URL)</td>
<td style="text-align:center"><img src="https://socialhub.activitypub.rocks/images/emoji/twitter/x.png?v=9" title=":x:" class="emoji" alt=":x:"></td>
<td>Media source</td>
</tr>
<tr>
<td>preview</td>
<td>String (URL)</td>
<td style="text-align:center"><img src="https://socialhub.activitypub.rocks/images/emoji/twitter/white_check_mark.png?v=9" title=":white_check_mark:" class="emoji" alt=":white_check_mark:"></td>
<td>Media source thumbnail</td>
</tr>
<tr>
<td>link</td>
<td>String (URL)</td>
<td style="text-align:center"><img src="https://socialhub.activitypub.rocks/images/emoji/twitter/white_check_mark.png?v=9" title=":white_check_mark:" class="emoji" alt=":white_check_mark:"></td>
<td>Swipe up link</td>
</tr>
<tr>
<td>linkText</td>
<td>String</td>
<td style="text-align:center"><img src="https://socialhub.activitypub.rocks/images/emoji/twitter/white_check_mark.png?v=9" title=":white_check_mark:" class="emoji" alt=":white_check_mark:"></td>
<td>Swipe up link text</td>
</tr>
<tr>
<td>time</td>
<td>String (Timestamp)</td>
<td style="text-align:center"><img src="https://socialhub.activitypub.rocks/images/emoji/twitter/x.png?v=9" title=":x:" class="emoji" alt=":x:"></td>
<td>Created at UNIX timestamp</td>
</tr>
<tr>
<td>expires_at</td>
<td>String (Timestamp)</td>
<td style="text-align:center"><img src="https://socialhub.activitypub.rocks/images/emoji/twitter/x.png?v=9" title=":x:" class="emoji" alt=":x:"></td>
<td>Expires at UNIX timestamp</td>
</tr>
<tr>
<td>seen</td>
<td>Boolean</td>
<td style="text-align:center"><img src="https://socialhub.activitypub.rocks/images/emoji/twitter/x.png?v=9" title=":x:" class="emoji" alt=":x:"></td>
<td>Has seen Story since lastUpdated</td>
</tr>
</tbody>
</table>
</div><h4>Types</h4>
<ul>
<li>Photo (image/jpeg, image/png, image/gif)</li>
<li>Video (video/mp4)</li>
</ul>
<br>
<h2>Changelog</h2>
<h3>Added</h3>
<ul>
<li>Added v1 endpoints (<a></a>)</li>
</ul>
<br>
<h2>Federation</h2>
<p><strong>TBA</strong></p>
<br>
<h2>Versioning</h2>
<p><strong>TBD</strong></p>
<br>
<h2>Rate Limits</h2>
<p>Rate limits are in effect for specific endpoints, you can refer to them in the <a href="#endpoints">Endpoints</a> section.</p>
<p>Web and Mobile APIs share the same limits.</p>
<br>
<h2>Story Filters</h2>
<p>The following filters are supported for Photos in Stories:</p>
<ul>
<li>1977</li>
<li>Aden</li>
<li>Amaro</li>
<li>Ashby</li>
<li>Brannan</li>
<li>Brooklyn</li>
<li>Charmes</li>
<li>Clarendon</li>
<li>Crema</li>
<li>Dogpatch</li>
<li>Earlybird</li>
<li>Gingham</li>
<li>Ginza</li>
<li>Hefe</li>
<li>Helena</li>
<li>Hudson</li>
<li>Inkwell</li>
<li>Kelvin</li>
<li>Kuno</li>
<li>Lark</li>
<li>Lo-Fi</li>
<li>Ludwig</li>
<li>Maven</li>
<li>Mayfair</li>
<li>Moon</li>
<li>Nashville</li>
<li>Perpetua</li>
<li>Poprocket</li>
<li>Reyes</li>
<li>Rise</li>
<li>Sierra</li>
<li>Skyline</li>
<li>Slumber</li>
<li>Stinson</li>
<li>Sutro</li>
<li>Toaster</li>
<li>Valencia</li>
<li>Vesper</li>
<li>Walden</li>
<li>Willow</li>
<li>X-Pro II</li>
</ul>
<br>
<h2>Story Links</h2>
<p>Story Links give users the ability to add a link to Story Items. Swipe up to be redirected to the Story link.</p>
<p><strong>Story Links are only available to admins and users with more than 100 local followers during the beta</strong></p>
<br>
<h2>Story Layers</h2>
<p><strong>TBA</strong> <img src="https://socialhub.activitypub.rocks/images/emoji/twitter/wink.png?v=9" title=":wink:" class="emoji" alt=":wink:"></p>
<br>
<br>
          <p><a href="https://socialhub.activitypub.rocks/t/pae-06-stories/366/1">Read full topic</a></p>
        ]]></description>
        <link>https://socialhub.activitypub.rocks/t/pae-06-stories/366/1</link>
        <pubDate>Thu, 28 Nov 2019 04:41:55 +0000</pubDate>
        <guid isPermaLink="false">socialhub.activitypub.rocks-post-366-1</guid>
        <source url="https://socialhub.activitypub.rocks/t/pae-06-stories/366.rss">[PAE-06] Stories</source>
      </item>
  </channel>
</rss>
