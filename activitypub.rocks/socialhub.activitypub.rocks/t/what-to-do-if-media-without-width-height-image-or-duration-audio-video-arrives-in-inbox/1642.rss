<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>What to do if media without “width”/“height” (Image) or “duration” (Audio/Video) arrives in inbox?</title>
    <link>https://socialhub.activitypub.rocks/t/what-to-do-if-media-without-width-height-image-or-duration-audio-video-arrives-in-inbox/1642</link>
    <description>The `width`, `height` and `duration` properties are basically required for the redaktor client. 
Reasons:
`width`, `height`
We do not want to disrupt/tatter/break the aspect ratios of esteemed users images by putting them in a square and for a masonry layout, we need at least to know, if it is “landscpe”, “square”, “portrait” – and:
For performance benefits (e.g. in card stream or row overview), the media is loaded via Intersection Observer. 
So, for a pleasant visual experience it is required that the concrete aspect ratio is known in order to paint the box.
`duration`
If we have media without metadata like in WebVTT, we can also load `Audio`/`Video` by Intersection Observer and setting `preload=&quot;none&quot;` – but we would still like to show the duration above the post …

So:
If any of those arrives at redaktor server, it can measure and enhance the object.
It might be supernice, if we know it in advance (I agree with 99.9% of the protocol but this would have been a _must_ for me …)

How about other servers? 
@grishka @bashrc 
How do other client devs handling this?</description>
    
    <lastBuildDate>Thu, 01 Jul 2021 09:33:16 +0000</lastBuildDate>
    <category>redaktor.me</category>
    <atom:link href="https://socialhub.activitypub.rocks/t/what-to-do-if-media-without-width-height-image-or-duration-audio-video-arrives-in-inbox/1642.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>What to do if media without “width”/“height” (Image) or “duration” (Audio/Video) arrives in inbox?</title>
        <dc:creator><![CDATA[bashrc]]></dc:creator>
        <description><![CDATA[
            <p>Currently, Epicyon does not try to do anything with attachments on inbox posts. These are links, and are displayed as links. So it doesn’t attempt to download or cache images (except for avatar images), it just displays them directly from their original source.</p>
<p>Metadata about dimensions could be added to the post at the time of upload.</p>
          <p><a href="https://socialhub.activitypub.rocks/t/what-to-do-if-media-without-width-height-image-or-duration-audio-video-arrives-in-inbox/1642/5">Read full topic</a></p>
        ]]></description>
        <link>https://socialhub.activitypub.rocks/t/what-to-do-if-media-without-width-height-image-or-duration-audio-video-arrives-in-inbox/1642/5</link>
        <pubDate>Thu, 01 Jul 2021 09:33:16 +0000</pubDate>
        <guid isPermaLink="false">socialhub.activitypub.rocks-post-1642-5</guid>
        <source url="https://socialhub.activitypub.rocks/t/what-to-do-if-media-without-width-height-image-or-duration-audio-video-arrives-in-inbox/1642.rss">What to do if media without “width”/“height” (Image) or “duration” (Audio/Video) arrives in inbox?</source>
      </item>
      <item>
        <title>What to do if media without “width”/“height” (Image) or “duration” (Audio/Video) arrives in inbox?</title>
        <dc:creator><![CDATA[grishka]]></dc:creator>
        <description><![CDATA[
            <p>It’s easy for me — I don’t store the original JSON anywhere. I parse it immediately and from then on only work with my own internal representation, ignoring whatever parts I don’t understand. For when I need an ActivityPub object, I generate the JSON on the fly. This does show in places like <code>Accept{Follow}</code> — I won’t return any custom fields you put into the <code>Follow</code> for example.</p>
          <p><a href="https://socialhub.activitypub.rocks/t/what-to-do-if-media-without-width-height-image-or-duration-audio-video-arrives-in-inbox/1642/4">Read full topic</a></p>
        ]]></description>
        <link>https://socialhub.activitypub.rocks/t/what-to-do-if-media-without-width-height-image-or-duration-audio-video-arrives-in-inbox/1642/4</link>
        <pubDate>Sun, 25 Apr 2021 10:06:16 +0000</pubDate>
        <guid isPermaLink="false">socialhub.activitypub.rocks-post-1642-4</guid>
        <source url="https://socialhub.activitypub.rocks/t/what-to-do-if-media-without-width-height-image-or-duration-audio-video-arrives-in-inbox/1642.rss">What to do if media without “width”/“height” (Image) or “duration” (Audio/Video) arrives in inbox?</source>
      </item>
      <item>
        <title>What to do if media without “width”/“height” (Image) or “duration” (Audio/Video) arrives in inbox?</title>
        <dc:creator><![CDATA[Sebastian]]></dc:creator>
        <description><![CDATA[
            <p>I see.<br>
The redaktor nodeJS server did measure for each incoming image and then “enhanced” the objects.<br>
Just for this 3 properties.<br>
And I am thinking about if it should really enhance the objects (technically it’s just adding info which is basically already in the post, just not in text but it also “changes” the original JSON).</p>
          <p><a href="https://socialhub.activitypub.rocks/t/what-to-do-if-media-without-width-height-image-or-duration-audio-video-arrives-in-inbox/1642/3">Read full topic</a></p>
        ]]></description>
        <link>https://socialhub.activitypub.rocks/t/what-to-do-if-media-without-width-height-image-or-duration-audio-video-arrives-in-inbox/1642/3</link>
        <pubDate>Sun, 25 Apr 2021 09:55:21 +0000</pubDate>
        <guid isPermaLink="false">socialhub.activitypub.rocks-post-1642-3</guid>
        <source url="https://socialhub.activitypub.rocks/t/what-to-do-if-media-without-width-height-image-or-duration-audio-video-arrives-in-inbox/1642.rss">What to do if media without “width”/“height” (Image) or “duration” (Audio/Video) arrives in inbox?</source>
      </item>
      <item>
        <title>What to do if media without “width”/“height” (Image) or “duration” (Audio/Video) arrives in inbox?</title>
        <dc:creator><![CDATA[grishka]]></dc:creator>
        <description><![CDATA[
            <p>I get the dimensions for such images when I first download them, which happens when the user first sees that post. The unfortunate side effect of that is that if an image is not downloaded yet and didn’t have <code>width</code>/<code>height</code>, it can’t be laid out properly and so is assumed to be square. So you see a post with cropped images, then you refresh the page and then you see them properly laid out. I of course do always send width/height for my own images.</p>
<p>I don’t properly support any form of video yet. I simply put whatever URL there is in the object into a <code>&lt;video&gt;</code> tag so video posts aren’t empty.</p>
          <p><a href="https://socialhub.activitypub.rocks/t/what-to-do-if-media-without-width-height-image-or-duration-audio-video-arrives-in-inbox/1642/2">Read full topic</a></p>
        ]]></description>
        <link>https://socialhub.activitypub.rocks/t/what-to-do-if-media-without-width-height-image-or-duration-audio-video-arrives-in-inbox/1642/2</link>
        <pubDate>Fri, 23 Apr 2021 07:41:02 +0000</pubDate>
        <guid isPermaLink="false">socialhub.activitypub.rocks-post-1642-2</guid>
        <source url="https://socialhub.activitypub.rocks/t/what-to-do-if-media-without-width-height-image-or-duration-audio-video-arrives-in-inbox/1642.rss">What to do if media without “width”/“height” (Image) or “duration” (Audio/Video) arrives in inbox?</source>
      </item>
      <item>
        <title>What to do if media without “width”/“height” (Image) or “duration” (Audio/Video) arrives in inbox?</title>
        <dc:creator><![CDATA[Sebastian]]></dc:creator>
        <description><![CDATA[
            <p>The <code>width</code>, <code>height</code> and <code>duration</code> properties are basically required for the redaktor client.<br>
Reasons:<br>
<code>width</code>, <code>height</code><br>
We do not want to disrupt/tatter/break the aspect ratios of esteemed users images by putting them in a square and for a masonry layout, we need at least to know, if it is “landscpe”, “square”, “portrait” – and:<br>
For performance benefits (e.g. in card stream or row overview), the media is loaded via Intersection Observer.<br>
So, for a pleasant visual experience it is required that the concrete aspect ratio is known in order to paint the box.<br>
<code>duration</code><br>
If we have media without metadata like in WebVTT, we can also load <code>Audio</code>/<code>Video</code> by Intersection Observer and setting <code>preload="none"</code> – but we would still like to show the duration above the post …</p>
<p>So:<br>
If any of those arrives at redaktor server, it can measure and enhance the object.<br>
It might be supernice, if we know it in advance (I agree with 99.9% of the protocol but this would have been a <em>must</em> for me …)</p>
<p>How about other servers?<br>
<a class="mention" href="/u/grishka">@grishka</a> <a class="mention" href="/u/bashrc">@bashrc</a><br>
How do other client devs handling this?</p>
          <p><a href="https://socialhub.activitypub.rocks/t/what-to-do-if-media-without-width-height-image-or-duration-audio-video-arrives-in-inbox/1642/1">Read full topic</a></p>
        ]]></description>
        <link>https://socialhub.activitypub.rocks/t/what-to-do-if-media-without-width-height-image-or-duration-audio-video-arrives-in-inbox/1642/1</link>
        <pubDate>Fri, 23 Apr 2021 07:07:43 +0000</pubDate>
        <guid isPermaLink="false">socialhub.activitypub.rocks-post-1642-1</guid>
        <source url="https://socialhub.activitypub.rocks/t/what-to-do-if-media-without-width-height-image-or-duration-audio-video-arrives-in-inbox/1642.rss">What to do if media without “width”/“height” (Image) or “duration” (Audio/Video) arrives in inbox?</source>
      </item>
  </channel>
</rss>
