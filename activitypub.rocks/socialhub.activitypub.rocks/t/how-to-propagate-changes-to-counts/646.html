<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>How to propagate changes to &quot;counts&quot; - ActivityPub - SocialHub</title>
    <meta name="description" content="Several places in the spec designate a change to a count as a side effect, e.g. receiving accepted Follow activity increases actor‚Äôs followers count. How do you propagate that new count to federated servers? Send an ‚ÄúUpd&amp;hellip;">
    <meta name="generator" content="Discourse 2.8.0.beta2 - https://github.com/discourse/discourse version c39ab6c0ae3803b6a62501954ae40adb6b73d580">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/b7023860b3d7df97ea10ba3c7ab11cb046a77c7a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/8faac84234dc73d074dadaa2bcf24dc746b8647f_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="646.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://socialhub.activitypub.rocks","potentialAction":{"@type":"SearchAction","target":"https://socialhub.activitypub.rocks/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="SocialHub Search">

      <link href="https://socialhub.activitypub.rocks/stylesheets/desktop_caa977791d50efc800b8ef1bcbafb8a15f082761.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop" />
      <link href="https://socialhub.activitypub.rocks/stylesheets/desktop_theme_5_969dd27459c19a0b7620746a3d179b86ef033d7a.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="5"/>
<link href="https://socialhub.activitypub.rocks/stylesheets/desktop_theme_3_f50bf2f225326f482d56e65e93f1f047d48417a9.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3"/>
<link href="https://socialhub.activitypub.rocks/stylesheets/desktop_theme_8_e3f93470fef56ec97b63f77e16779e328baab8ea.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="8"/>
<link href="https://socialhub.activitypub.rocks/stylesheets/desktop_theme_4_8d506fd22b761a15044193a6d4ebda5f6bde2498.css?__ws=socialhub.activitypub.rocks" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="4"/>
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;How to propagate changes to &quot;counts&quot;&#39;" href="646.rss" />
    <meta property="og:site_name" content="SocialHub" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://socialhub.activitypub.rocks/uploads/default/original/1X/8faac84234dc73d074dadaa2bcf24dc746b8647f.png" />
<meta property="og:image" content="https://socialhub.activitypub.rocks/uploads/default/original/1X/8faac84234dc73d074dadaa2bcf24dc746b8647f.png" />
<meta property="og:url" content="https://socialhub.activitypub.rocks/t/how-to-propagate-changes-to-counts/646" />
<meta name="twitter:url" content="https://socialhub.activitypub.rocks/t/how-to-propagate-changes-to-counts/646" />
<meta property="og:title" content="How to propagate changes to &quot;counts&quot;" />
<meta name="twitter:title" content="How to propagate changes to &quot;counts&quot;" />
<meta property="og:description" content="Several places in the spec designate a change to a count as a side effect, e.g. receiving accepted Follow activity increases actor‚Äôs followers count. How do you propagate that new count to federated servers? Send an ‚ÄúUpdate‚Äù for the Actor object or for that specific followers collection?" />
<meta name="twitter:description" content="Several places in the spec designate a change to a count as a side effect, e.g. receiving accepted Follow activity increases actor‚Äôs followers count. How do you propagate that new count to federated servers? Send an ‚ÄúUpdate‚Äù for the Actor object or for that specific followers collection?" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 ‚ù§" />
<meta property="article:published_time" content="2020-04-28T17:47:47+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
<script src="https://socialhub.activitypub.rocks/theme-javascripts/3a68d4ddcab78e923b7c4169708a8f1deb79df66.js?__ws=socialhub.activitypub.rocks"></script>
    <header>
      <a href="https://socialhub.activitypub.rocks/">
          <img src="../../uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png" alt="SocialHub" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="646.html">How to propagate changes to &quot;counts&quot;</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/activitypub.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #0088CC'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>ActivityPub</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

      <div class="topic-category">
        <div class='discourse-tags list-tags'>
            <a href='../../tags/server.html' class='discourse-tag' rel="tag">server</a>
        </div>
      </div>
  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularit√©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/datatitian.html'><span itemprop='name'>datatitian</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="646.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2020-04-28T17:47:47Z'>
              <time itemprop='dateModified' datetime='2020-04-28T19:00:30Z' class='post-time'>
                April 28, 2020,  7:00pm
              </time>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Several places in the spec designate a change to a count as a side effect, e.g. receiving accepted Follow activity increases actor‚Äôs followers count. How do you propagate that new count to federated servers? Send an ‚ÄúUpdate‚Äù for the Actor object or for that specific followers collection?</p>
        </div>

        <meta itemprop='headline' content='How to propagate changes to &quot;counts&quot;'>
          <meta itemprop='keywords' content='server'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularit√©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/yvolk.html'><span itemprop='name'>yvolk</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="646.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-04-30T17:18:21Z' class='post-time'>
                April 30, 2020,  5:18pm
              </time>
              <meta itemprop='dateModified' content='2020-04-30T17:18:21Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>In my view, as a Client application‚Äôs  developer, the main problem in updating Actor‚Äôs properties is to figure out if I need to update Actor‚Äôs object at all or not. So I think that the main task on ANY Actor object‚Äôs changes is to change the object‚Äôs ‚Äúupdate‚Äù property.<br>
If any recipient (app‚Ä¶) receives the Actor‚Äôs object (as a part of that Actor‚Äôs Activity‚Ä¶ so it can trust the data‚Ä¶) and notices that local copy has older ‚Äúupdated‚Äù date, then that recipient (app) knows that locally stored object should be updated, including any ‚Äúcounts‚Äù. This will be that ‚Äúpropagation‚Äù of all properties and counts, I think <img src="../../images/emoji/twitter/slight_smile.png@v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
Unfortunately, as I see, current ActivityPub implementations (what I see in Pleroma and in Mastodon) don‚Äôt have this property in Actor‚Äôs object at all <img src="../../images/emoji/twitter/frowning.png@v=9" title=":frowning:" class="emoji" alt=":frowning:"></p>
        </div>

        <meta itemprop='headline' content='How to propagate changes to &quot;counts&quot;'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularit√©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/datatitian.html'><span itemprop='name'>datatitian</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="646.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-04-30T18:08:02Z' class='post-time'>
                April 30, 2020,  6:08pm
              </time>
              <meta itemprop='dateModified' content='2020-04-30T18:08:02Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Does watching for ‚ÄúUpdate‚Äù activities that target the actor/actor‚Äôs collections not tell you when to update, or are the current implementations not sending those?</p>
        </div>

        <meta itemprop='headline' content='How to propagate changes to &quot;counts&quot;'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularit√©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/yvolk.html'><span itemprop='name'>yvolk</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="646.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2020-04-30T18:19:41Z'>
              <time itemprop='dateModified' datetime='2020-04-30T18:21:28Z' class='post-time'>
                April 30, 2020,  6:21pm
              </time>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Do you mean that when I receive activity ‚ÄúActorA follows ActorB‚Äù I should assume that ActorB‚Äôs object is up-to-date at the date of the activity creation? In this exactly case I wouldn‚Äôt trust the activity at all, because it was not sent by ActorB (whose object I consider for update), and ActorA could use for his Activity outdated (or incomplete) ActorB‚Äôs object?!<br>
Anyway, here we are talking now about guesses. But if we had ‚Äúupdate‚Äù property in Actor object, we could simply compare dates?!</p>
        </div>

        <meta itemprop='headline' content='How to propagate changes to &quot;counts&quot;'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularit√©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/datatitian.html'><span itemprop='name'>datatitian</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="646.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-05-02T02:18:54Z' class='post-time'>
                May 2, 2020,  2:18am
              </time>
              <meta itemprop='dateModified' content='2020-05-02T02:18:54Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>What I do mean is you‚Äôd fetch Actor B from its source when one of your users follows it, and then assume Actor B is up-to-date until Actor B sends you an ‚ÄúUpdate‚Äù activity for their actor object</p>
        </div>

        <meta itemprop='headline' content='How to propagate changes to &quot;counts&quot;'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Petites Singularit√©s'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://socialhub.activitypub.rocks/uploads/default/original/1X/4d2bcc2cd17698f8d3efb8ffaa6983d11bbf3229.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/yvolk.html'><span itemprop='name'>yvolk</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="646.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2020-05-02T07:46:23Z'>
              <time itemprop='dateModified' datetime='2020-05-02T07:48:28Z' class='post-time'>
                May 2, 2020,  7:48am
              </time>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Aha, so you are thinking about a way to make Fediverse (servers or client apps) know that some Actor‚Äôs property (e.g. count of posts by this Actor or count of Actor‚Äôs followers) changed.<br>
As some properties (e.g. count of posts or likes) could change very often, I don‚Äôt think that any Actor‚Äôs object updates should be broadcasted (e.g. to other servers‚Ä¶)<br>
If anybody is interested in current state they can easily query the source as you noted.<br>
But do you think that if my ActorA follows ActorB,  ActorA should receive not only ActorB‚Äôs Activities (which already may contain updated ActorB‚Äôs object), but separately explicit updates of the ActorB‚Äôs object??? Too much, I would say.<br>
Anyway, having ‚Äúupdate‚Äù property in the Actor‚Äôs object allows any client or server to know, how old is the object‚Äôs information. And update it if or when necessary.</p>
        </div>

        <meta itemprop='headline' content='How to propagate changes to &quot;counts&quot;'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://socialhub.activitypub.rocks/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
