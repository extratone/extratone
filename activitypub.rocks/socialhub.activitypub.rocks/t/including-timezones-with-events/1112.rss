<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Including Timezones with Events?</title>
    <link>https://socialhub.activitypub.rocks/t/including-timezones-with-events/1112</link>
    <description>Hey,

So I&#39;m looking into how event stuff is done in ActivityPub, and I see start/end times can be set.

https://www.w3.org/TR/activitystreams-vocabulary/#dfn-starttime

So, you get the start/end times with an hours offset to UTC.

However, under certain circumstances, this may not be enough to store and show it correctly. Namely, when the timezone rules change.

(Other circumstances this becomes really important is if someone wants to set up an event that recurs weekly across a DST change - but that might be less important for ActivityPub use cases?)

Looking at a real example - https://test.mobilizon.org/@relay/outbox - this just sends time in UTC. I can&#39;t see anything in there that would tell me what timezone that should be.

Anyone else looked at this?</description>
    
    <lastBuildDate>Wed, 28 Oct 2020 18:17:57 +0000</lastBuildDate>
    <category>ActivityPub</category>
    <atom:link href="https://socialhub.activitypub.rocks/t/including-timezones-with-events/1112.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Including Timezones with Events?</title>
        <dc:creator><![CDATA[bengo]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="jarofgreen" data-post="4" data-topic="1112">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://socialhub.activitypub.rocks/user_avatar/socialhub.activitypub.rocks/jarofgreen/40/555_2.png" class="avatar"> jarofgreen:</div>
<blockquote>
<p>should be actually useful first, and it looks like it’s not really?</p>
</blockquote>
</aside>
<p>It’s definitely useful, lol. It’s kind of on each of us to describe exactly what we want to use it for.</p>
          <p><a href="https://socialhub.activitypub.rocks/t/including-timezones-with-events/1112/7">Read full topic</a></p>
        ]]></description>
        <link>https://socialhub.activitypub.rocks/t/including-timezones-with-events/1112/7</link>
        <pubDate>Wed, 28 Oct 2020 18:17:57 +0000</pubDate>
        <guid isPermaLink="false">socialhub.activitypub.rocks-post-1112-7</guid>
        <source url="https://socialhub.activitypub.rocks/t/including-timezones-with-events/1112.rss">Including Timezones with Events?</source>
      </item>
      <item>
        <title>Including Timezones with Events?</title>
        <dc:creator><![CDATA[bengo]]></dc:creator>
        <description><![CDATA[
            <p>If you’re worried that due to <code>xsd:dateTime</code>'s completeness, there are activities you want to describe but can’t in valid ActivityStreams 2.0, I’d encourage you to describe a more expressive vocabulary for describing dates. e.g. instead of as2:created’s range being only <code>xsd:dateTime</code>, you could author a proposal to extend the range to allow (example):</p>
<pre><code class="lang-auto">{
  "type": "jarofgreen@socialhub.activitypub.rocks/datetime",
  "iso8601": "2010-03-25T23:03:00.000Z",
  "nanoSecondsOffset": -10,
}
</code></pre>
<p>This would help clarify which dateTimes you would like to express but don’t think that ISO8601 is sufficient for.</p>
          <p><a href="https://socialhub.activitypub.rocks/t/including-timezones-with-events/1112/6">Read full topic</a></p>
        ]]></description>
        <link>https://socialhub.activitypub.rocks/t/including-timezones-with-events/1112/6</link>
        <pubDate>Wed, 28 Oct 2020 18:16:20 +0000</pubDate>
        <guid isPermaLink="false">socialhub.activitypub.rocks-post-1112-6</guid>
        <source url="https://socialhub.activitypub.rocks/t/including-timezones-with-events/1112.rss">Including Timezones with Events?</source>
      </item>
      <item>
        <title>Including Timezones with Events?</title>
        <dc:creator><![CDATA[bengo]]></dc:creator>
        <description><![CDATA[
            <p>You should take this up with the Internet Engineering Task Force, International Standard Organization, or people involved with <a href="https://www.w3.org/XML/Activity" rel="noopener nofollow ugc">W3C’s XML Activity</a> that created <code>xsd:dateTime</code>.</p>
<p>A lot of the internet uses this data exchange format. If your suggestion would improve its completeness, it should be easy to get a +1 from someone involved in its creation. If that endorsement proves hard to secure, you’ll probably learn something along the way.</p>
          <p><a href="https://socialhub.activitypub.rocks/t/including-timezones-with-events/1112/5">Read full topic</a></p>
        ]]></description>
        <link>https://socialhub.activitypub.rocks/t/including-timezones-with-events/1112/5</link>
        <pubDate>Wed, 28 Oct 2020 18:10:46 +0000</pubDate>
        <guid isPermaLink="false">socialhub.activitypub.rocks-post-1112-5</guid>
        <source url="https://socialhub.activitypub.rocks/t/including-timezones-with-events/1112.rss">Including Timezones with Events?</source>
      </item>
      <item>
        <title>Including Timezones with Events?</title>
        <dc:creator><![CDATA[jarofgreen]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="bengo" data-post="3" data-topic="1112">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://socialhub.activitypub.rocks/letter_avatar_proxy/v4/letter/b/59ef9b/40.png" class="avatar"> bengo:</div>
<blockquote>
<p>The <code>xsd:dateTime</code> syntax, which I believe is the same as ISO-8601, also affords for describing the time zon if you really want to: <a href="https://www.w3.org/TR/xmlschema-2/#dateTime-timezones" rel="noopener nofollow ugc">https://www.w3.org/TR/xmlschema-2/#dateTime-timezones </a></p>
</blockquote>
</aside>
<p>Am I missing something, but does section 3.2.7.3 only allow for specifying timezones as a plus or minus hours offset? Unfortunately, for some use cases that is not good enough.</p>
<p>To dig into why, check out <a href="https://derickrethans.nl/storing-date-time-in-database.html" rel="noopener nofollow ugc">https://derickrethans.nl/storing-date-time-in-database.html</a> - it starts with</p>
<blockquote>
<p>Firstly let me explain why storing a UTC offset is not adequate at all for doing any sort of calculations. Right now (March 25th, 2010), Montreal is on the same time as Santiago (in Chile) with both a UTC offset of -4 hours.</p>
</blockquote>
<p>and goes into a very detailed example from there.</p>
<aside class="quote no-group" data-username="bengo" data-post="3" data-topic="1112">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://socialhub.activitypub.rocks/letter_avatar_proxy/v4/letter/b/59ef9b/40.png" class="avatar"> bengo:</div>
<blockquote>
<p>With that said, the strings sort nicer if services normalize them to UTC (if possible) before rendering. That’s just a nice-to-have, though.</p>
</blockquote>
</aside>
<p>Sure, the app should present information all in one time zone to the user for a nice user experience, but to me that’s a different issue - the data exchange should be actually useful first, and it looks like it’s not really?</p>
          <p><a href="https://socialhub.activitypub.rocks/t/including-timezones-with-events/1112/4">Read full topic</a></p>
        ]]></description>
        <link>https://socialhub.activitypub.rocks/t/including-timezones-with-events/1112/4</link>
        <pubDate>Tue, 27 Oct 2020 19:40:55 +0000</pubDate>
        <guid isPermaLink="false">socialhub.activitypub.rocks-post-1112-4</guid>
        <source url="https://socialhub.activitypub.rocks/t/including-timezones-with-events/1112.rss">Including Timezones with Events?</source>
      </item>
      <item>
        <title>Including Timezones with Events?</title>
        <dc:creator><![CDATA[bengo]]></dc:creator>
        <description><![CDATA[
            <p>The <code>xsd:dateTime</code> syntax, which I believe is the same as ISO-8601, also affords for describing the time zon if you really want to: <a href="https://www.w3.org/TR/xmlschema-2/#dateTime-timezones" rel="noopener nofollow ugc">https://www.w3.org/TR/xmlschema-2/#dateTime-timezones</a></p>
<p>With that said, the strings sort nicer if services normalize them to UTC (if possible) before rendering. That’s just a nice-to-have, though. The spec for activitypub, activitystreams2, xsd:dateTime all dont’ require you to use UTC.</p>
          <p><a href="https://socialhub.activitypub.rocks/t/including-timezones-with-events/1112/3">Read full topic</a></p>
        ]]></description>
        <link>https://socialhub.activitypub.rocks/t/including-timezones-with-events/1112/3</link>
        <pubDate>Tue, 27 Oct 2020 18:53:12 +0000</pubDate>
        <guid isPermaLink="false">socialhub.activitypub.rocks-post-1112-3</guid>
        <source url="https://socialhub.activitypub.rocks/t/including-timezones-with-events/1112.rss">Including Timezones with Events?</source>
      </item>
      <item>
        <title>Including Timezones with Events?</title>
        <dc:creator><![CDATA[jarofgreen]]></dc:creator>
        <description><![CDATA[
            <p>Here are some blog posts that explain in really quite a lot of detail (you have been warned) the problems with just storing UTC:</p>
<aside class="onebox allowlistedgeneric">
  <header class="source">
      <img src="https://s1.wp.com/i/favicon.ico" class="site-icon" width="32" height="32">
      <a href="https://codeblog.jonskeet.uk/2019/03/27/storing-utc-is-not-a-silver-bullet/" target="_blank" rel="noopener nofollow ugc" title="01:20PM - 27 March 2019">Jon Skeet's coding blog – 27 Mar 19</a>
  </header>
  <article class="onebox-body">
    <img src="https://socialhub.activitypub.rocks/uploads/default/original/1X/427a827e1b53c708ab0698ed1fac2195d6c45b98.jpeg" class="thumbnail onebox-avatar" width="200" height="200">

<h3><a href="https://codeblog.jonskeet.uk/2019/03/27/storing-utc-is-not-a-silver-bullet/" target="_blank" rel="noopener nofollow ugc">Storing UTC is not a silver bullet</a></h3>

<p>Note: this is a pretty long post. If you’re not interested in the details, the conclusion at the bottom is intended to be read in a standalone fashion. There’s also a related blog post …</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<br>
<aside class="onebox allowlistedgeneric">
  <header class="source">
      <a href="https://derickrethans.nl/storing-date-time-in-database.html" target="_blank" rel="noopener nofollow ugc">derickrethans.nl</a>
  </header>
  <article class="onebox-body">
    <img src="" class="thumbnail" width="" height="">

<h3><a href="https://derickrethans.nl/storing-date-time-in-database.html" target="_blank" rel="noopener nofollow ugc">Storing Date/Times in Databases — Derick Rethans</a></h3>



  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

          <p><a href="https://socialhub.activitypub.rocks/t/including-timezones-with-events/1112/2">Read full topic</a></p>
        ]]></description>
        <link>https://socialhub.activitypub.rocks/t/including-timezones-with-events/1112/2</link>
        <pubDate>Mon, 26 Oct 2020 22:06:16 +0000</pubDate>
        <guid isPermaLink="false">socialhub.activitypub.rocks-post-1112-2</guid>
        <source url="https://socialhub.activitypub.rocks/t/including-timezones-with-events/1112.rss">Including Timezones with Events?</source>
      </item>
      <item>
        <title>Including Timezones with Events?</title>
        <dc:creator><![CDATA[jarofgreen]]></dc:creator>
        <description><![CDATA[
            <p>Hey,</p>
<p>So I’m looking into how event stuff is done in ActivityPub, and I see start/end times can be set.</p>
<aside class="onebox allowlistedgeneric">
  <header class="source">
      <a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-starttime" target="_blank" rel="noopener nofollow ugc">w3.org</a>
  </header>
  <article class="onebox-body">
    <img src="" class="thumbnail" width="" height="">

<h3><a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-starttime" target="_blank" rel="noopener nofollow ugc">Activity Vocabulary</a></h3>



  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>So, you get the start/end times with an hours offset to UTC.</p>
<p>However, under certain circumstances, this may not be enough to store and show it correctly. Namely, when the timezone rules change.</p>
<p>(Other circumstances this becomes really important is if someone wants to set up an event that recurs weekly across a DST change - but that might be less important for ActivityPub use cases?)</p>
<p>Looking at a real example - <a href="https://test.mobilizon.org/@relay/outbox" rel="noopener nofollow ugc">https://test.mobilizon.org/@relay/outbox</a> - this just sends time in UTC. I can’t see anything in there that would tell me what timezone that should be.</p>
<p>Anyone else looked at this?</p>
          <p><a href="https://socialhub.activitypub.rocks/t/including-timezones-with-events/1112/1">Read full topic</a></p>
        ]]></description>
        <link>https://socialhub.activitypub.rocks/t/including-timezones-with-events/1112/1</link>
        <pubDate>Mon, 26 Oct 2020 22:05:40 +0000</pubDate>
        <guid isPermaLink="false">socialhub.activitypub.rocks-post-1112-1</guid>
        <source url="https://socialhub.activitypub.rocks/t/including-timezones-with-events/1112.rss">Including Timezones with Events?</source>
      </item>
  </channel>
</rss>
