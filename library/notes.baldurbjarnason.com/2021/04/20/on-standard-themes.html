<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    
    <title>
      
      Baldur Bjarnason - On standard themes for web components and the failure that is the Shadow DOM
      
	</title>

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    
    <link rel="stylesheet" type="text/css" href="../../../assets/css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="../../../assets/css/icons.css" />
    <link rel="stylesheet" type="text/css" href="../../../assets/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="../../../custom.css" />

	<link rel="me" href="https://micro.blog/baldur" />
	
	
	
	<link rel="authorization_endpoint" href="https://micro.blog/indieauth/auth" />
	<link rel="token_endpoint" href="https://micro.blog/indieauth/token" />
	<link rel="micropub" href="https://micro.blog/micropub" />
	<link rel="microsub" href="https://micro.blog/microsub" />
	<link rel="webmention" href="https://micro.blog/webmention" />
	<link rel="subscribe" href="https://micro.blog/users/follow" />

<meta name="title" content="Baldur Bjarnason - On standard themes for web components and the failure that is the Shadow DOM">
<meta name="description" content="Earlier I linked to this project:
 GitHub - castastrophe/wc-theming-standards: A naming standards repository for using Custom Properties to theme all the web components
 &hellip;and I still broadly like its approach to the problem but what started to nag at me is that I don’t think this problem should have existed in the first place.
Shadow DOM is unique among the technologies in the web components stack in that it breaks away from one of the conventions of the web that it inherited from the Unix Philosophy:">


<meta property="og:type" content="website">
<meta property="og:url" content="https://notes.baldurbjarnason.com/2021/04/20/on-standard-themes.html">
<meta property="og:title" content="Baldur Bjarnason - On standard themes for web components and the failure that is the Shadow DOM">
<meta property="og:description" content="Earlier I linked to this project:
 GitHub - castastrophe/wc-theming-standards: A naming standards repository for using Custom Properties to theme all the web components
 &hellip;and I still broadly like its approach to the problem but what started to nag at me is that I don’t think this problem should have existed in the first place.
Shadow DOM is unique among the technologies in the web components stack in that it breaks away from one of the conventions of the web that it inherited from the Unix Philosophy:">
<meta property="og:image" content="https://notes.baldurbjarnason.com/uploads/2021/c0f7a98dc5.jpg">


<meta property="twitter:card" content="summary">
<meta property="twitter:url" content="https://notes.baldurbjarnason.com/2021/04/20/on-standard-themes.html/">
<meta property="twitter:title" content="Baldur Bjarnason - On standard themes for web components and the failure that is the Shadow DOM">
<meta property="twitter:description" content="Earlier I linked to this project:
 GitHub - castastrophe/wc-theming-standards: A naming standards repository for using Custom Properties to theme all the web components
 &hellip;and I still broadly like its approach to the problem but what started to nag at me is that I don’t think this problem should have existed in the first place.
Shadow DOM is unique among the technologies in the web components stack in that it breaks away from one of the conventions of the web that it inherited from the Unix Philosophy:">
<meta property="twitter:image" content="https://notes.baldurbjarnason.com/uploads/2021/c0f7a98dc5.jpg">

    
    
</head>
    <body class="post-template">
        <header class="main-header"><svg width="300" height="300" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 442 442"><g fill-opacity=".502"><path d="M334 340L82 114l173 79z"></path><path d="M203 187l69 1-30 104z" fill="#070808"></path><path d="M219 212l9 136-101-192z" fill="#fff"></path><path d="M209 206L76 119l110 36z" fill="#0c0d0d"></path><path d="M265 256l-47 38 165 93z" fill="#f1f2f2"></path><path d="M246 200l-7-23-46-11zM222 213l-94 239 20-288z" fill="#fff"></path><path d="M219 249l21-56 44 60z" fill="#111"></path><path d="M55 109l48 17-22 1z" fill="#151515"></path><path d="M289 241l12 76 47 56z" fill="#909090"></path><path d="M153 145l69 41-1 30z"></path><path d="M257 212l64 82-34-138z" fill="#fff"></path><path d="M312 145l-77 48-75-50zM299 406l5-96-45-61zM75 116L281-16 141 139z" fill="#fff"></path><path d="M261 183l-5 92-34-15z" fill="#2c2d2d"></path><path d="M260 243l1-62-43 19z" fill="#333"></path><path d="M142 160l-45-30 20 24z" fill="#9c9c9c"></path><path d="M263 264l-44 2 57 28z" fill="#b3b3b3"></path><path d="M189 278l32-65-77-38z" fill="#fff"></path><path d="M208 244l207 189-392-95zM131 125L457 16 236 193zM280 241l-22-36 34-30z" fill="#fff"></path><path d="M222 235l13 42-40-54z" fill="#bebebe"></path><path d="M205 172l-72-32 99 81z" fill="#202020"></path><path d="M274 109L20 95l164 60z" fill="#fff"></path><path d="M282 240l46 85-37-31z" fill="#8e8e8e"></path><path d="M259 256l34 36 8 42z" fill="#fff"></path><path d="M256 185l16 75-44-62z" fill="#323333"></path><path d="M91 140l-22-20 47 19z" fill="#d8d9d9"></path><path d="M63 115l-15-10 11 2z" fill="#515151"></path><path d="M307 198l-38-24-27 6z" fill="#fdfefe"></path><path d="M273 191l-24-7-25 34z" fill="#424242"></path><path d="M269 231l-41-17 4 54z" fill="#202020"></path><path d="M298 265l-25-3-12-42z" fill="#4e4f4f"></path><path d="M172 153l-67-25 52 42z" fill="#2e2e2e"></path><path d="M135 165l-20-22 50 30z" fill="#838383"></path><path d="M89 131h23l-3 6z" fill="#404040"></path><path d="M222 218l-58 40-64-116z" fill="#fff"></path><path d="M309 285l30 70-34-39z" fill="#9e9e9e"></path><path d="M256 253l15 28-26-20z" fill="#686868"></path><path d="M45 103l65 25L249-16zM256 270l26 84-56-65zM272 232l-11-21 12-32z" fill="#fff"></path><path d="M457-16L271 226l72 104z" fill="#fff"></path><path d="M115 143l8-6-23 4z" fill="#595a5a"></path><path d="M188 189l18 18 20 3z" fill="#6e6e6e"></path><path d="M273 193l-14-10-42 20z" fill="#525252"></path><path d="M388 188l-75 19-77-32zM74 121l-90 17 204 63z" fill="#fff"></path><path d="M256 227l-43-50-58-13z" fill="#242424"></path><path d="M275 273l-17-16 3-9z" fill="#fff"></path><path d="M78 123l4-4-19-6z" fill="#222323"></path><path d="M232 253l-14-9 5-8z" fill="#6e6e6e"></path><path d="M309 325l-5-32-24-21z" fill="#adadad"></path><path d="M294 154l-91 17 32 21z" fill="#fff"></path><path d="M282 244l9 30 20 12z" fill="#828383"></path><path d="M255 267l7 19 16 3z" fill="#b0b0b0"></path><path d="M119 148l7-6 18 18z" fill="#575757"></path><path d="M135 137l24 11h-45z" fill="#444"></path><path d="M230 192l-12 36 20-29z" fill="#4e4d4d"></path><path d="M221 275l4-20-36-34z" fill="#f7f7f7"></path><path d="M256 197l15 43-16 12z" fill="#353535"></path><path d="M312 324l8 16-22-23z" fill="#eee"></path><path d="M293 319l-32-60 25 23zM370 413l87-84-162-73zM229 137l-105-10 75 39zM141 167l71 44-228 185z" fill="#fff"></path><path d="M177 189l16 2-26-16z" fill="#919191"></path><path d="M254 278l2-14h-7z" fill="#868686"></path><path d="M231 194l-12 19-34-48z" fill="#202020"></path><path d="M72 147l-10-15 49 5z" fill="#fff"></path><path d="M261 263l-12-4v-31z" fill="#363535"></path><path d="M201 235l15-9 5 7z" fill="#a6a6a6"></path><path d="M60 124l7-6 23 11z" fill="#fafafa"></path><path d="M206 198l-86-59 56 17z" fill="#282828"></path><path d="M119 131l4-147L24 94z" fill="#fff"></path><path d="M214 257l-25-35 31 22z" fill="#f1f1f1"></path><path d="M40 99l10 5 2 7z" fill="#bcbcbc"></path><path d="M263 183l-8 8 10-5z" fill="#868686"></path><path d="M237 193l34-30-74 3z" fill="#fff"></path><path d="M108 147l-11-6 22 3z" fill="#f1f1f1"></path><path d="M224 202l-3 33 45-44z" fill="#363636"></path><path d="M99 133l19 1-8 3z" fill="#393939"></path><path d="M130 161l8-2 2 12z" fill="#c6c6c6"></path><path d="M96 149l22 9 4-8z" fill="#fff"></path><path d="M196 227l13 6 11-12z" fill="#dcdcdc"></path><path d="M237 266l-10 2 21 9z" fill="#b4b4b4"></path><path d="M298 180l-70 6-81-51z" fill="#fff"></path><path d="M148 181l-57-27 38 3z" fill="#fdfdfd"></path><path d="M279 246l18 25-33-17z" fill="#585858"></path><path d="M262 261l-4-8 3-4z" fill="#fff"></path><path d="M230 259l42-22-39-22z" fill="#242424"></path><path d="M123 154l17 1-4-7z" fill="#525252"></path><path d="M273 236l-13 12 17 11z" fill="#404040"></path><path d="M237 273l1-15 16 11z" fill="#747373"></path><path d="M101 125l-22-8 37-31z" fill="#fff"></path><path d="M204 246l14-3 3-8z" fill="#bcbcbc"></path><path d="M310 289l22 53-31-40z" fill="#999"></path><path d="M243 204l-5 31 28-42z" fill="#282828"></path><path d="M272 293l-23-5-8-14z" fill="#e2e2e2"></path><path d="M296 258l-27-32 51-109z" fill="#fff"></path><path d="M311 306l-2-19-39-23z" fill="#929292"></path><path d="M93 134l18 4-27 7zM313 320l2 6-4 7z" fill="#f6f6f6"></path><path d="M126 147l-14 2 15-7z" fill="#575757"></path><path d="M167 163l33 26 8-15z" fill="#212121"></path><path d="M137 166l5-2-1-9z" fill="#5b5b5b"></path><path d="M83 126l9 7 1-4z" fill="#b7b7b7"></path><path d="M292 270l-15-4 2-26z" fill="#6b6b6b"></path><path d="M209 148l-4 24-38-25z" fill="#fdfdfd"></path><path d="M187 157l25 2 18 32z" fill="#fafafa"></path><path d="M265 294l-2-13 11 20z" fill="#f1f1f1"></path><path d="M217 251l8-4-3-5z" fill="#737373"></path><path d="M345 366l9 10-5-1z" fill="#d1d2d2"></path><path d="M229 243l25 14-23 5z" fill="#323131"></path><path d="M143 159l26 18-23-8z" fill="#7a7a7a"></path><path d="M330 372l-45-84-59 31z" fill="#fff"></path><path d="M242 188l11-4-19 16z" fill="#646464"></path><path d="M134 138l-16-6v12z" fill="#454545"></path><path d="M322 345l14 17-6-18z" fill="#d4d4d4"></path><path d="M254 184l-36 25 8 11z" fill="#464646"></path><path d="M231 276l6-2 1-9z" fill="#e5e5e5"></path></g></svg>
	<div class="h-card main-header-content">
		<h1 class=" blog-title">
			<a class="u-url p-name" href="../../../index.html">
				
           			Baldur Bjarnason
				
			</a>
		</h1>
		<p class="p-note blog-description">... works as a web developer in Hveragerði, Iceland, and writes about the web, digital publishing, and web/product development</p>
		<p class="p-note blog-description">These are his notes</p>
	</div>

	<div class="nav">
    
		
			
				<a class="nav- " role="presentation" href="../../../about/index.html">About</a>
			
		
			
				<a class="nav- " role="presentation" href="../../../archive/index.html">Archive</a>
			
		
			
				<a class="nav- " role="presentation" href="../../../main-site/index.html">Main Site</a>
			
		
			
				<a class="nav- " role="presentation" href="../../../replies/index.html">Replies</a>
			
		
	</div>
</header>

        
<main class="content" role="main">
  <article class="post h-entry">
    <header class="post-header">
      
      <section class="post-meta">
        <time class="post-date dt-published" datetime="2021-04-20 11:45:03 &#43;0000">April 20, 2021</time>
        <a class="u-author h-card" href="../../../index.html"></a>
      </section>
      <h2 class="post-title p-name">On standard themes for web components and the failure that is the Shadow DOM</h2>
    </header>
    <section class="post-content e-content">
      <p>Earlier I linked to this project:</p>

<blockquote>
<p><a href="https://github.com/castastrophe/wc-theming-standards">GitHub - castastrophe/wc-theming-standards: A naming standards repository for using Custom Properties to theme all the web components</a></p>
</blockquote>

<p>&hellip;and I still broadly like its approach to the problem but what started to nag at me is that I don’t think this problem should have existed in the first place.</p>

<p>Shadow DOM is unique among the technologies in the web components stack in that it breaks away from one of the conventions of the web that it inherited from the <a href="https://en.wikipedia.org/wiki/Unix_philosophy">Unix Philosophy</a>:</p>

<blockquote>
<p>do one thing and do it well</p>
</blockquote>

<p>Now, while the web and Unix’s descendants have been practically joined at the hip throughout their history, web standardisation has never been driven by the same principles and guidelines as those that have guided software development on Linux or *BSD.</p>

<p>But web development certainly <em>has</em> and that culture has informed web standards work.</p>

<p>Most web standards that reach broad use follow this principle. That ‘one thing’ is sometimes an extremely complicated thing, as with CSS Grid, but more often than not you tend to have features that start out narrow in scope and only get additional features later on.</p>

<p>The Shadow DOM breaks all of that. It does CSS scoping—prevents styles from escaping its scope; CSS encapsulation—styles from outside the scope can’t get in; event encapsulation; DOM encapsulation; and rudimentary template composition through <code>&lt;slot&gt;</code>. And more.</p>

<p>That’s five features that, for most organisations, have distinct and often incompatible use cases.</p>

<p>The Shadow DOM was designed by a huge tech company and was mostly informed by the needs of exceptionally large organisations with thousands of engineers. Companies that size <em>need</em> extreme encapsulation because there is no way that they can safely collaborate on each and every component.</p>

<p>But, much like Java is useless for most organisations but loved by the enterprise, this encapsulation is just a huge pain in the ass for everybody else.</p>

<p>(A good heuristic for which kind of organisation yours is: <em>irrespective of the language, would Ruby on Rails’s architecture and feature set suit your organisation’s needs?</em> If so, then Shadow DOM is probably going to be a pain in the ass for you.)</p>

<p>To get a sense of the additional work this creates for people just look at the project I linked to above:  it practically reimplements every single relevant CSS property as a custom variable.</p>

<p>We end up having to do this because,while non-gargantuan organisations have strong use cases for CSS encapsulation and scoping, those needs rarely coincide.</p>

<p>Most content website and form-oriented service sites (think government institutions) need CSS scoping so that the functional CSS for a component doesn’t bleed out and cause inconsistent styling.</p>

<p>But the core need there is consistent styling, which means that CSS encapsulation is a <strong>big</strong> problem. To make Shadow DOM components look visually consistent with the rest of the site we need to do a substantial amount of additional work which, a lot of the time, more than offsets the work savings represented by CSS <em>scoping</em>.</p>

<p>This is applies as well to Shadow DOM’s other features: the work saved by DOM encapsulation is lost again by having to redo or alter the scripts used to add accessible interactivity such as modals.</p>

<p>Shadow DOM can be useful for progressive enhancement and other problems but represents too much additional work to be used everywhere. More importantly, as a whole it represents a huge departure from how most of the rest of the web development stack behaves.</p>

<p>Having to use the Shadow DOM for web development is a bit like having to add islands of Java code in the middle of your Ruby script just for a single use case. Some developers would probably love being able to do so because they see Ruby as an unreliable, non-enterprise-y, liability.</p>

<p>But if you love Ruby, it would be a huge pain in the ass.</p>

<p>One of the reasons why developers are loving <a href="https://svelte.dev">Svelte</a> is that it offers many of the same features as the Shadow DOM, <em>using the same overall design as the standard uses</em>, but without bundling them into a ‘use one; use all’ package.</p>

<ul>
<li>You get style scoping, <em>without encapsulation</em>, by including a <code>&lt;style&gt;</code> element in the component itself.</li>
<li>You get <code>&lt;slot&gt;</code>-based template composition without buying into DOM encapsulation (unless you want to, in which case you can compile the component as a custom element that uses the Shadow DOM).</li>
<li>You get encapsulated <a href="https://svelte.dev/tutorial/component-events">component events</a> without having to encapsulate DOM events, native or custom.</li>
</ul>

<p>These are broadly the same features as the Shadow DOM brings to the table but they are much more useful because they can be used individually. You can mix and match global and scoped styles. You can use <code>&lt;slot&gt;</code> with or without CSS scoping. You can encapsulate events or you can just use native DOM custom events that aren’t encapsulated.</p>

<p>I’m not saying that everybody should go out and use Svelte. I <em>am</em> saying that Svelte represents a failure in web standardisation. It takes the shape that the platform <em>should have taken</em> but didn’t.</p>

<p>Unfortunately, I’m not sure any of the browser vendors have the appetite or capability to fix the situation.</p>

<p>Which is how frameworks get so popular.</p>

    </section>
    <footer class="post-footer">
      
    </footer>
  </article>


<script type="text/javascript" src="https://micro.blog/conversation.js?url=https%3a%2f%2fnotes.baldurbjarnason.com%2f2021%2f04%2f20%2fon-standard-themes.html"></script>


</main>

        <footer class="site-footer">
  <section class="rss"><a class="subscribe-button icon-feed" href="../../../feed.xml"></a></section>
  
  
  <section class="copyright">© 2021 Baldur Bjarnason</section>
  <section class="poweredby"><a href="http://thedarkroast.com/arabica">Arabica</a> theme by Sean Lunsford. Published with <a href="https://gohugo.io">Hugo</a> and <a href="https://micro.blog/">Micro.blog</a>.</section>
</footer>


		
		
    </body>
</html>
